window.__require=function e(t,o,n){function i(r,c){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AES:[function(e,t,o){"use strict";cc._RF.push(t,"a8574L2byhNxZgSqKOjs1Vn","AES");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AES=void 0;var a=e("../lib/BlockCipher"),r=[],c=[],s=[],l=[],u=[],p=[],d=[],f=[],h=[],y=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var o=0,n=0;for(t=0;t<256;t++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,r[o]=i,c[i]=o;var a=e[o],g=e[a],_=e[g],v=257*e[i]^16843008*i;s[o]=v<<24|v>>>8,l[o]=v<<16|v>>>16,u[o]=v<<8|v>>>24,p[o]=v,v=16843009*_^65537*g^257*a^16843008*o,d[i]=v<<24|v>>>8,f[i]=v<<16|v>>>16,h[i]=v<<8|v>>>24,y[i]=v,o?(o=a^e[e[e[_^a]]],n^=e[e[n]]):o=n=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],_=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return i(t,e),t.prototype.reset=function(){if(e.prototype.reset.call(this),!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,o=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],c=0;c<i;c++)if(c<n)a[c]=o[c];else{var s=a[c-1];c%n?n>6&&c%n==4&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=g[c/n|0]<<24),a[c]=a[c-n]^s}for(var l=this._invKeySchedule=[],u=0;u<i;u++)c=i-u,s=void 0,s=u%4?a[c]:a[c-4],l[u]=u<4||c<=4?s:d[r[s>>>24]]^f[r[s>>>16&255]]^h[r[s>>>8&255]]^y[r[255&s]]}},t.prototype.encryptBlock=function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,l,u,p,r)},t.prototype.decryptBlock=function(e,t){var o=e[t+1];e[t+1]=e[t+3],e[t+3]=o,this._doCryptBlock(e,t,this._invKeySchedule,d,f,h,y,c),o=e[t+1],e[t+1]=e[t+3],e[t+3]=o},t.prototype._doCryptBlock=function(e,t,o,n,i,a,r,c){for(var s=e[t]^o[0],l=e[t+1]^o[1],u=e[t+2]^o[2],p=e[t+3]^o[3],d=4,f=1;f<this._nRounds;f++){var h=n[s>>>24]^i[l>>>16&255]^a[u>>>8&255]^r[255&p]^o[d++],y=n[l>>>24]^i[u>>>16&255]^a[p>>>8&255]^r[255&s]^o[d++],g=n[u>>>24]^i[p>>>16&255]^a[s>>>8&255]^r[255&l]^o[d++],_=n[p>>>24]^i[s>>>16&255]^a[l>>>8&255]^r[255&u]^o[d++];s=h,l=y,u=g,p=_}var v=(c[s>>>24]<<24|c[l>>>16&255]<<16|c[u>>>8&255]<<8|c[255&p])^o[d++],m=(c[l>>>24]<<24|c[u>>>16&255]<<16|c[p>>>8&255]<<8|c[255&s])^o[d++],b=(c[u>>>24]<<24|c[p>>>16&255]<<16|c[s>>>8&255]<<8|c[255&l])^o[d++],C=(c[p>>>24]<<24|c[s>>>16&255]<<16|c[l>>>8&255]<<8|c[255&u])^o[d++];e[t]=v,e[t+1]=m,e[t+2]=b,e[t+3]=C},t.keySize=8,t}(a.BlockCipher);o.AES=_,cc._RF.pop()},{"../lib/BlockCipher":"BlockCipher"}],ActiveBox:[function(e,t,o){"use strict";cc._RF.push(t,"7db68c+jzVO2bWlPO6OJ3A6","ActiveBox");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator.requireComponent,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetNode=null,t.once=!0,t.listEvents=[],t}return i(t,e),t.prototype.start=function(){this.node.opacity=0},t.prototype.onCollisionEnter=function(e){cc.log("ActiveBox "+e.node.name),e.node===this.targetNode&&(cc.Component.EventHandler.emitEvents(this.listEvents),this.once&&(this.node.active=!1))},a([l(cc.Node)],t.prototype,"targetNode",void 0),a([l(cc.Boolean)],t.prototype,"once",void 0),a([l([cc.Component.EventHandler])],t.prototype,"listEvents",void 0),a([s,r(cc.BoxCollider)],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],ActiveFun:[function(e,t,o){"use strict";cc._RF.push(t,"2ca293bvCBCyJyFHvJJqHxD","ActiveFun");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],ArrayUtil:[function(e,t,o){"use strict";cc._RF.push(t,"28273v0gFZBtJL9nAz3j17h","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MathUtil"),i=function(){function e(){}return e.shuffle=function(e){var t,o,n;for(n=e.length;n;n--)t=Math.floor(Math.random()*n),o=e[n-1],e[n-1]=e[t],e[t]=o},e.maxOf=function(e,t){void 0===t&&(t=function(e,t){return e>t});for(var o=e[0],n=1;n<e.length;n++)t(e[n],o)&&(o=e[n]);return o},e.getShuffleArray=function(e){for(var t,o,n=e.length;0!==n;)o=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[o],e[o]=t;return e},e.removeElement=function(e,t){var o=e.indexOf(t);o>-1&&e.splice(o,1)},e.removeElements=function(e,t){t.forEach(function(t){this.removeElement(e,t)}.bind(this))},e.moveElementFromTo=function(e,t,o){var n=e.length;n<2||t<0||o<0||t>n-1||o>n-1||t===o||e.splice(o,0,e.splice(t,1)[0])},e.swapElement=function(e,t,o){if(t!==o){var n=e[t];e[t]=e[o],e[o]=n}},e.swapRandomElement=function(e){var t=e.length;if(!(t<2))for(var o=0;o<t;o++){var n=void 0;do{n=Math.floor(Math.random()*t)}while(o===n);this.swapElement(e,o,n)}},e.count=function(e,t){var o=0;return e.forEach(function(e){t(e)&&o++}),o},e.prototype.sortAscending_CardUIArray=function(e){e.sort(function(e,t){return e.id-t.id})},e.prototype.sortGroup_CardUIArray=function(t){e.shuffle(t)},e.prototype.indexOfMax=function(e,t){void 0===t&&(t=function(e,t){return e>t});for(var o=0,n=1;n<e.length;n++)t(e[n],e[o])&&(o=n);return o},e.prototype.firstIndexOf=function(e,t){for(var o=0;o<e.length;o++)if(t(e[o]))return o;return-1},e.prototype.lastIndexOf=function(e,t){for(var o=e.length-1;o>=0;o--)if(t(e[o]))return o;return-1},e.sumOf=function(e){return e.reduce(function(e,t){return e+t})},e.isStringInNoUpperLowerDistinguish=function(e,t){for(var o=e.toLowerCase(),n=0;n<t.length;n++)t[n]=t[n].toLowerCase();return t.indexOf(o)>=0},e.getRandomTwoSwapIndex=function(e){var t=n.default.randomInt(e),o=n.default.randomInt(e);return t===o&&((o+=1)===e&&(o-=2),o=o>=0?o:0),{first:t,sec:o}},e.findMaxLessThan=function(e,t,o){void 0===o&&(o=1);for(var n=e.length-1;n>0;n--)if(e[n]*o<=t)return n;return-1},e.getClone2DArray=function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].slice(0));return t},e.getClone1DArray=function(e){return[].concat(e)},e.get2DArrayOf1D=function(e,t){for(var o=[],n=Math.floor(e.length/t),i=0;i<n;i++){for(var a=[],r=i*t,c=r+t,s=r;s<c;s++)a.push(e[s]);o.push(a)}return o},e.concatNoDuplicate=function(e,t){for(var o=[].concat(e),n=0;n<t.length;n++)o.indexOf(t[n])<0&&o.push(t[n]);return o},e.getValue=function(e,t,o){return""===e[t]||null===e[t]||void 0===e[t]?o:e[t]},e}();o.default=i,cc._RF.pop()},{"./MathUtil":"MathUtil"}],AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"4fd31cuiKBAkI896NGa51Ca","AudioManager");var n=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioObj=void 0;var i=e("../../config/AudioPlayId"),a=e("../../GameData"),r=e("../../plugins/fb/FBInstantData"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(){function e(){this.sound=i.AudioPlayId.none,this.loop=!1,this.volume=1}return n([l({type:cc.Enum(i.AudioPlayId)})],e.prototype,"sound",void 0),n([l(cc.Boolean)],e.prototype,"loop",void 0),n([l({type:cc.Float,slide:!0,range:[0,1]})],e.prototype,"volume",void 0),n([s("AudioObj")],e)}();o.AudioObj=u;var p=function(){function e(){}return Object.defineProperty(e,"RealMusicVolume",{get:function(){return e._MusicEnable?e._MusicVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RealEffectVolume",{get:function(){return e._EffectEnable?e._EffectVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MusicVolume",{get:function(){return e._MusicVolume},set:function(t){e._MusicVolume=t,e.arrAudioPlayer.forEach(function(e){e.setMusicVolume(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EffectVolume",{get:function(){return e._EffectVolume},set:function(t){e._EffectVolume=t,e.arrAudioPlayer.forEach(function(e){e.setEffectVolume(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EffectEnable",{get:function(){return r.FBInstantData.getData([a.GameData.KEY_EFFECT_ENABLE],function(t){e._EffectEnable=t[a.GameData.KEY_EFFECT_ENABLE]},null),e._EffectEnable},set:function(t){var o;e._EffectEnable=t,r.FBInstantData.setData(((o={})[a.GameData.KEY_EFFECT_ENABLE]=e._EffectEnable,o));var n=t?e._EffectVolume:0;e.arrAudioPlayer.forEach(function(e){e.setEffectVolume(n)})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MusicEnable",{get:function(){return r.FBInstantData.getData([a.GameData.KEY_MUSIC_ENABLE],function(t){e._MusicEnable=t[a.GameData.KEY_MUSIC_ENABLE]},null),e._MusicEnable},set:function(t){var o;e._MusicEnable=t,r.FBInstantData.setData(((o={})[a.GameData.KEY_MUSIC_ENABLE]=e._MusicEnable,o));var n=t?e._MusicVolume:0;e.arrAudioPlayer.forEach(function(e){e.setMusicVolume(n)})},enumerable:!1,configurable:!0}),e.add=function(t){e.arrAudioPlayer.push(t)},e.remove=function(t){var o=e.arrAudioPlayer.indexOf(t);-1!==o&&e.arrAudioPlayer.splice(o,1)},e._MusicVolume=1,e._EffectVolume=1,e._MusicEnable=!0,e._EffectEnable=!0,e.arrAudioPlayer=[],e}();o.default=p,cc._RF.pop()},{"../../GameData":"GameData","../../config/AudioPlayId":"AudioPlayId","../../plugins/fb/FBInstantData":"FBInstantData"}],AudioPlayId:[function(e,t,o){"use strict";cc._RF.push(t,"64605gIrJdCDoFRiN/cHV+6","AudioPlayId"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlayId=void 0,function(e){e[e.none=0]="none",e[e.game_play_music=1]="game_play_music",e[e.game_play_music2=2]="game_play_music2",e[e.background_home=3]="background_home",e[e.lose_level=22]="lose_level",e[e.win_level=23]="win_level",e[e.effect_click=99]="effect_click",e[e.effect_lava_appear=100]="effect_lava_appear",e[e.effect_lava_x_water=101]="effect_lava_x_water",e[e.effect_gems=103]="effect_gems",e[e.effect_coin_collect=105]="effect_coin_collect",e[e.effect_fire_loop=106]="effect_fire_loop",e[e.effect_eat_meat=107]="effect_eat_meat",e[e.effect_drink=108]="effect_drink",e[e.effect_eat_apple=109]="effect_eat_apple",e[e.effect_attack_spear=110]="effect_attack_spear",e[e.effect_card_flip1=111]="effect_card_flip1",e[e.effect_card_flip2=112]="effect_card_flip2",e[e.effect_blink_blink=113]="effect_blink_blink",e[e.stick_block=150]="stick_block",e[e.stick_move=151]="stick_move",e[e.mom_say_u_u=180]="mom_say_u_u",e[e.mon_crying_short=186]="mon_crying_short",e[e.mon_crying_full=187]="mon_crying_full",e[e.mom_say_so_good=188]="mom_say_so_good",e[e.mom_die_lava=189]="mom_die_lava",e[e.mom_say_no_pls=190]="mom_say_no_pls",e[e.mom_crying=200]="mom_crying",e[e.mom_tremble=202]="mom_tremble",e[e.mom_sigh=203]="mom_sigh",e[e.mom_say_iloveyou=208]="mom_say_iloveyou",e[e.mom_say_help_me=209]="mom_say_help_me",e[e.daughter_cold_idle=210]="daughter_cold_idle",e[e.daughter_win_normal=211]="daughter_win_normal",e[e.daughter_crying=212]="daughter_crying",e[e.daughter_drowning=213]="daughter_drowning",e[e.daughter_drowning_win=214]="daughter_drowning_win",e[e.daughter_say_help_me_mom=215]="daughter_say_help_me_mom",e[e.daughter_teasing_na_na=216]="daughter_teasing_na_na",e[e.daughter_say_no=217]="daughter_say_no",e[e.daughter_say_areYReady=218]="daughter_say_areYReady",e[e.daughter_smile_lite=220]="daughter_smile_lite",e[e.rock_drop=230]="rock_drop",e[e.wood_drop=231]="wood_drop",e[e.fire_active=240]="fire_active",e[e.boomb_active=241]="boomb_active",e[e.daughter_dog_idle=280]="daughter_dog_idle",e[e.daughter_dog_win=281]="daughter_dog_win",e[e.daughter_sigh=282]="daughter_sigh",e[e.daughter_say_so_hungry=283]="daughter_say_so_hungry",e[e.bg_rain_thunder=300]="bg_rain_thunder",e[e.bg_wind=301]="bg_wind",e[e.daughter_say_ha=302]="daughter_say_ha",e[e.effect_downing=303]="effect_downing",e[e.effect_hammer_build=308]="effect_hammer_build",e[e.effect_new_update=309]="effect_new_update",e[e.mom_say_help_double=310]="mom_say_help_double",e[e.bg_big_wind=311]="bg_big_wind",e[e.effect_merge_attack=313]="effect_merge_attack",e[e.father_say_that_right=400]="father_say_that_right",e[e.native_sleep=500]="native_sleep",e[e.native_eat=501]="native_eat",e[e.native_say_yes_ahahah=502]="native_say_yes_ahahah",e[e.native_die=503]="native_die",e[e.boar_die=504]="boar_die",e[e.boar_attack=505]="boar_attack"}(o.AudioPlayId||(o.AudioPlayId={})),cc._RF.pop()},{}],AudioPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"9bfc9UVsnVBHbXGh3Z4oKcE","AudioPlayer");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlay=o.AudioObject=void 0;var r=e("./AudioManager"),c=e("../../config/AudioPlayId"),s=e("../../MainScene"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(){function e(){this.name=c.AudioPlayId.none,this.audioClip=null,this.isMusic=!1}return a([p({type:cc.Enum(c.AudioPlayId)})],e.prototype,"name",void 0),a([p({type:cc.AudioClip})],e.prototype,"audioClip",void 0),a([p(cc.Boolean)],e.prototype,"isMusic",void 0),a([u("AudioObject")],e)}();o.AudioObject=d;var f=function(e,t,o){this.audioId=e,this.volume=t,this.isMusic=o};o.AudioPlay=f;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arrayAudioObj=[],t.maps=null,t.arrayMusic=[],t.arrayEffect=[],t}return i(t,e),t.prototype.playAudio=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=1);var n,i=this.getAudioObject(e);if(!i)return cc.error("playAudio: "+e),null;if(i.isMusic){var a=cc.audioEngine.play(i.audioClip,t,o*r.default.RealMusicVolume);n=new f(a,o,!0),this.arrayMusic.push(n)}else a=cc.audioEngine.play(i.audioClip,t,o*r.default.RealEffectVolume),n=new f(a,o,!1),this.arrayEffect.push(n);return n},t.prototype.stopAudioPlay=function(e){var t;e.isMusic?-1!==(t=this.arrayMusic.indexOf(e))&&(cc.audioEngine.stop(e.audioId),this.arrayMusic.splice(t,1)):-1!==(t=this.arrayEffect.indexOf(e))&&(cc.audioEngine.stop(e.audioId),this.arrayEffect.splice(t,1))},t.prototype.setAudioPlayVolume=function(e,t){e.volume=t,e.isMusic?cc.audioEngine.setVolume(e.audioId,t*r.default.RealMusicVolume):cc.audioEngine.setVolume(e.audioId,t*r.default.RealEffectVolume)},t.prototype.setVolume=function(e){this.setMusicVolume(e),this.setEffectVolume(e)},t.prototype.setMusicVolume=function(e){this.arrayMusic.forEach(function(t){cc.audioEngine.setVolume(t.audioId,t.volume*e)})},t.prototype.setEffectVolume=function(e){this.arrayEffect.forEach(function(t){cc.audioEngine.setVolume(t.audioId,t.volume*e)})},t.prototype.stopAllAudio=function(){this.stopAllEffect(),this.stopAllMusic()},t.prototype.stopAllMusic=function(){this.arrayMusic.forEach(function(e){cc.audioEngine.stop(e.audioId)}),this.arrayMusic=[]},t.prototype.stopAllEffect=function(){this.arrayEffect.forEach(function(e){cc.audioEngine.stop(e.audioId)}),this.arrayEffect=[]},t.prototype.getAudioObject=function(e){return this.maps||this.initMaps(),this.maps.get(e)},t.prototype.initMaps=function(){var e=this;this.maps=new Map,this.arrayAudioObj.forEach(function(t){e.maps.set(t.name,t)})},t.playArrAudioObj=function(e){var t=[];return e.forEach(function(e){e.sound&&t.push(s.default.instance.audioPlayer.playAudio(e.sound,e.loop,e.volume))}),t},t.stopArrAudioObj=function(e){e.forEach(function(e){s.default.instance.audioPlayer.stopAudioPlay(e)})},t.prototype.onLoad=function(){r.default.add(this)},t.prototype.onDestroy=function(){r.default.remove(this),this.stopAllAudio()},a([p([d])],t.prototype,"arrayAudioObj",void 0),a([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","./AudioManager":"AudioManager"}],BackgroundLoader:[function(e,t,o){"use strict";cc._RF.push(t,"a964bAjM8hIm7cETX000x4q","BackgroundLoader"),Object.defineProperty(o,"__esModule",{value:!0}),o.BackgroundLoader=void 0;var n=function(){function e(){}return e.removeTask=function(e){var t=this.tasks.indexOf(e);-1!=t&&this.tasks.splice(t,1),console.log("completed. Remain: "+this.tasks.length)},e.addTask=function(e){var t=this;if(this.tasks.length>0){var o=this.tasks[this.tasks.length-1];o._completeCallback=function(){t.removeTask(o),e._callback()}}else e._callback();e._completeCallback=function(){t.removeTask(e)},this.tasks.push(e)},e.tasks=[],e}();o.BackgroundLoader=n,cc._RF.pop()},{}],Ball:[function(e,t,o){"use strict";cc._RF.push(t,"d2743cPFrhBHYqiAhT9tQzk","Ball");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../level/MapLevel"),c=e("../../config/AudioPlayId"),s=e("../../config/GroupConfig"),l=e("../../MainScene"),u=e("../../config/PhysicsConfig"),p=e("../../config/TagObject"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.available=!0,t.fx=null,t.sprite=null,t.physicsDensity="",t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){""==this.physicsDensity?u.PhysicsConfig.initPhysicConfig(this.node,"gems"):u.PhysicsConfig.initPhysicConfig(this.node,this.physicsDensity)},t.prototype.start=function(){o.transformCount=0},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.onCollisionEnter=function(e,t){if(this.available&&e.node.group===s.GroupConfig.COLLIDER)if(this.fx.active=!0,this.fx.setPosition(this.sprite.node.getPosition()),e.node.name==p.TagConfig.BOMB){var o=e.node.getComponent(p.default).tag2;if(o==p.TagConfig.GROUND){var n=cc.v2(this.node.position.x,this.node.position.y);return n=cc.v2(1e5*n.x,1e5*n.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(n,!0)}if(t.node.name==p.TagConfig.ROCK_BUILD&&r.default.instance.countRockBuildDestroyed++,o==p.TagConfig.NONE)return void(this.sprite.node.active=!1)}else this.sprite.node.active=!1},t.prototype.startTransform=function(){o.transformCount++,8===o.transformCount&&r.default.instance.isPlaying&&l.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_lava_x_water)},t.transformCount=0,a([h(cc.Node)],t.prototype,"fx",void 0),a([h(cc.Sprite)],t.prototype,"sprite",void 0),a([h()],t.prototype,"physicsDensity",void 0),o=a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],Base64:[function(e,t,o){"use strict";cc._RF.push(t,"fe7d21qbyVDDayHyj4vq4II","Base64"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base64=void 0;var n=e("../lib/WordArray"),i=function(){function e(){}return e.stringify=function(e){e.clamp();for(var t=[],o=0;o<e.sigBytes;o+=3)for(var n=(e.words[o>>>2]>>>24-o%4*8&255)<<16|(e.words[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e.words[o+2>>>2]>>>24-(o+2)%4*8&255,i=0;i<4&&o+.75*i<e.sigBytes;i++)t.push(this._map.charAt(n>>>6*(3-i)&63));var a=this._map.charAt(64);if(a)for(;t.length%4;)t.push(a);return t.join("")},e.parse=function(e){var t=e.length;if(void 0===this._reverseMap){this._reverseMap=[];for(var o=0;o<this._map.length;o++)this._reverseMap[this._map.charCodeAt(o)]=o}var n=this._map.charAt(64);if(n){var i=e.indexOf(n);-1!==i&&(t=i)}return this.parseLoop(e,t,this._reverseMap)},e.parseLoop=function(e,t,o){for(var i=[],a=0,r=0;r<t;r++)if(r%4){var c=o[e.charCodeAt(r-1)]<<r%4*2,s=o[e.charCodeAt(r)]>>>6-r%4*2;i[a>>>2]|=(c|s)<<24-a%4*8,a++}return new n.WordArray(i,a)},e._map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e._reverseMap=void 0,e}();o.Base64=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Base:[function(e,t,o){"use strict";cc._RF.push(t,"6e617383w5PTrGEqN772dO6","Base"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base=void 0;o.Base=function(){},cc._RF.pop()},{}],BgWinPanel:[function(e,t,o){"use strict";cc._RF.push(t,"a3f28xOzKpO5KOC17iRm5bB","BgWinPanel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.start=function(){this.node.children[0].active=!1;var e=cc.winSize;this.node.children[0].width=e.width+2e3,this.node.children[0].height=e.height+2e3},t.prototype.active=function(){this.node.children[0].active=!0},t.prototype.deActive=function(){this.node.children[0].active=!1},t._instance=null,o=a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],BigBang:[function(e,t,o){"use strict";cc._RF.push(t,"4b544/S0+VBi7Mf5oLI8B72","BigBang");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../MainScene"),c=e("../../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeAttack=.5,t.hitAttack=null,t.bumPrefab=null,t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.scheduleOnce(function(){e.hitAttack.removeComponent(cc.CircleCollider),e.node.destroy()},this.timeAttack),this.showBumEffect()},t.prototype.showBumEffect=function(){var e=cc.instantiate(this.bumPrefab);e.setPosition(this.node.getPosition()),e.scale=1,this.node.getParent().addChild(e),r.default.instance.audioPlayer.playAudio(c.AudioPlayId.boomb_active),cc.tween(e).delay(2).call(function(){e.destroy()}).start()},a([u(cc.Float)],t.prototype,"timeAttack",void 0),a([u(cc.Node)],t.prototype,"hitAttack",void 0),a([u(cc.Prefab)],t.prototype,"bumPrefab",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId"}],BigStone:[function(e,t,o){"use strict";cc._RF.push(t,"ae47diI/DNKZ6oYDkVlYShG","BigStone");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/PhysicsConfig"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"big_stone")},t.prototype.onCollisionEnter=function(e){e.node.group===r.GroupConfig.BERRIE||(e.node.group,r.GroupConfig.ROCK)},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],BlockCipherModeAlgorithm:[function(e,t,o){"use strict";cc._RF.push(t,"215dcJ9eM1NZ5FV34H+5WBP","BlockCipherModeAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherModeAlgorithm=void 0;var n=function(){function e(e,t){this.init(e,t)}return e.prototype.init=function(e,t){this._cipher=e,this._iv=t},e}();o.BlockCipherModeAlgorithm=n,cc._RF.pop()},{}],BlockCipherMode:[function(e,t,o){"use strict";cc._RF.push(t,"2ccb35VwFBIlZEfT5t0TZkz","BlockCipherMode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherMode=void 0;var n=e("./BlockCipherModeAlgorithm"),i=function(){function e(){}return e.createEncryptor=function(e,t){return new(0,this.Encryptor)(e,t)},e.createDecryptor=function(e,t){return new(0,this.Decryptor)(e,t)},e.Encryptor=n.BlockCipherModeAlgorithm,e.Decryptor=n.BlockCipherModeAlgorithm,e}();o.BlockCipherMode=i,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],BlockCipher:[function(e,t,o){"use strict";cc._RF.push(t,"5c4e1pBgXZCvKCvVYX8KbUO","BlockCipher");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipher=void 0;var a=e("./Cipher"),r=e("../mode/CBC"),c=e("../pad/PKCS7"),s=function(e){function t(t,o,n){return e.call(this,t,o,Object.assign({blockSize:4,mode:r.CBC,padding:c.PKCS7},n))||this}return i(t,e),t.prototype.reset=function(){if(e.prototype.reset.call(this),void 0===this.cfg.mode)throw new Error("missing mode in config");var t;this._xformMode===this.constructor._ENC_XFORM_MODE?t=this.cfg.mode.createEncryptor:(t=this.cfg.mode.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator===t?this._mode.init(this,this.cfg.iv&&this.cfg.iv.words):(this._mode=t.call(this.cfg.mode,this,this.cfg.iv&&this.cfg.iv.words),this._mode.__creator=t)},t.prototype._doProcessBlock=function(e,t){this._mode.processBlock(e,t)},t.prototype._doFinalize=function(){if(void 0===this.cfg.padding)throw new Error("missing padding in config");var e;if(this._xformMode===this.constructor._ENC_XFORM_MODE){if(void 0===this.cfg.blockSize)throw new Error("missing blockSize in config");this.cfg.padding.pad(this._data,this.cfg.blockSize),e=this._process(!0)}else e=this._process(!0),this.cfg.padding.unpad(e);return e},t}(a.Cipher);o.BlockCipher=s,cc._RF.pop()},{"../mode/CBC":"CBC","../pad/PKCS7":"PKCS7","./Cipher":"Cipher"}],Boar:[function(e,t,o){"use strict";cc._RF.push(t,"138cbQcBgxKAYcz7/WGZ6Oj","Boar");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./Enemies"),c=e("../../../config/GroupConfig"),s=e("../../../config/TagObject"),l=e("../../../config/GlobalSignals"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eatAnim="Win",t.eatAnim2="Win2",t.isEating=!1,t}return i(t,e),t.prototype.onAttackCollider=function(t,o){var n=this;this.isEating||(e.prototype.onAttackCollider.call(this,t,o),t.node.group===c.GroupConfig.ITEM&&t.node.name==s.TagConfig.MEAT&&(this.isEating=!0,this.rotateFaceToTarget(t.node),this.skeleton.setCompleteListener(null),this.playAnimation(this.eatAnim).addAnimation(this.eatAnim2,!0),this.scheduleOnce(function(){n.moveRight(n.walkAnim),l.GlobalSignals.questPassSignal.dispatch()},1),t.node.destroy()))},t.prototype.onSearchCollider=function(t){this.isEating||e.prototype.onSearchCollider.call(this,t)},t.prototype.playAttack=function(t){e.prototype.playAttack.call(this,t)},t.prototype.onDieIce=function(){e.prototype.onDieIce.call(this)},t.prototype.onDieNormal=function(){e.prototype.onDieNormal.call(this)},t.prototype.onDieFire=function(){e.prototype.onDieFire.call(this)},a([d(cc.String)],t.prototype,"eatAnim",void 0),a([d(cc.String)],t.prototype,"eatAnim2",void 0),a([p],t)}(r.default);o.default=f,cc._RF.pop()},{"../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","./Enemies":"Enemies"}],Bomb:[function(e,t,o){"use strict";cc._RF.push(t,"27a9fLgW7hIIrOK0rr5oTkV","Bomb");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/PhysicsConfig"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bigBangPrefab=null,t}return i(t,e),t.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"bomb")},t.prototype.onCollisionEnter=function(e){e.node.group!==r.GroupConfig.CHARACTER&&e.node.group!==r.GroupConfig.BERRIE&&e.node.group!==r.GroupConfig.ROCK||this.attack()},t.prototype.attack=function(){this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider);var e=cc.instantiate(this.bigBangPrefab),t=this.node.getParent().getParent();e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),this.node.destroy()},a([u(cc.Prefab)],t.prototype,"bigBangPrefab",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],BufferedBlockAlgorithmConfig:[function(e,t,o){"use strict";cc._RF.push(t,"bcd7aXTUztHaIlBMuneitvv","BufferedBlockAlgorithmConfig"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],BufferedBlockAlgorithm:[function(e,t,o){"use strict";cc._RF.push(t,"4389exlQERFmIkVyMSSB/Ub","BufferedBlockAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedBlockAlgorithm=void 0;var n=e("../lib/WordArray"),i=e("../enc/Utf8"),a=function(){function e(e){this._minBufferSize=0,this.cfg=Object.assign({blockSize:1},e),this._data=new n.WordArray,this._nDataBytes=0}return e.prototype.reset=function(){this._data=new n.WordArray,this._nDataBytes=0},e.prototype._append=function(e){"string"==typeof e&&(e=i.Utf8.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},e.prototype._process=function(e){if(!this.cfg.blockSize)throw new Error("missing blockSize in config");var t,o=4*this.cfg.blockSize,i=this._data.sigBytes/o,a=(i=e?Math.ceil(i):Math.max((0|i)-this._minBufferSize,0))*this.cfg.blockSize,r=Math.min(4*a,this._data.sigBytes);if(a){for(var c=0;c<a;c+=this.cfg.blockSize)this._doProcessBlock(this._data.words,c);t=this._data.words.splice(0,a),this._data.sigBytes-=r}return new n.WordArray(t,r)},e.prototype.clone=function(){var e=this.constructor();for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e._data=this._data.clone(),e},e}();o.BufferedBlockAlgorithm=a,cc._RF.pop()},{"../enc/Utf8":"Utf8","../lib/WordArray":"WordArray"}],BuildItem:[function(e,t,o){"use strict";cc._RF.push(t,"12a4e0zqF5DaIEITCLGrj4m","BuildItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../GameData"),c=e("../../MainScene"),s=e("../../ResUtil"),l=e("../../base/utils/MathUtil"),u=e("../../config/AudioPlayId"),p=e("../../config/GlobalSignals"),d=e("./IslandConfig"),f=e("./UpgradeBuilding"),h=cc._decorator,y=h.ccclass,g=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.islandItem="",t.sprite=null,t.upgradeButton=null,t.textFloatCoin=null,t.delayFloat=0,t.level=null,t.dir="",t}return i(t,e),t.prototype.initItem=function(e,t,o){var n=this;this.level=t,this.dir=e,s.ResUtil.loadSprite(e+t,function(e){var o=new cc.SpriteFrame;o.setTexture(e),n.sprite.spriteFrame=o,n.upgradeButton.init(t)}),this.callbackEffect=o,this.getCoinText(),this.floatUpCoins()},t.prototype.noneActive=function(e,t){this.dir=e,this.callbackEffect=t,this.upgradeButton.init(0)},t.prototype.upgradeFunc=function(){var e=this;this.upgradeButton.node.active=!1,this.callbackEffect(this.node.position,function(){if(c.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_new_update),e.upgradeButton.node.active=!0,e.level++,!(e.level>5)){var t=e.level;e.node.active=!0,s.ResUtil.loadSprite(e.dir+t,function(t){var o=new cc.SpriteFrame;o.setTexture(t),e.sprite.spriteFrame=o,e.upgradeButton.init(e.level),r.GameData.setUpgadeDecor(e.islandItem,e.level,null),d.IslandConfig.calculateBonus(),p.GlobalSignals.updateCoinPerSecSignal.dispatch(),p.GlobalSignals.updateBuildButton.dispatch(),e.getCoinText()})}})},t.prototype.getCoinText=function(){this.textFloatCoin.string=(d.IslandConfig.minMoney[this.level-1]/10).toString()},t.prototype.floatUpCoins=function(){var e=this,t=function(){e.textFloatCoin.node.opacity=255,e.textFloatCoin.node.position=cc.v3(0),e.textFloatCoin.node.active=!1,e.textFloatCoin.node.active=!0,cc.tween(e.textFloatCoin.node).by(1.2,{position:cc.v3(0,100),opacity:-255}).start()},o=l.default.randomBeetWeenFloor(0,10);this.scheduleOnce(function(){t(),e.textFloatCoin.schedule(t,e.delayFloat)},o)},t.prototype.onDisable=function(){this.textFloatCoin&&this.textFloatCoin.unscheduleAllCallbacks()},a([g(cc.String)],t.prototype,"islandItem",void 0),a([g(cc.Sprite)],t.prototype,"sprite",void 0),a([g(f.default)],t.prototype,"upgradeButton",void 0),a([g(cc.Label)],t.prototype,"textFloatCoin",void 0),a([g(cc.Float)],t.prototype,"delayFloat",void 0),a([y],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../../GameData":"GameData","../../MainScene":"MainScene","../../ResUtil":"ResUtil","../../base/utils/MathUtil":"MathUtil","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","./IslandConfig":"IslandConfig","./UpgradeBuilding":"UpgradeBuilding"}],Bullet:[function(e,t,o){"use strict";cc._RF.push(t,"ce76b+UskFF5pu2I3GghrjS","Bullet");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onCollisionEnter=function(e){var t=this;e.node.group===r.GroupConfig.CHARACTER&&(this.scheduleOnce(function(){t.node.opacity=0,cc.Tween.stopAllByTarget(t.node)},.05),this.scheduleOnce(function(){t.node.active=!1,t.node.destroy()},.2))},t.velocityHit=500,a([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],ButtonActive:[function(e,t,o){"use strict";cc._RF.push(t,"3b1c8B5ioNCjbQb6w+1FUpy","ButtonActive");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.active=null,t.deactive=null,t}return i(t,e),t.prototype.activeBtn=function(){this.active.active=!0,this.deactive.active=!1},t.prototype.deactiveBtn=function(){this.active.active=!1,this.deactive.active=!0},a([s(cc.Node)],t.prototype,"active",void 0),a([s(cc.Node)],t.prototype,"deactive",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],CBCDecryptor:[function(e,t,o){"use strict";cc._RF.push(t,"f9d4fl6l0ZOfKWQbNvYaQ8m","CBCDecryptor");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCDecryptor=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processBlock=function(e,t){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");var o=e.slice(t,t+this._cipher.cfg.blockSize);this._cipher.decryptBlock(e,t),this.xorBlock(e,t,this._cipher.cfg.blockSize),this._prevBlock=o},t.prototype.xorBlock=function(e,t,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)e[t+i]^=n[i]},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCDecryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBCEncryptor:[function(e,t,o){"use strict";cc._RF.push(t,"3156akD5EtMw61Y5xYGHwVX","CBCEncryptor");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCEncryptor=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processBlock=function(e,t){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");this.xorBlock(e,t,this._cipher.cfg.blockSize),this._cipher.encryptBlock(e,t),this._prevBlock=e.slice(t,t+this._cipher.cfg.blockSize)},t.prototype.xorBlock=function(e,t,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)e[t+i]^=n[i]},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCEncryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBC:[function(e,t,o){"use strict";cc._RF.push(t,"397bcXouhFJRIwYe7GnQ3+D","CBC");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBC=void 0;var a=e("./BlockCipherMode"),r=e("./CBCEncryptor"),c=e("./CBCDecryptor"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.Encryptor=r.CBCEncryptor,t.Decryptor=c.CBCDecryptor,t}(a.BlockCipherMode);o.CBC=s,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./CBCDecryptor":"CBCDecryptor","./CBCEncryptor":"CBCEncryptor"}],CampFire:[function(e,t,o){"use strict";cc._RF.push(t,"9a5058eOI5F9Zi0Yfr8JGFU","CampFire");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../MainScene"),c=e("../../config/AudioPlayId"),s=e("../../config/GlobalSignals"),l=e("../../config/GroupConfig"),u=e("../../level/MapLevel"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.animation="",t.percent=null,t.fire=null,t.fxFireCollided=null,t.isPlayed=!1,t.rate=0,t}return i(t,e),t.prototype.onEnable=function(){this.percent.string="0%",this.rate=0},t.prototype.onCollisionEnter=function(e){var t=this;if(e.node.group===l.GroupConfig.ROCK){if(e.node.active=!1,this.rate+=10,this.rate<100?this.percent.string=this.rate+"%":this.percent.string="100%",!this.isPlayed){this.playAnimation(this.animation,!1);var o=this.skeleton.findAnimation(this.animation).duration;this.scheduleOnce(function(){t.checkPercent()},o)}this.isPlayed=!0,r.default.instance.audioPlayer.playAudio(c.AudioPlayId.rock_drop,!1,.5)}if(e.node.group===l.GroupConfig.WOOD&&(e.node.active=!1,r.default.instance.audioPlayer.playAudio(c.AudioPlayId.wood_drop,!1,.5),this.rate+=30,this.rate<100?this.percent.string=this.rate+"%":this.percent.string="100%",this.isPlayed||(this.playAnimation(this.animation,!1),o=this.skeleton.findAnimation(this.animation).duration,this.scheduleOnce(function(){u.default.instance.isPlaying&&u.default.instance.isQuestBuilding&&s.GlobalSignals.questPassSignal.dispatch()},o)),this.isPlayed=!0),e.node.group===l.GroupConfig.MATCHBOX&&(e.node.active=!1,this.fire.active=!0,r.default.instance.audioPlayer.playAudio(c.AudioPlayId.fire_active),this.scheduleOnce(function(){u.default.instance.isPlaying&&s.GlobalSignals.questPassSignal.dispatch()},.3)),e.node.group===l.GroupConfig.COAL){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.rock_drop,!1,.2);var n=1/u.default.instance.total*100;return this.rate+=n,this.percent.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.showFxFireCollided(e.node),e.node.active=!1,void(this.rate>=100&&u.default.instance.isPlaying&&(this.fire.active=!0,r.default.instance.audioPlayer.playAudio(c.AudioPlayId.fire_active),s.GlobalSignals.questPassSignal.dispatch()))}e.node.group===l.GroupConfig.WATER&&(e.node.active=!1,this.rate+=20,this.rate>=100&&(this.fire.active=!1),r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_lava_x_water,!1,.5))},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this},t.prototype.showFxFireCollided=function(e){var t=cc.instantiate(this.fxFireCollided);t.position=e.position,t.parent=e.getParent()},t.prototype.checkPercent=function(){u.default.instance.isPlaying&&u.default.instance.isQuestBuilding&&(this.rate<100?s.GlobalSignals.questFailSignal.dispatch():s.GlobalSignals.questPassSignal.dispatch())},a([f(sp.Skeleton)],t.prototype,"skeleton",void 0),a([f()],t.prototype,"animation",void 0),a([f(cc.Label)],t.prototype,"percent",void 0),a([f(cc.Node)],t.prototype,"fire",void 0),a([f(cc.Prefab)],t.prototype,"fxFireCollided",void 0),a([d],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel"}],CardItem:[function(e,t,o){"use strict";cc._RF.push(t,"8a6e7cRwFNBJYxu2qBouPTZ","CardItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=cc._decorator,s=c.ccclass,l=c.property,u=cc.easeCubicActionIn,p=cc.easeCubicActionOut,d=e("../base/SetLabelLanguage"),f=e("../MainScene"),h=e("../config/AudioPlayId"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.level=null,t.number=null,t.nameCardIcon=null,t.closed=null,t.open=null,t.loadProcess=null,t.fillSprite=null,t.tick=null,t.sparkFx=null,t.normalSprite=null,t.skinId=null,t.callback=null,t}return i(t,e),t.prototype.initIconItem=function(e,t,o,n,i,a){this.skinId=e,r.GameData.currentLevelId>=n?(this.closed.active=!1,t<9?(this.loadProcess.active=!0,this.tick.active=!1,this.number.string=t.toString(),this.fillSprite.fillRange=t/9):(this.loadProcess.active=!1,this.tick.active=!0)):this.open.active=!1,this.level.string=n.toString(),this.normalSprite=o,this.sprite.spriteFrame=o,r.GameData.currentLevelId<n&&this.sprite.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.nameCardIcon.string=d.ChangeLanguage.getText(""+i),this.callback=a},t.prototype.openPopup=function(){f.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_click,!1,.6),this.callback(this.skinId)},t.prototype.animUnlock=function(){var e=this,t=cc.instantiate(this.sprite.node);t.parent=this.sprite.node,t.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),t.position=new cc.Vec3(0),f.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_blink_blink),cc.tween(t).to(1,{scale:1.3},u()).call(function(){e.sparkFx.parent=e.sprite.node,e.sparkFx.position=new cc.Vec3(0),e.sparkFx.active=!0,t.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))}).to(1,{scale:1},p()).call(function(){e.closed.active=!1,e.open.active=!0}).start()},a([l(cc.Sprite)],t.prototype,"sprite",void 0),a([l(cc.Label)],t.prototype,"level",void 0),a([l(cc.Label)],t.prototype,"number",void 0),a([l(cc.Label)],t.prototype,"nameCardIcon",void 0),a([l(cc.Node)],t.prototype,"closed",void 0),a([l(cc.Node)],t.prototype,"open",void 0),a([l(cc.Node)],t.prototype,"loadProcess",void 0),a([l(cc.Sprite)],t.prototype,"fillSprite",void 0),a([l(cc.Node)],t.prototype,"tick",void 0),a([l(cc.Node)],t.prototype,"sparkFx",void 0),a([s],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../config/AudioPlayId":"AudioPlayId"}],CardOpen:[function(e,t,o){"use strict";cc._RF.push(t,"cbc72xcxL9Fg5N1Dnv42TuS","CardOpen");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/AudioPlayId"),c=e("../MainScene"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t}return i(t,e),t.prototype.initSprite=function(e){this.sprite.spriteFrame=e},t.prototype.close=function(){c.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.node.active=!1},a([u(cc.Sprite)],t.prototype,"sprite",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId"}],CardPrize:[function(e,t,o){"use strict";cc._RF.push(t,"815dbT0ofVMM6SUwMIdAwcP","CardPrize");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteBack=null,t.spriteFront=null,t.chestSkele=null,t.nodeSprite=null,t.number=null,t}return i(t,e),t.prototype.onLoad=function(){this.nodeSprite=this.node.children[0]},t.prototype.initCardPrize=function(e,t,o,n){this.spriteBack.spriteFrame=t,this.spriteFront.spriteFrame=e,this.chestSkele=o,n<2?this.number.node.parent.active=!1:this.number.string="X"+n},t.prototype.runAnim=function(){var e=this,t=this.nodeSprite.parent.convertToNodeSpaceAR(this.chestSkele.node.getParent().convertToWorldSpaceAR(this.chestSkele.node.position)),o=t,n=this.nodeSprite.position,i=180*Math.atan2(o.y-n.y,o.x-n.x)/Math.PI;this.nodeSprite.angle=i+90,this.nodeSprite.position=t,this.nodeSprite.scale=0,this.nodeSprite.active=!0,this.spriteFront.node.active=!1,cc.tween(this.nodeSprite).to(.5,{position:cc.v3(0),angle:0,scale:1}).to(.4,{scaleX:0}).call(function(){e.spriteBack.node.active=!1,e.spriteFront.node.active=!0}).to(.4,{scaleX:1}).start()},a([s(cc.Sprite)],t.prototype,"spriteBack",void 0),a([s(cc.Sprite)],t.prototype,"spriteFront",void 0),a([s(cc.Label)],t.prototype,"number",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],CardsCollectInfo:[function(e,t,o){"use strict";cc._RF.push(t,"e5a15jio0NCypUnjp2+uQiM","CardsCollectInfo");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/AudioPlayId"),c=e("../MainScene"),s=e("./CardOpen"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numberNode=null,t.sprite=null,t.number=null,t.cardOpen=null,t.spriteImg=null,t}return i(t,e),t.prototype.initCardsInfo=function(e,t,o){this.sprite.spriteFrame=e,this.numberNode.active=!1,t>1&&(this.numberNode.active=!0,this.number.string="x"+t),this.spriteImg=e,this.callback=o},t.prototype.initEmtyCard=function(){this.numberNode.active=!1},t.prototype.openCard=function(){c.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.callback&&this.callback()},a([p(cc.Node)],t.prototype,"numberNode",void 0),a([p(cc.Sprite)],t.prototype,"sprite",void 0),a([p(cc.Label)],t.prototype,"number",void 0),a([p(s.default)],t.prototype,"cardOpen",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","./CardOpen":"CardOpen"}],CardsCollectionPopup:[function(e,t,o){"use strict";cc._RF.push(t,"fe36eejwyJMprE2Us4iLR5a","CardsCollectionPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SetLabelLanguage"),c=e("../GameData"),s=e("./CardOpen"),l=e("./CardsCollectInfo"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteHeader=null,t.nameHeader=null,t.cards=null,t.cardInfo=null,t.cardOpen=null,t.pet1=[0,2,3,0,0,4,0,0,0],t}return i(t,e),t.prototype.onEnable=function(){this.cards.removeAllChildren()},t.prototype.initCards=function(e,t,o){for(var n=this,i=parseInt(e.slice(-1))-1,a=c.GameData.cards[i],s=function(t){var o=cc.instantiate(u.cardInfo);o.parent=u.cards;var i=o.getComponent(l.default);if(0!=a[t]){var r="HomeIsland/Sprites/Cards/CollectionCards/"+e+"/Card"+(t+1);u.loadCardImage(r,function(e){i.initCardsInfo(e,a[t],function(){n.cardOpen.node.active=!0,n.cardOpen.initSprite(e)})})}else i.initEmtyCard()},u=this,p=0;p<a.length;p++)s(p);this.spriteHeader.spriteFrame=t,this.nameHeader.string=r.ChangeLanguage.getText(""+o)},t.prototype.loadCardImage=function(e,t){cc.resources.load(e,function(e,o){if(!e&&t){var n=new cc.SpriteFrame;n.setTexture(o),t(n)}})},a([d(cc.Sprite)],t.prototype,"spriteHeader",void 0),a([d(cc.Label)],t.prototype,"nameHeader",void 0),a([d(cc.Node)],t.prototype,"cards",void 0),a([d(cc.Node)],t.prototype,"cardInfo",void 0),a([d(s.default)],t.prototype,"cardOpen",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../base/SetLabelLanguage":"SetLabelLanguage","./CardOpen":"CardOpen","./CardsCollectInfo":"CardsCollectInfo"}],CardsSetPopupIngame:[function(e,t,o){"use strict";cc._RF.push(t,"a0716qhu8JPDrUpQ1CMhzGj","CardsSetPopupIngame");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/AudioPlayId"),c=e("../config/GlobalSignals"),s=e("../GameData"),l=e("../HomeScreen"),u=e("../MainScene"),p=e("../PlayScreen"),d=e("../ResUtil"),f=e("./CardItem"),h=e("./CardsSetPopup"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardItem=null,t.layout=null,t.tapToContinue=null,t.spriteCard=[],t.dataLevel=[20,40,60,80,100,120,140,160,180],t.data={cards1:1,cards2:9,cards3:null,cards4:null,cards5:null,cards6:1,cards7:null,cards8:null,cards9:null},t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.layout.removeAllChildren(),Object.keys(s.GameData.myCardsSet).forEach(function(t,o){var n=cc.instantiate(e.cardItem);n.parent=e.layout;var i=n.getComponent(f.default),a=h.CardsConfig.getCardData(t);i.initIconItem(t,s.GameData.myCardsSet[t],e.spriteCard[o],a.dataLevel,a.name,function(){}),a.dataLevel-1==s.GameData.currentLevelId&&i.animUnlock()})},t.prototype.clickContinue=function(){u.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),19==s.GameData.currentLevelId?(c.GlobalSignals.questPassSignal.dispatch(),u.default.instance.showHomeScreen(),this.node.active=!1,d.ResUtil.loadPrefab("HomeIsland/Prefabs/GuideCards/GuideCards",function(e){var t=cc.instantiate(e);t.parent=l.default.instance.node,t.zIndex=10},null)):(c.GlobalSignals.questPassSignal.dispatch(),p.default.instance.winPanel.showWin(),this.node.active=!1)},t.prototype.close=function(){this.node.active=!1},a([_(cc.Node)],t.prototype,"cardItem",void 0),a([_(cc.Node)],t.prototype,"layout",void 0),a([_(cc.Node)],t.prototype,"tapToContinue",void 0),a([_([cc.SpriteFrame])],t.prototype,"spriteCard",void 0),a([g],t)}(cc.Component);o.default=v,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../ResUtil":"ResUtil","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","./CardItem":"CardItem","./CardsSetPopup":"CardsSetPopup"}],CardsSetPopup:[function(e,t,o){"use strict";cc._RF.push(t,"42745eMuTFIzLJnKqASnet3","CardsSetPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.CardsConfig=void 0;var r=e("../config/AudioPlayId"),c=e("../config/GlobalSignals"),s=e("../GameData"),l=e("../MainScene"),u=e("./CardItem"),p=e("./CardsCollectionPopup"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(){function e(){}return e.getCardData=function(t){for(var o=e.arrayCards,n=0;n<o.length;n++)if(o[n].cardId===t)return o[n];return null},e.arrayCards=[{cardId:"cards1",name:"teddy_bear",dataLevel:20},{cardId:"cards2",name:"bunny_rabbit",dataLevel:40},{cardId:"cards3",name:"froggy",dataLevel:60},{cardId:"cards4",name:"cutie_cat",dataLevel:80},{cardId:"cards5",name:"little_puppy",dataLevel:100},{cardId:"cards6",name:"loveable_furball",dataLevel:120},{cardId:"cards7",name:"bobby_goat",dataLevel:140},{cardId:"cards8",name:"minnie_mouse",dataLevel:160},{cardId:"cards9",name:"sunny_goldfish",dataLevel:180}],e}();o.CardsConfig=y;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardItem=null,t.layout=null,t.QA=null,t.cardsCollect=null,t.spriteCard=[],t.layoutGuide=null,t.blockNodeGuide=null,t.getCards=null,t.hand=null,t.dataLevel=[20,40,60,80,100,120,140,160,180],t.data={cards1:1,cards2:9,cards3:null,cards4:null,cards5:null,cards6:1,cards7:null,cards8:null,cards9:null},t}return i(t,e),t.prototype.onLoad=function(){this._refreshChest=this.init.bind(this),c.GlobalSignals.refreshChest.add(this._refreshChest),this.init()},t.prototype.init=function(){var e=this,t=s.GameData.setMyCardsSet();console.log(t),this.layout.removeAllChildren(),Object.keys(t).forEach(function(o,n){var i=cc.instantiate(e.cardItem);i.parent=e.layout;var a=i.getComponent(u.default),r=y.getCardData(o);a.initIconItem(o,t[o],e.spriteCard[n],r.dataLevel,r.name,function(t){e.openCardsCollect(t,e.spriteCard[n],r.name)})})},t.prototype.onEnable=function(){var e=this;if(s.GameData.isGuideCards){this.blockNodeGuide.active=!0;var t=Object.keys(s.GameData.myCardsSet)[0],o=cc.instantiate(this.cardItem);o.parent=this.layoutGuide;var n=o.getComponent(u.default),i=y.getCardData(t);n.initIconItem(t,s.GameData.myCardsSet[t],this.spriteCard[0],i.dataLevel,i.name,function(t){e.openCardsCollect(t,e.spriteCard[0],i.name),a.removeFromParent(),o.removeFromParent(),e.guide2()});var a=cc.instantiate(this.hand);a.parent=o,a.active=!0,a.setPosition(0,-70)}},t.prototype.guide2=function(){var e=cc.instantiate(this.hand);e.parent=this.getCards,e.active=!0},t.prototype.openCardsCollect=function(e,t,o){this.getCards.active=!0,this.cardsCollect.node.active=!0,this.cardsCollect.initCards(e,t,o)},t.prototype.closeCardsCollect=function(){l.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.getCards.active=!1,this.cardsCollect.node.active=!1},t.prototype.close=function(){l.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.node.active=!1},t.prototype.openQA=function(){l.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.QA.active=!0},t.prototype.closeQA=function(){l.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.QA.active=!1},t.prototype.openShop=function(){l.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),l.default.instance.showShopPopup(),this.cardsCollect.node.active=!1,this.getCards.active=!1,s.GameData.isGuideCards&&(this.blockNodeGuide.active=!1,this.getCards.children[1].removeFromParent())},a([h(cc.Node)],t.prototype,"cardItem",void 0),a([h(cc.Node)],t.prototype,"layout",void 0),a([h(cc.Node)],t.prototype,"QA",void 0),a([h(p.default)],t.prototype,"cardsCollect",void 0),a([h([cc.SpriteFrame])],t.prototype,"spriteCard",void 0),a([h(cc.Node)],t.prototype,"layoutGuide",void 0),a([h(cc.Node)],t.prototype,"blockNodeGuide",void 0),a([h(cc.Node)],t.prototype,"getCards",void 0),a([h(cc.Node)],t.prototype,"hand",void 0),a([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","./CardItem":"CardItem","./CardsCollectionPopup":"CardsCollectionPopup"}],CaseLose:[function(e,t,o){"use strict";cc._RF.push(t,"e1711AKdr9EF5q8b/ONLaA3","CaseLose"),Object.defineProperty(o,"__esModule",{value:!0}),o.CaseLose=void 0,function(e){e[e.NORMAL=0]="NORMAL",e[e.DIE_FOR_HIT=1]="DIE_FOR_HIT"}(o.CaseLose||(o.CaseLose={})),cc._RF.pop()},{}],Character:[function(e,t,o){"use strict";cc._RF.push(t,"028fayw1+FMb5Lyi+B6DgJG","Character");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../base/ColliderCallback"),c=e("./MoveCtrl"),s=e("./ColliderSearch"),l=e("./ColliderGround"),u=e("../../config/TagObject"),p=e("../../config/GroupConfig"),d=e("../../config/PhysicsConfig"),f=e("../../GameData"),h=e("../../base/utils/GUIUtil"),y=e("../../custom/DoubleSpine"),g=cc._decorator,_=g.ccclass,v=g.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.stun=null,t.hit=null,t.idleAnim="Idle",t.runAnim="Run",t.walkAnim="Walk",t.attackAnim="Attack",t.dieAnim="Die",t.dieFireAnim="Burned",t.dieIceAnim="Ice",t.rootCollider=null,t.groundCollider=null,t.headCollider=null,t.bodyCollider=null,t.attackCollider=null,t.handCollider=null,t.elementHand=null,t.searchCollider=null,t.posPet=null,t.ignoreFluids=[],t.doubleSpine=null,t.attackDistance=0,t.currentSkin="",t.deadCallback=null,t.isGround=!0,t.isDirty=!1,t._isAlive=!0,t.isRunning=!1,t.moveCtrl=null,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"isAlive",{get:function(){return this._isAlive},set:function(e){var t=this;this._isAlive=e,this._isAlive||(this.deadCallback&&this.deadCallback(this.node),this.moveCtrl&&(this.moveCtrl.stopMove(),this.moveCtrl.enabled=!1),this.scheduleOnce(function(){try{t.rootCollider.active=!1}catch(e){cc.warn(e)}},.2))},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if(this.make_spine_anim_mixing(this.skeleton),this.doubleSpine=this.node.getComponent(y.default),this.searchCollider&&(this.searchCollider.node.active=!0,this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this))),this.hit){var e=this.hit.getComponent(u.default);e&&(this.tagHit=e.tag2)}this.groundCollider.setGroundColliderCallback(this.onGroundCollisionEnter.bind(this)),this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),this.attackCollider.setColliderCallback(this.onAttackCollider.bind(this)),this.handCollider&&this.handCollider.setColliderCallback(this.onHandCollider.bind(this)),this.moveCtrl=this.getComponent(c.default),this.attackDistance=this.attackCollider.getComponent(cc.BoxCollider).size.width/2,this.currentSkin=this.skeleton.defaultSkin,this.playAnimation(this.idleAnim,!0),this.stun&&(this.stun.node.active=!1),d.PhysicsConfig.initPhysicConfig(this.node,"character")},t.prototype.setDeadCallback=function(e){this.deadCallback=e},t.prototype.checkIgnoreFluid=function(e){return-1!=this.ignoreFluids.indexOf(e)},t.prototype.addToIgnoreSearchCollier=function(e){this.searchCollider&&this.searchCollider.addToIgnore(e)},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this.doubleSpine&&this.doubleSpine.next_anim(e,t),this},t.prototype.addAnimation=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,e,t,o),this.doubleSpine&&this.doubleSpine.addAnimation(e,t,o),this},t.prototype.changeSkin=function(e){this.currentSkin=e,this.skeleton.setSkin(e),this.skeleton.setSlotsToSetupPose()},t.prototype.getCurrentSkin=function(){return this.currentSkin},t.prototype.getHandCollider=function(){return this.handCollider?this.handCollider:null},t.prototype.runToTarget=function(e){this.moveToTarget(e,this.runAnim)},t.prototype.walkToTarget=function(e){this.moveToTarget(e,this.walkAnim)},t.prototype.moveToTarget=function(e,t){var n=!0;if(e){var i=this.node.getParent().convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position)),a=e.getComponent(cc.BoxCollider),r=a?a.offset.x+a.size.width/2:0;if(Math.abs(this.node.position.x-i.x)<this.attackDistance+r)return;n=this.node.position.x<i.x}else n=this.node.scaleX===o.SCALE_RIGHT;n?this.moveRight(t):this.moveLeft(t)},t.prototype.rotateFaceToTarget=function(e){var t=this.node.getParent().convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position));this.node.position.x<t.x?this.node.scaleX=o.SCALE_RIGHT:this.node.scaleX=o.SCALE_LEFT},t.prototype.moveLeft=function(e){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_LEFT,this.moveCtrl.moveLeft(),""!=e&&this.playAnimation(e,!0))},t.prototype.moveRight=function(e){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_RIGHT,this.moveCtrl.moveRight(),""!=e&&this.playAnimation(e,!0))},t.prototype.moveJump=function(){this.moveCtrl&&this.moveCtrl.moveJump()},t.prototype.stopMove=function(){this.moveCtrl&&(this.isRunning=!1,this.moveCtrl.stopMove())},t.prototype.onAttackCollider=function(){},t.prototype.onHandCollider=function(){},t.prototype.onBodyCollider=function(){},t.prototype.onHeadCollider=function(){},t.prototype.onSearchCollider=function(){},t.prototype.onGroundCollisionEnter=function(e){this.isGround=e,this.attackCollider.node.active=e,this.searchCollider&&(this.searchCollider.node.active=e)},t.prototype.disablePhysicsBody=function(){var e=this.node.getComponent(cc.PhysicsCollider);e&&(e.enabled=!1,e.node.group=p.GroupConfig.DEAD,e.enabled=!0)},t.prototype.make_spine_anim_mixing=function(e,t){if(void 0===t&&(t=.3),!e)return null;var o=new sp.spine.AnimationStateData(e.skeletonData.getRuntimeData());return o.defaultMix=t,e.setAnimationStateData(o),o},t.prototype.initPetSkin=function(){f.GameData.CurrentPet&&h.default.addPetForCharacter(this.posPet)},t.prototype.runOpacity=function(e,t,o,n){e.opacity=t,cc.tween(e).to(n,{opacity:o}).start()},t.SCALE_RIGHT=1,t.SCALE_LEFT=-1,a([v(sp.Skeleton)],t.prototype,"skeleton",void 0),a([v(sp.Skeleton)],t.prototype,"stun",void 0),a([v(cc.Node)],t.prototype,"hit",void 0),a([v(cc.String)],t.prototype,"idleAnim",void 0),a([v(cc.String)],t.prototype,"runAnim",void 0),a([v(cc.String)],t.prototype,"walkAnim",void 0),a([v(cc.String)],t.prototype,"attackAnim",void 0),a([v(cc.String)],t.prototype,"dieAnim",void 0),a([v(cc.String)],t.prototype,"dieFireAnim",void 0),a([v(cc.String)],t.prototype,"dieIceAnim",void 0),a([v(cc.Node)],t.prototype,"rootCollider",void 0),a([v(l.default)],t.prototype,"groundCollider",void 0),a([v(r.default)],t.prototype,"headCollider",void 0),a([v(r.default)],t.prototype,"bodyCollider",void 0),a([v(r.default)],t.prototype,"attackCollider",void 0),a([v(r.default)],t.prototype,"handCollider",void 0),a([v(cc.Node)],t.prototype,"elementHand",void 0),a([v(s.default)],t.prototype,"searchCollider",void 0),a([v(cc.Node)],t.prototype,"posPet",void 0),a([v([cc.String])],t.prototype,"ignoreFluids",void 0),o=a([_],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../../GameData":"GameData","../../base/ColliderCallback":"ColliderCallback","../../base/utils/GUIUtil":"GUIUtil","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../custom/DoubleSpine":"DoubleSpine","./ColliderGround":"ColliderGround","./ColliderSearch":"ColliderSearch","./MoveCtrl":"MoveCtrl"}],CheckLose:[function(e,t,o){"use strict";cc._RF.push(t,"be25fs0gadGqZgk9yYV+13G","CheckLose");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./config/GlobalSignals"),c=e("./config/GroupConfig"),s=e("./config/TagObject"),l=e("./level/MapLevel"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fxSmokeOver=null,t.rate=0,t.checkDone=!1,t.count=0,t.totalInContainer=0,t}return i(t,e),t.prototype.start=function(){l.default.instance.container&&(l.default.instance.isQuestCollectWater||l.default.instance.isQuestCollectSmoke)&&(this.totalInContainer=l.default.instance.container.total)},t.prototype.onCollisionEnter=function(e){if(e.node.group!==c.GroupConfig.ITEM&&e.node.group!==c.GroupConfig.MATCHBOX)if(e.node.group!==c.GroupConfig.ROCK||e.node.name!=s.TagConfig.ROCK_BUILD)if(e.node.group!==c.GroupConfig.ROCK||e.node.name!==s.TagConfig.ROCK)if(e.node.group!==c.GroupConfig.GEMS||e.node.name!=s.TagConfig.COIN){if(e.node.group!==c.GroupConfig.SMOKE);else if(l.default.instance.container&&l.default.instance.isQuestCollectSmoke){var t=1/this.totalInContainer*100;if(this.rate+=t,this.rate>=10&&l.default.instance.isPlaying){var o=cc.instantiate(this.fxSmokeOver);this.node.addChild(o,1,"fx1"),r.GlobalSignals.questFailSignal.dispatch()}}}else{var n=l.default.instance.totalGems;if(n){var i=1/n*100;this.rate+=i,this.rate>=20&&l.default.instance.isPlaying&&r.GlobalSignals.questFailSignal.dispatch()}}else l.default.instance.isQuestKillEnemies&&l.default.instance.isPlaying&&r.GlobalSignals.questFailSignal.dispatch();else l.default.instance.countRockBuildDestroyed++;else this.scheduleOnce(function(){r.GlobalSignals.questFailSignal.dispatch()},.3)},a([d(cc.Prefab)],t.prototype,"fxSmokeOver",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./config/GlobalSignals":"GlobalSignals","./config/GroupConfig":"GroupConfig","./config/TagObject":"TagObject","./level/MapLevel":"MapLevel"}],CheckWinMulti:[function(e,t,o){"use strict";cc._RF.push(t,"8ef72f3CSpPcp0JKR1ZM4n4","CheckWinMulti");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./config/GlobalSignals"),c=e("./WinCallBack"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check1=null,t.win1=!1,t.check2=null,t.win2=!1,t}return i(t,e),t.prototype.onEnable=function(){this.check1.setCallback(this.checkWin1.bind(this)),this.check2.setCallback(this.checkWin2.bind(this))},t.prototype.checkWin1=function(){this.win1=!0,this.checkWinCallBack()},t.prototype.checkWin2=function(){this.win2=!0,this.checkWinCallBack()},t.prototype.checkWinCallBack=function(){this.win1&&this.win2&&r.GlobalSignals.questPassSignal.dispatch()},a([u(c.default)],t.prototype,"check1",void 0),a([u(c.default)],t.prototype,"check2",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./WinCallBack":"WinCallBack","./config/GlobalSignals":"GlobalSignals"}],CheckWinPuzzles:[function(e,t,o){"use strict";cc._RF.push(t,"c0cfdkLtMZFBIBjDt9H8LSc","CheckWinPuzzles");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var a=arguments[t],r=0,c=a.length;r<c;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../GameData"),s=e("../MainScene"),l=e("../PlayScreen"),u=e("../base/ColliderCallback"),p=e("../config/GameState"),d=e("../config/GlobalSignals"),f=e("../config/GroupConfig"),h=e("../config/TagObject"),y=e("../level/MapLevel"),g=e("../objects/more/ItemPuzzle"),_=e("./PuzzlesPopup"),v=cc._decorator,m=v.ccclass,b=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxCheck=null,t.popupPuzzle=null,t.itemPuzzle=null,t.isPlay=!0,t.popup=null,t}return i(t,e),t.prototype.start=function(){this.boxCheck.setColliderCallback(this.onHitCollider.bind(this))},t.prototype.onHitCollider=function(e){var t=this;if(e.node.group!=f.GroupConfig.ITEM||y.default.instance.isPlaying||(e.node.active=!1),e.node.group==f.GroupConfig.ITEM&&y.default.instance.isPlaying){if(e.node.name==h.TagConfig.MONEY_BAG)return e.node.active=!1,void d.GlobalSignals.questPassSignal.dispatch();var o=Math.abs(e.node.angle%360);e.node.angle=o;var n;if(n=o<180?0:360,this.isPlay){this.isPlay=!1,this.itemPuzzle.node.removeComponent(cc.RigidBody),this.itemPuzzle.node.removeComponent(cc.PhysicsCircleCollider),this.itemPuzzle.node.removeComponent(cc.BoxCollider),this.itemPuzzle.node.zIndex=1,this.popup=cc.instantiate(this.popupPuzzle),this.popup.parent=s.default.instance.node.parent,this.popup.children[1].active=!1;var i=this.popup.getComponent(_.default),a=r(c.GameData.arrayItem[c.GameData.currentItem].puzzles);a.push(this.itemPuzzle.puzzles),a.sort(),y.default.instance.gameState==p.GameState.PLAYING&&cc.tween(this.itemPuzzle.node).to(1.2,{position:cc.v3(0,0,0),angle:n,scale:1.9},{easing:"circOut"}).call(function(){i.getComponent(_.default).init(a,c.GameData.currentItem+1,function(){l.default.instance.showWinPopup(),c.GameData.addRoomItem(t.itemPuzzle.puzzles)},t.itemPuzzle.puzzles),d.GlobalSignals.questPassSignal.dispatch(),t.itemPuzzle.node.active=!1,t.popup.children[1].active=!0}).start()}}},t.prototype.onDisable=function(){this.popup&&this.popup.destroy()},a([b(u.default)],t.prototype,"boxCheck",void 0),a([b(cc.Prefab)],t.prototype,"popupPuzzle",void 0),a([b(g.default)],t.prototype,"itemPuzzle",void 0),a([m],t)}(cc.Component);o.default=C,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../base/ColliderCallback":"ColliderCallback","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/GroupConfig":"GroupConfig","../config/TagObject":"TagObject","../level/MapLevel":"MapLevel","../objects/more/ItemPuzzle":"ItemPuzzle","./PuzzlesPopup":"PuzzlesPopup"}],CheckWin:[function(e,t,o){"use strict";cc._RF.push(t,"2111dGwWeBJ8pJpQFi57+Ou","CheckWin");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./config/GlobalSignals"),c=e("./config/TagObject"),s=e("./level/MapLevel"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.compareGroup=!1,t.nodeToCompare=null,t.runFxWin=!1,t.winObjTag=c.TagConfig.NONE,t}return i(t,e),t.prototype.onCollisionEnter=function(e){if(this.compareGroup){if(e.node.group==this.nodeToCompare.group)return e.node.active=!1,void this.runWin(e.node,this.node)}else e.node.name==this.winObjTag&&(this.runWin(e.node,this.node),e.node.active=!1)},t.prototype.runWin=function(e,t){s.default.instance.isPlaying&&(this.runFxWin?this.runEffectItemWin(e,t,function(){r.GlobalSignals.questPassSignal.dispatch()},!0):r.GlobalSignals.questPassSignal.dispatch())},t.prototype.runEffectItemWin=function(e,t,o,n){var i=e.parent.convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),a=Math.abs(e.angle%360);e.angle=a;var r;r=a<180?0:360,e.getComponent(cc.RigidBody).fixedRotation=!0,e.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var c=cc.tween().to(.5,{angle:r,scale:1.2}),s=cc.tween().to(.5,{scale:1});e.removeComponent(cc.BoxCollider),cc.tween(e).sequence(c,s).repeat(2).delay(.5).to(.3,{position:i}).call(function(){o(),n&&(e.active=!1)}).start()},a([p()],t.prototype,"compareGroup",void 0),a([p({visible:function(){return this.compareGroup},type:cc.Node})],t.prototype,"nodeToCompare",void 0),a([p()],t.prototype,"runFxWin",void 0),a([p({type:cc.Enum(c.TagConfig)})],t.prototype,"winObjTag",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./config/GlobalSignals":"GlobalSignals","./config/TagObject":"TagObject","./level/MapLevel":"MapLevel"}],ChestOpen:[function(e,t,o){"use strict";cc._RF.push(t,"f1491FsD8VFnKgZbbhE4fUE","ChestOpen");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/utils/ArrayUtil"),c=e("../config/AudioPlayId"),s=e("../config/GlobalSignals"),l=e("../GameData"),u=e("../MainScene"),p=e("../ResUtil"),d=e("./CardPrize"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardScaleConfig=[{id:1,scale:1,spacing:1,spacingLeft:100,cards:2,rate:[50,80,93,98,100],price:0},{id:2,scale:1,spacing:1,spacingLeft:100,cards:4,rate:[35,70,93,98,100],price:3e4},{id:3,scale:.75,spacing:0,spacingLeft:0,cards:8,rate:[45,70,85,95,100],price:7e4}],t.starType1=[4,3,1,1,0],t.starType2=[3,2,2,1,1],t.cardConfig={},t.layoutContainer=null,t.chest=null,t.spriteBack=[],t.buttonBack=null,t.mapCards=[],t.dir="/HomeIsland/Sprites/Cards/CollectionCards/",t}return i(t,e),t.prototype.initInfo=function(e){var t=this;this.mapStarType();for(var o=this.getChestConfig(e.id),n=this.layoutContainer.node.children,i=0;i<this.layoutContainer.node.children.length;i++)i<o.cards?n[i].active=!0:n[i].active=!1;this.getRandomCards(o.rate,o.cards,function(n){t.node.active=!0,t.chest.setSkin("Skin"+e.id),t.chest.setAnimation(0,"Open",!1),t.chest.addAnimation(0,"Idle_Open",!0),l.GameData.saveCard(n),1!=o.id?l.GameData.addCoin(-o.price):l.GameData.saveFreeChest(),t.scheduleOnce(function(){t.animCards(n,o)},1),t.buttonBack.interactable=!1,t.scheduleOnce(function(){t.buttonBack.interactable=!0},.3*o.cards+1.5)})},t.prototype.getChestConfig=function(e){for(var t=0;t<this.cardScaleConfig.length;t++)if(this.cardScaleConfig[t].id===e)return this.cardScaleConfig[t]},t.prototype.animCards=function(e,t){var o=this;this.layoutContainer.spacingX=t.spacing,this.layoutContainer.paddingLeft=t.spacingLeft;for(var n=this.layoutContainer.node.children,i=function(i){n[i].scale=t.scale;var r=n[i].getComponent(d.default),s=e[i][0];a.getSpriteFrameCard(s,function(e){r.initCardPrize(e,o.spriteBack[s[2]],o.chest,l.GameData.cards[s[0]][s[1]]),cc.tween(n[i]).delay(.3*i).call(function(){u.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_card_flip2),r.runAnim(),i==t.cards-1&&u.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_blink_blink,!1,1)}).start()})},a=this,r=0;r<t.cards;r++)i(r)},t.prototype.getCardsSet=function(){for(var e=Object.values(l.GameData.myCardsSet),t=0;t<e.length;t++)if(l.GameData.currentLevelId<=20*t)return t;return 9},t.prototype.mapStarType=function(){for(var e=[],t=this.getCardsSet(),o=function(t){var o=void 0;o=0==t?n.starType1:n.starType2;var i=0;o.forEach(function(o,n){e[n]||(e[n]=[]);for(var a=0;a<o;a++){var r=[t,i,n];e[n].push(r),i++}})},n=this,i=0;i<t;i++)o(i);this.mapCards=e},t.prototype.getRandomCards=function(e,t,o){for(var n=[],i=0;i<t;i++)for(;n.length<t;)for(var a=100*Math.random()>>0,c=0;c<e.length;c++)a<e[c]&&(a>=e[c-1]||0==c)&&(r.default.shuffle(this.mapCards[c]),this.mapCards[c].slice(-1).length&&n.push(this.mapCards[c].splice(-1)));o(n)},t.prototype.getSpriteFrameCard=function(e,t){var o=e[0]+1,n=e[1]+1,i=this.dir+"cards"+o+"/Card"+n;p.ResUtil.loadSprite(i,function(e){var o=new cc.SpriteFrame;o.setTexture(e),t(o)})},t.prototype.close=function(){s.GlobalSignals.refreshChest.dispatch(),this.node.active=!1},a([y(cc.Layout)],t.prototype,"layoutContainer",void 0),a([y(sp.Skeleton)],t.prototype,"chest",void 0),a([y([cc.SpriteFrame])],t.prototype,"spriteBack",void 0),a([y(cc.Button)],t.prototype,"buttonBack",void 0),a([h],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../ResUtil":"ResUtil","../base/utils/ArrayUtil":"ArrayUtil","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","./CardPrize":"CardPrize"}],ChestShop:[function(e,t,o){"use strict";cc._RF.push(t,"0bc2dXGjgBB1oqfQDGicmLw","ChestShop");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SetLabelLanguage"),c=e("../config/AudioPlayId"),s=e("../GameData"),l=e("../MainScene"),u=e("./Chest"),p=e("./ChestOpen"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.daysFreeChest=216e5,t.id=null,t.parent=null,t.price=null,t.time=null,t.sprite=null,t.chestInfoPrefab=null,t.chestOpen=null,t.chestLocked=null,t.chestUnlocked=null,t.lockedSprite=null,t.timeNode=null,t.priceNode=null,t.btn=null,t.chestObject=null,t}return i(t,e),t.prototype.initChest=function(e,t,o,n){if(s.GameData.currentLevelId<20?(this.chestLocked.active=!0,this.chestUnlocked.active=!1,this.lockedSprite.spriteFrame=t):(this.chestLocked.active=!1,this.chestUnlocked.active=!0),this.chestObject=e,1!=e.id)s.GameData.playerCoin<e.price&&this.inactiveButton(),this.priceNode.active=!0,this.price.string=e.price;else{var i=Date.now();this.timeNode.active=!0,i-s.GameData.freeChest>this.daysFreeChest?this.time.string=r.ChangeLanguage.getText("free"):(this.inactiveButton(),this.updateTimeFreeChest())}this.sprite.spriteFrame=t,this.parent=o,n&&(this.callback=n)},t.prototype.showInfo=function(){l.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6);var e=cc.instantiate(this.chestInfoPrefab);e.parent=this.parent,e.getComponent(u.default).initChestInfo(this.chestObject,this.sprite.spriteFrame,this.clickBuy.bind(this))},t.prototype.clickBuy=function(){l.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6);var e=cc.instantiate(this.chestOpen);e.parent=this.parent,e.getComponent(p.default).initInfo(this.chestObject),this.callback&&this.callback()},t.prototype.getCurrentCardHave=function(){return Object.values(s.GameData.myCardsSet).filter(Boolean).length},t.prototype.inactiveButton=function(){this.btn.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.btn.getComponent(cc.Button).interactable=!1},t.prototype.updateTimeFreeChest=function(){var e=this,t=this.daysFreeChest+s.GameData.freeChest-Date.now();this.time.string=this.millisecondsToClock(t),t-=1e3,this.schedule(function(){e.time.string=e.millisecondsToClock(t),t-=1e3},1)},t.prototype.millisecondsToClock=function(e){var t=e/1e3,o=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%3600%60);return String(o).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(i).padStart(2,"0")},a([h(cc.Label)],t.prototype,"price",void 0),a([h(cc.Label)],t.prototype,"time",void 0),a([h(cc.Sprite)],t.prototype,"sprite",void 0),a([h(cc.Node)],t.prototype,"chestInfoPrefab",void 0),a([h(cc.Node)],t.prototype,"chestOpen",void 0),a([h(cc.Node)],t.prototype,"chestLocked",void 0),a([h(cc.Node)],t.prototype,"chestUnlocked",void 0),a([h(cc.Sprite)],t.prototype,"lockedSprite",void 0),a([h(cc.Node)],t.prototype,"timeNode",void 0),a([h(cc.Node)],t.prototype,"priceNode",void 0),a([h(cc.Sprite)],t.prototype,"btn",void 0),a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../config/AudioPlayId":"AudioPlayId","./Chest":"Chest","./ChestOpen":"ChestOpen"}],Chest:[function(e,t,o){"use strict";cc._RF.push(t,"43a56gIVnpLoIzdDbKp+4+v","Chest");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SetLabelLanguage"),c=e("../config/AudioPlayId"),s=e("../GameData"),l=e("../MainScene"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chestName=null,t.chestSprite=null,t.prize=null,t.cardSize=null,t.spriteCards=[],t.spriteFrameStar=[],t}return i(t,e),t.prototype.initChestInfo=function(e,t,o){this.chestName.string=r.ChangeLanguage.getText(""+e.name),this.chestSprite=t,this.prize.string=e.price;var n=this.prize.node.parent;s.GameData.playerCoin<e.price&&(n.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),n.getComponent(cc.Button).interactable=!1),this.cardSize.string="X"+e.cardSize,this.spriteCards[0].spriteFrame=this.spriteFrameStar[e.sprite[0]-1],this.spriteCards[1].spriteFrame=this.spriteFrameStar[e.sprite[1]-1],this.callbackBuy=o},t.prototype.clickBuy=function(){l.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),this.callbackBuy()},t.prototype.close=function(){l.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),this.node.removeFromParent()},a([d(cc.Label)],t.prototype,"chestName",void 0),a([d(cc.Sprite)],t.prototype,"chestSprite",void 0),a([d(cc.Label)],t.prototype,"prize",void 0),a([d(cc.Label)],t.prototype,"cardSize",void 0),a([d([cc.Sprite])],t.prototype,"spriteCards",void 0),a([d(cc.SpriteFrame)],t.prototype,"spriteFrameStar",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../config/AudioPlayId":"AudioPlayId"}],CipherParamsInterface:[function(e,t,o){"use strict";cc._RF.push(t,"c75daeSX3JNJ6BVRuAL5QQB","CipherParamsInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],CipherParams:[function(e,t,o){"use strict";cc._RF.push(t,"04f98j4UgVD3rdnqkB3IuGk","CipherParams");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CipherParams=void 0;var a=function(e){function t(t){var o=e.call(this)||this;return o.ciphertext=t.ciphertext,o.key=t.key,o.iv=t.iv,o.salt=t.salt,o.algorithm=t.algorithm,o.mode=t.mode,o.padding=t.padding,o.blockSize=t.blockSize,o.formatter=t.formatter,o}return i(t,e),t.prototype.extend=function(e){return void 0!==e.ciphertext&&(this.ciphertext=e.ciphertext),void 0!==e.key&&(this.key=e.key),void 0!==e.iv&&(this.iv=e.iv),void 0!==e.salt&&(this.salt=e.salt),void 0!==e.algorithm&&(this.algorithm=e.algorithm),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.padding&&(this.padding=e.padding),void 0!==e.blockSize&&(this.blockSize=e.blockSize),void 0!==e.formatter&&(this.formatter=e.formatter),this},t.prototype.toString=function(e){if(e)return e.stringify(this);if(this.formatter)return this.formatter.stringify(this);throw new Error("cipher needs a formatter to be able to convert the result into a string")},t}(e("../lib/Base").Base);o.CipherParams=a,cc._RF.pop()},{"../lib/Base":"Base"}],Cipher:[function(e,t,o){"use strict";cc._RF.push(t,"0822aDCGLVF/oR5hzoNBCgx","Cipher");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Cipher=void 0;var a=e("./BufferedBlockAlgorithm"),r=e("./SerializableCipher"),c=e("./PasswordBasedCipher"),s=function(e){function t(t,o,n){var i=e.call(this,Object.assign({blockSize:1},n))||this;return i._xformMode=t,i._key=o,i.reset(),i}return i(t,e),t.createEncryptor=function(e,t){return new this(this._ENC_XFORM_MODE,e,t)},t.createDecryptor=function(e,t){return new this(this._DEC_XFORM_MODE,e,t)},t._createHelper=function(e){return{encrypt:function(t,o,n){return"string"==typeof o?c.PasswordBasedCipher.encrypt(e,t,o,n):r.SerializableCipher.encrypt(e,t,o,n)},decrypt:function(t,o,n){return"string"==typeof o?c.PasswordBasedCipher.decrypt(e,t,o,n):r.SerializableCipher.decrypt(e,t,o,n)}}},t.prototype.process=function(e){return this._append(e),this._process()},t.prototype.finalize=function(e){return e&&this._append(e),this._doFinalize()},t._ENC_XFORM_MODE=1,t._DEC_XFORM_MODE=2,t.keySize=4,t.ivSize=4,t}(a.BufferedBlockAlgorithm);o.Cipher=s,cc._RF.pop()},{"./BufferedBlockAlgorithm":"BufferedBlockAlgorithm","./PasswordBasedCipher":"PasswordBasedCipher","./SerializableCipher":"SerializableCipher"}],CoalGO:[function(e,t,o){"use strict";cc._RF.push(t,"3485dVD3sxIQ5S1inEwMaKn","CoalGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/PhysicsConfig"),s=e("../../config/TagObject"),l=e("../../level/MapLevel"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"coal")},t.prototype.onCollisionEnter=function(e){if(e.node.group!==r.GroupConfig.COLLIDER);else if(e.node.name==s.TagConfig.BOMB){var t=e.node.getComponent(s.default).tag2;if(t==s.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}if(t==s.TagConfig.NONE)return this.node.active=!1,void l.default.instance.countCoalDestroyed++}},a([p],t)}(cc.Component));o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],CoinText:[function(e,t,o){"use strict";cc._RF.push(t,"3b83echyRZPV73pkR1m+Nkf","CoinText");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/GlobalSignals"),c=e("../room/Building/IslandConfig"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinUser=null,t.coinPerMin=null,t}return i(t,e),t.prototype.onLoad=function(){this._updateCoinBonus=this.onUpdateCoinPerMin.bind(this),r.GlobalSignals.updateCoinBonus.add(this._updateCoinBonus)},t.prototype.onEnable=function(){this.onUpdateCoinPerMin()},t.prototype.onUpdateCoinPerMin=function(){this.coinPerMin.string=c.IslandConfig.perSecBonus().toFixed(1).toString()},a([u(cc.Label)],t.prototype,"coinUser",void 0),a([u(cc.Label)],t.prototype,"coinPerMin",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../room/Building/IslandConfig":"IslandConfig"}],ColliderCallback:[function(e,t,o){"use strict";cc._RF.push(t,"972fagnS5RCV7DBQ88ri4Nf","ColliderCallback");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colliderEnterCb=null,t.colliderExitCb=null,t.colliderStayCb=null,t}return i(t,e),t.prototype.setColliderCallbackStay=function(e,t){void 0===t&&(t=null),this.colliderStayCb=e},t.prototype.setColliderCallback=function(e,t){void 0===t&&(t=null),this.colliderEnterCb=e,this.colliderExitCb=t},t.prototype.onCollisionStay=function(e,t){this.colliderStayCb&&this.colliderStayCb(e,t)},t.prototype.onCollisionEnter=function(e,t){this.colliderEnterCb&&this.colliderEnterCb(e,t)},t.prototype.onCollisionExit=function(e,t){this.colliderExitCb&&this.colliderExitCb(e,t)},a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],ColliderGround:[function(e,t,o){"use strict";cc._RF.push(t,"addec/A/HVEDbijn4GbN/Wg","ColliderGround");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../base/utils/ArrayUtil"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groundConfig=[r.GroupConfig.BERRIE,r.GroupConfig.ROCK],t.arrayGround=[],t.callback=null,t.isGround=!1,t}return i(t,e),t.prototype.setGroundColliderCallback=function(e){this.callback=e},t.prototype.onCollisionEnter=function(e){if(-1!==this.groundConfig.indexOf(e.node.group)&&-1==this.arrayGround.indexOf(e.node))return this.arrayGround.push(e.node),this.isGround?void 0:(this.isGround=!0,void(this.callback&&this.callback(!0)))},t.prototype.onCollisionExit=function(e){-1!==this.groundConfig.indexOf(e.node.group)&&(c.default.removeElement(this.arrayGround,e.node),0===this.arrayGround.length&&(this.callback&&this.callback(!1),this.isGround=!1))},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ColliderSearch:[function(e,t,o){"use strict";cc._RF.push(t,"fbc57yBL25Jzpq6ppx2EzJN","ColliderSearch");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../base/ColliderCallback"),c=e("../../config/GroupConfig"),s=e("../../base/utils/ArrayUtil"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signalCollider=null,t.listIgnore=[],t.isDebug=!1,t.rootPosition=null,t.searchCallback=null,t.listColliderEnter=[],t}return i(t,e),t.prototype.onLoad=function(){var e=this.signalCollider.node;e.getComponent(cc.Sprite).enabled=this.isDebug,this.rootPosition=e.position,this.signalCollider.setColliderCallback(this.onSignalCollider.bind(this)),this.listIgnore.push(e)},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.signalCollider.node)},t.prototype.addToIgnore=function(e){-1===this.listIgnore.indexOf(e)&&(cc.log("addToIgnore: "+e.name),this.listIgnore.push(e))},t.prototype.checkSearchTarget=function(e){return e.node.group==c.GroupConfig.CHARACTER&&-1==this.listIgnore.indexOf(e.node)},t.prototype.setColliderCallback=function(e){this.searchCallback=e},t.prototype.onCollisionEnter=function(e){this.checkSearchTarget(e)&&(-1==this.listColliderEnter.indexOf(e)&&this.listColliderEnter.push(e),cc.Tween.stopAllByTarget(this.signalCollider.node),this.pingToTarget(e))},t.prototype.onCollisionExit=function(e){this.checkSearchTarget(e)&&s.default.removeElement(this.listColliderEnter,e),this.refreshPingToTarget()},t.prototype.pingToTarget=function(e,t){var o=this;void 0===t&&(t=!0);var n=this.signalCollider.node;n.position=this.rootPosition;var i=n.getParent().convertToNodeSpaceAR(e.node.getParent().convertToWorldSpaceAR(e.node.position));i.y+=e.offset.y-e.size.height/2+20,i.x+=e.offset.x-e.size.width/2+20,cc.tween(n).to(.1,{position:i}).delay(.5).call(function(){t&&o.pingToTarget(e)}).start()},t.prototype.refreshPingToTarget=function(){this.listColliderEnter.length>0&&this.pingToTarget(this.listColliderEnter[0],!1)},t.prototype.onSignalCollider=function(e){if(-1==this.listIgnore.indexOf(e.node)){var t=this.signalCollider.node;t.position=this.rootPosition,cc.Tween.stopAllByTarget(t),this.searchCallback&&this.searchCallback(e)}},a([p(r.default)],t.prototype,"signalCollider",void 0),a([p([cc.Node])],t.prototype,"listIgnore",void 0),a([p(cc.Boolean)],t.prototype,"isDebug",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ContainType:[function(e,t,o){"use strict";cc._RF.push(t,"0c2d4Z8ZQ9M8ZSfwq89T2sD","ContainType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ContainType=void 0,function(e){e[e.NONE=0]="NONE",e[e.SINK=1]="SINK",e[e.STOVE=2]="STOVE",e[e.SHOWER=3]="SHOWER",e[e.CHIMNEY=4]="CHIMNEY"}(o.ContainType||(o.ContainType={})),cc._RF.pop()},{}],Container:[function(e,t,o){"use strict";cc._RF.push(t,"59ef18PFB1MDqUEuj1yu7mV","Container");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../base/ColliderCallback"),c=e("../../config/GlobalSignals"),s=e("../../config/GroupConfig"),l=e("../../level/MapLevel"),u=e("./ContainType"),p=e("./SmokeGO"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.containType=u.ContainType.NONE,t.wrongNode=null,t.correctNode=null,t.centerCollider=null,t.boxCheck=null,t.effectNew=null,t.effectSmoke=null,t.effectSmokeDirty=null,t.effectDirtyMucus=null,t.total=0,t.lbProcess=null,t.bigbang=null,t.fire=null,t.rateCorrect=0,t.rateWrong=0,t.effectWrongNode=[],t}return i(t,e),t.prototype.onEnable=function(){this.boxCheck.setColliderCallback(this.onBoxCheckCollider.bind(this)),this.centerCollider.setColliderCallback(this.onCenterCollider.bind(this)),this.containType==u.ContainType.SINK&&(this.effectSmokeDirty&&this.showEffectSmokeDirty(),this.effectDirtyMucus&&this.showEffectDirtyMucus())},t.prototype.onBoxCheckCollider=function(e){if((this.containType==u.ContainType.SINK||this.containType==u.ContainType.STOVE)&&l.default.instance.isQuestCollectWater){if(e.node.group===s.GroupConfig.WATER){var t=1/this.total*100;return this.rateCorrect+=t,this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",void(this.rateCorrect>=100&&l.default.instance.isPlaying&&(c.GlobalSignals.questPassSignal.dispatch(),this.wrongNode.active=!1,this.containType==u.ContainType.SINK?(this.offEffectWrong(),this.effectNew&&this.showEffectNew()):this.containType==u.ContainType.STOVE&&this.effectSmoke&&this.showEffectSmoke(),this.correctNode.active=!0,this.fire&&(this.fire.active=!1)))}if(e.node.group===s.GroupConfig.DIRTY){var o=1/this.total*100;return this.rateWrong+=o,void(this.rateWrong>=10&&l.default.instance.isPlaying&&(c.GlobalSignals.questFailSignal.dispatch(),this.wrongNode.active=!0,this.correctNode.active=!1))}}this.containType==u.ContainType.CHIMNEY&&l.default.instance.isQuestCollectSmoke&&e.node.group===s.GroupConfig.SMOKE&&(e.node.getComponent(p.default).force=1e4)},t.prototype.onCenterCollider=function(e){if(e.node.group!==s.GroupConfig.WATER)if(e.node.group!==s.GroupConfig.DIRTY){if(e.node.group===s.GroupConfig.ROCK&&(e.node.active=!1),this.containType==u.ContainType.CHIMNEY&&l.default.instance.isQuestCollectSmoke&&e.node.group===s.GroupConfig.SMOKE){var t=1/this.total*100;return this.rateCorrect+=t,this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",this.rateCorrect>=100&&l.default.instance.isPlaying&&c.GlobalSignals.questPassSignal.dispatch(),void(e.node.active=!1)}if(e.node.group===s.GroupConfig.LAVA){var o=1/this.total*100;return this.rateWrong+=o,this.rateWrong>=10&&l.default.instance.isPlaying&&this.onFireStove(),void(e.node.active=!1)}}else e.node.active=!1;else e.node.active=!1},t.prototype.onFireStove=function(){var e=cc.instantiate(this.bigbang),t=this.node.getParent().getParent();e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),t.addChild(e),this.wrongNode.active=!0,this.correctNode.active=!1,this.fire.active=!1},t.prototype.showEffectNew=function(){cc.instantiate(this.effectNew).parent=this.node},t.prototype.showEffectSmoke=function(){cc.instantiate(this.effectSmoke).parent=this.node},t.prototype.showEffectSmokeDirty=function(){var e=cc.instantiate(this.effectSmokeDirty);e.parent=this.node,e.setPosition(cc.v3(this.wrongNode.x,this.wrongNode.y+55)),this.effectWrongNode.push(e)},t.prototype.showEffectDirtyMucus=function(){var e=cc.instantiate(this.effectDirtyMucus);e.parent=this.node,e.setPosition(cc.v3(this.wrongNode.x,this.wrongNode.y-55)),this.effectWrongNode.push(e)},t.prototype.offEffectWrong=function(){this.effectWrongNode.forEach(function(e){e.active=!1})},a([h({type:cc.Enum(u.ContainType)})],t.prototype,"containType",void 0),a([h(cc.Node)],t.prototype,"wrongNode",void 0),a([h(cc.Node)],t.prototype,"correctNode",void 0),a([h(r.default)],t.prototype,"centerCollider",void 0),a([h(r.default)],t.prototype,"boxCheck",void 0),a([h(cc.Prefab)],t.prototype,"effectNew",void 0),a([h(cc.Prefab)],t.prototype,"effectSmoke",void 0),a([h(cc.Prefab)],t.prototype,"effectSmokeDirty",void 0),a([h(cc.Prefab)],t.prototype,"effectDirtyMucus",void 0),a([h(cc.Integer)],t.prototype,"total",void 0),a([h(cc.Label)],t.prototype,"lbProcess",void 0),a([h(cc.Prefab)],t.prototype,"bigbang",void 0),a([h(cc.Node)],t.prototype,"fire",void 0),a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel","./ContainType":"ContainType","./SmokeGO":"SmokeGO"}],Couple:[function(e,t,o){"use strict";cc._RF.push(t,"b52e0zRO8dNV4IAoVBtAeSg","Couple");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../GameData"),c=e("../../../MainScene"),s=e("../../../config/GlobalSignals"),l=e("../../../config/GroupConfig"),u=e("../Character"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animIdle2="idle2",t.animLose="Lose",t.animWin1="Win",t.animWin2="Win2",t.animDirty="Dirty",t.effectChangeClothes=null,t.soundIdle=null,t.soundWin=null,t.soundLose=null,t}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.skeleton.setSkin("Skin1")},t.prototype.start=function(){this.onSoundColdIdle()},t.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onPassIntro=this.onPassIntro.bind(this),s.GlobalSignals.questFailSignal.add(this._onQuestFail),s.GlobalSignals.questPassSignal.add(this._onQuestPass),s.GlobalSignals.questPassIntro.add(this._onPassIntro)},t.prototype.onDisable=function(){s.GlobalSignals.questPassIntro.remove(this._onPassIntro),s.GlobalSignals.questPassSignal.remove(this._onQuestPass),s.GlobalSignals.questFailSignal.remove(this._onQuestFail)},t.prototype.onSoundColdIdle=function(){r.GameData.currentLevelId},t.prototype.offSoundIdle=function(){c.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},t.prototype.onSoundWin=function(){c.default.instance.audioPlayer.playAudio(this.soundLose)},t.prototype.onSoundLose=function(){c.default.instance.audioPlayer.playAudio(this.soundWin)},t.prototype.onBodyCollider=function(e){e.node.group!==l.GroupConfig.DIRTY||(this.isDirty?e.node.active=!1:(this.playAnimation(this.animDirty,!0),this.isDirty=!0))},t.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&!this.isDirty&&(this.skeleton.setSkin("Skin2"),this.showEffectChangeClothes(),this.onSoundLose(),this.playAnimation(this.animWin1,!0))},t.prototype.onQuestPass=function(){this.stopMove(),this.isAlive&&!this.isDirty&&(this.onSoundWin(),this.playAnimation(this.animLose,!0))},t.prototype.onPassIntro=function(){var e=this;this.stopMove(),this.scheduleOnce(function(){e.playAnimation("Intro2",!0)},.65)},t.prototype.showEffectChangeClothes=function(){var e=cc.instantiate(this.effectChangeClothes);e.position=this.bodyCollider.node.position,e.parent=this.node},a([f(cc.String)],t.prototype,"animIdle2",void 0),a([f(cc.String)],t.prototype,"animLose",void 0),a([f(cc.String)],t.prototype,"animWin1",void 0),a([f(cc.String)],t.prototype,"animWin2",void 0),a([f(cc.String)],t.prototype,"animDirty",void 0),a([f(cc.Prefab)],t.prototype,"effectChangeClothes",void 0),a([d],t)}(u.default);o.default=h,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../Character":"Character"}],DailyButton:[function(e,t,o){"use strict";cc._RF.push(t,"7df49ybAtNNkrPSR+NIQ5fB","DailyButton");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=e("../base/SetLabelLanguage"),s=e("../config/GlobalSignals"),l=e("../ui/FlyingCoins"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coin=null,t.day=null,t.dailyActive=null,t.claimed=null,t.pinSkin=null,t.flyingCoins=null,t.targetPos=null,t.coinReward=null,t.pinReward=null,t._receiveX5Daily=null,t}return i(t,e),t.prototype.onEnable=function(){},t.prototype.init=function(e,t){var o=this;if(t!=r.GameData.receivedDaily+1?(this.node.getComponent(cc.Button).interactable=!1,t<r.GameData.receivedDaily+1&&(this.claimed.active=!0)):t==r.GameData.receivedDaily+1&&(this._receiveX5Daily=this.receiveX5.bind(this),s.GlobalSignals.receiveX5Daily.add(this._receiveX5Daily),this.dailyActive.active=!0,r.GameData.isReceivedDaily&&(this.node.getComponent(cc.Button).interactable=!1,this.claimed.active=!0,this.dailyActive.active=!1)),t%7==0){var n="HomeIsland/Sprites/Skin/Pin/"+e.skin;this.pinReward=e.skin,cc.resources.load(n,cc.SpriteFrame,function(e,t){o.pinSkin.spriteFrame=t})}this.coinReward=e.coin,this.coin.string="+"+e.coin,this.day.string=c.ChangeLanguage.getText("day")+t},t.prototype.receiveReward=function(){if(this.coinReward){r.GameData.addCoin(this.coinReward),this.node.getComponent(cc.Button).interactable=!1;var e=cc.instantiate(this.flyingCoins);e.getComponent(l.default).setTarget(this.targetPos),e.parent=this.node}else this.pinReward&&r.GameData.addSkinBoss({array:r.GameData.myPinSkins,key:r.GameData.KEY_PIN_SKINS},this.pinReward,null);this.dailyActive.active=!1,this.claimed.active=!0,r.GameData.setReceivedDaily(!0);var t=Date.now();r.GameData.saveDAY(t)},t.prototype.receiveX5=function(){if(this.coinReward){r.GameData.addCoin(5*this.coinReward),this.node.getComponent(cc.Button).interactable=!1;var e=cc.instantiate(this.flyingCoins);e.getComponent(l.default).setTarget(this.targetPos),e.parent=this.node}else this.pinReward&&r.GameData.addSkinBoss({array:r.GameData.myPinSkins,key:r.GameData.KEY_PIN_SKINS},this.pinReward,null);this.dailyActive.active=!1,this.claimed.active=!0,r.GameData.setReceivedDaily(!0);var t=Date.now();r.GameData.saveDAY(t)},t.prototype.onDisable=function(){this._receiveX5Daily&&s.GlobalSignals.receiveX5Daily.remove(this._receiveX5Daily)},a([d(cc.Label)],t.prototype,"coin",void 0),a([d(cc.Label)],t.prototype,"day",void 0),a([d(cc.Node)],t.prototype,"dailyActive",void 0),a([d(cc.Node)],t.prototype,"claimed",void 0),a([d(cc.Sprite)],t.prototype,"pinSkin",void 0),a([d(cc.Prefab)],t.prototype,"flyingCoins",void 0),a([d(cc.Node)],t.prototype,"targetPos",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../base/SetLabelLanguage":"SetLabelLanguage","../config/GlobalSignals":"GlobalSignals","../ui/FlyingCoins":"FlyingCoins"}],DailyConfig:[function(e,t,o){"use strict";cc._RF.push(t,"4f3b1erSg9CSbXBDlQD2llS","DailyConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.DailyConfig=void 0;var n=function(){function e(){}return e.get_type={coin:"coin",skin:"skin"},e.WeekPrize0=[{type:e.get_type.coin,coin:500,skin:""},{type:e.get_type.coin,coin:1e3,skin:""},{type:e.get_type.coin,coin:1500,skin:""},{type:e.get_type.coin,coin:2e3,skin:""},{type:e.get_type.coin,coin:2500,skin:""},{type:e.get_type.coin,coin:3e3,skin:""},{type:e.get_type.skin,coin:0,skin:"SkinShop_Pin14"}],e.WeekPrize1=[{type:e.get_type.coin,coin:500,skin:""},{type:e.get_type.coin,coin:1e3,skin:""},{type:e.get_type.coin,coin:1500,skin:""},{type:e.get_type.coin,coin:2e3,skin:""},{type:e.get_type.coin,coin:2500,skin:""},{type:e.get_type.coin,coin:3e3,skin:""},{type:e.get_type.skin,coin:0,skin:"SkinShop_Pin15"}],e.WeekPrize2=[{type:e.get_type.coin,coin:500,skin:""},{type:e.get_type.coin,coin:1e3,skin:""},{type:e.get_type.coin,coin:1500,skin:""},{type:e.get_type.coin,coin:2e3,skin:""},{type:e.get_type.coin,coin:2500,skin:""},{type:e.get_type.coin,coin:3e3,skin:""},{type:e.get_type.skin,coin:0,skin:"SkinShop_Pin16"}],e.WeekPrize3=[{type:e.get_type.coin,coin:500,skin:""},{type:e.get_type.coin,coin:1e3,skin:""},{type:e.get_type.coin,coin:1500,skin:""},{type:e.get_type.coin,coin:2e3,skin:""},{type:e.get_type.coin,coin:2500,skin:""},{type:e.get_type.coin,coin:3e3,skin:""},{type:e.get_type.skin,coin:0,skin:"SkinShop_Pin17"}],e}();o.DailyConfig=n,cc._RF.pop()},{}],Daughter:[function(e,t,o){"use strict";cc._RF.push(t,"5e870ChW59JzagZE6lhFneu","Daughter");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../GameData"),c=e("../../../MainScene"),s=e("../../../config/AudioPlayId"),l=e("../../../config/GameConfig"),u=e("../../../config/GameState"),p=e("../../../config/GlobalSignals"),d=e("../../../config/GroupConfig"),f=e("../../../config/ItemLevelSkin"),h=e("../../../config/SkinConfig"),y=e("../../../config/TagObject"),g=e("../../../level/MapLevel"),_=e("../../more/ItemCard"),v=e("../../more/ItemChest"),m=e("../../more/ItemLoot"),b=e("../../more/ItemSync"),C=e("../Mom/Mom"),S=cc._decorator,P=S.ccclass,k=S.property,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winEgg1="Win_Egg",t.winEgg2="Win_Egg2",t.isMom=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instanceD",{get:function(){return o._instanceD},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instanceD=this,e.prototype.onLoad.call(this),this.initDaughterSkin()},t.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onDirty=this.onDirty.bind(this),this._onDieFire=this.onDieFire.bind(this),this._saveByMom=this.saveByMom.bind(this),p.GlobalSignals.questPassSignal.add(this._onQuestPass),p.GlobalSignals.questFailSignal.add(this._onQuestFail),p.GlobalSignals.collectGemsSignal.add(this._onCollectGems),p.GlobalSignals.autoMoveSignal.add(this._onAutoMove),p.GlobalSignals.playAnimPlayerSignal.add(this._onDirty),p.GlobalSignals.questDieFireSignal.add(this._onDieFire),p.GlobalSignals.daughterIsSaved.add(this._saveByMom)},t.prototype.start=function(){this.hit&&(this.hit.active=!1),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this.setupSound(),g.default.instance.isQuestSaveHostage||C.default.isExistMom||this.initPetSkin()},t.prototype.onDisable=function(){p.GlobalSignals.questPassSignal.remove(this._onQuestPass),p.GlobalSignals.questFailSignal.remove(this._onQuestFail),p.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),p.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),p.GlobalSignals.playAnimPlayerSignal.remove(this._onDirty),p.GlobalSignals.daughterIsSaved.remove(this._saveByMom),o._instanceD=null,this.unscheduleAllCallbacks()},t.prototype.onAutoMove=function(){var e=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&g.default.instance.isPlaying&&!g.default.instance.isQuestSaveHostage&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){e.jumpCollider.node.active=!0},.2))},t.prototype.onAttackCollider=function(e){var t=this;if(this.isAlive&&g.default.instance.isPlaying){if(e.node.group===d.GroupConfig.ITEM){if(e.node.name==y.TagConfig.STICK){p.GlobalSignals.bossAttackSignal.dispatch();try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.destroy()}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToStickBoss()}if(e.node.name==y.TagConfig.ITEM){if(p.GlobalSignals.bossAttackSignal.dispatch(),!(n=e.node.getComponent(m.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(e.node),this.playAnimation(this.openLockAnim),n.openItem();var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){g.default.instance.isPlaying&&g.default.instance.isQuestCollectItem&&p.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(e.node.name==y.TagConfig.CHEST)return p.GlobalSignals.bossAttackSignal.dispatch(),(n=e.node.getComponent(v.default))?(this.stopMove(),this.rotateFaceToTarget(e.node),this.playAnimation(this.openLockAnim),n.openItem(),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){t.isAlive&&g.default.instance.isPlaying&&(g.default.instance.isCollectGems=!0,p.GlobalSignals.collectGemsSignal.dispatch(),t.scheduleOnce(function(){t.isAlive&&g.default.instance.isPlaying&&(g.default.instance.gameState=u.GameState.WIN,g.default.instance.isPlaying&&g.default.instance.isQuestOpenChest&&p.GlobalSignals.questPassSignal.dispatch())},1.5))},o)):void cc.error("item is null")}return e.node.group===d.GroupConfig.CHARACTER&&this.getCurrentSkin()===this.stickSkin&&e.node.name==y.TagConfig.STEALER?(p.GlobalSignals.bossAttackSignal.dispatch(),void this.playAttack(e.node)):void 0}},t.prototype.onHandCollider=function(e){var t=this;if(e.node.group!==d.GroupConfig.COLLIDER||e.node.name!=y.TagConfig.BOMB){if(e.node.group===d.GroupConfig.ITEM){if(g.default.instance.isQuestCollectSkin){var o=f.ItemSkinLevel.getSkinName(g.default.instance.itemLevelSkin);return void this.runEffectItemWin(e.node,this.headCollider.node,function(){t.addSkinDaughter(g.default.instance.itemLevelSkin,o),p.GlobalSignals.questPassSignal.dispatch()},!0)}if(g.default.instance.isCollectCard&&(e.node.name==y.TagConfig.CARD&&this.runItemScaleMiddle(e.node,function(){c.default.instance.showInGameCardPopup()}),e.node.name==y.TagConfig.CARD_DEFAULT)){var n=e.node.getComponent(_.default);this.runItemScaleMiddle(e.node,function(){n.runAnim(n.node.scale,function(){p.GlobalSignals.questPassSignal.dispatch()})},!0)}if(g.default.instance.isQuestCollectSingleItem)switch(parseInt(e.node.name,10)){case y.TagConfig.LIFEBOUY:var i=e.node.addComponent(b.default);this.runItemtoTarget(e.node,this.handCollider.node,function(){i.node.opacity=0,t.scheduleOnce(function(){t.runOpacity(i.node,100,255,0),i.targetPos=t.elementHand},.45),p.GlobalSignals.questPassSignal.dispatch()});break;case y.TagConfig.COCO:p.GlobalSignals.questPassSignal.dispatch(),this.scheduleOnce(function(){e.node.active=!1},.3),this.scheduleOnce(function(){c.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_drink)},1.6);break;case y.TagConfig.APPLE:p.GlobalSignals.questPassSignal.dispatch(),this.scheduleOnce(function(){e.node.active=!1},.3),this.scheduleOnce(function(){c.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_eat_apple)},1.2);break;default:this.runEffectItemWin(e.node,this.bodyCollider.node,function(){p.GlobalSignals.questPassSignal.dispatch()},!0)}}}else{if(!this.isAlive)return;this.onDieFire()}},t.prototype.onQuestPass=function(){var e=this;this.isAlive&&(g.default.instance.isQuestSaveHostage||this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0),this.scheduleOnce(function(){e.onSoundWin()},.2),this.offSoundIdle(),g.default.instance.isQuestCollectSingleItem&&0==r.GameData.currentRoomId&&cc.tween(this.node).call(function(){e.playAnimation("Walk2",!0)}).by(1.2,{position:cc.v3(100,0,0)}).start())},t.prototype.onBodyCollider=function(e){if(e.node.name!=y.TagConfig.HIT||e.node==this.hit)if(e.node.group!==d.GroupConfig.LAVA){if(e.node.group===d.GroupConfig.COLLIDER){if(e.node.name==y.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(e.node.name==y.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(e.node.name==y.TagConfig.REDIRECT_STOP)return void this.stopMove()}}else this.onDieFire();else this.onDieHit()},t.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0),this.onSoundLose(),this.offSoundIdle())},t.prototype.addSkinDaughter=function(e,t){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentSkinDaughter),a=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentHatDaughter),c=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentShoeDaughter),s=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentGloveDaughter),l=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentEarDaughter);switch(e){case f.ItemLevelSkin.HAT:a=this.skeleton.skeletonData.getRuntimeData().findSkin(t),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_HATS,array:r.GameData.myDaughterHats},h.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setHatDaughter(t,function(){});break;case f.ItemLevelSkin.SHOE:c=this.skeleton.skeletonData.getRuntimeData().findSkin(t),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_SHOES,array:r.GameData.myDaughterShoes},h.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setShoeDaughter(t,function(){});break;case f.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(t),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_SKINS,array:r.GameData.myDaughterSkins},h.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setSkinDaughter(t,function(){});break;case f.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(t),r.GameData.addSkinBossOther(r.GameData.KEY_DAUGHTER_CURRENT_EAR);break;case f.ItemLevelSkin.GLOVES:s=this.skeleton.skeletonData.getRuntimeData().findSkin(t),r.GameData.addSkinBossOther(r.GameData.KEY_DAUGHTER_CURRENT_GLOVES);break;case f.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(t)}var u=new sp.spine.Skin("Temp");u.addSkin(i),a&&(u.addSkin(a),r.GameData.currentEarDaughter&&u.addSkin(l)),c&&u.addSkin(c),o&&u.addSkin(o),s&&u.addSkin(s),n&&u.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(u),this.skeleton.setSkin(u.name)},t.prototype.initDaughterSkin=function(){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var e=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentSkinDaughter),t=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentHatDaughter),o=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentShoeDaughter),n=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentGloveDaughter),i=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentEarDaughter),a=new sp.spine.Skin("Temp");a.addSkin(e),t&&a.addSkin(t),o&&a.addSkin(o),n&&(r.GameData.currentSkinDaughter!=l.GameConfig.daughter_skin_default&&r.GameData.currentSkinDaughter!=h.SkinConfig.arraySkinDaughter[0].skins[0]||a.addSkin(n)),i&&(r.GameData.currentHatDaughter!=h.SkinConfig.arrayHatDaughter[0].skins[0]&&r.GameData.currentHatDaughter||a.addSkin(i)),this.skeleton.skeletonData.getRuntimeData().skins.push(a),this.skeleton.setSkin(a.name)},t.prototype.saveByMom=function(e,t){var n=this;this.rotateFaceToTarget(t),o.instanceD.isAlive&&(e?o.instanceD.playAnimationGiveEgg(e,function(){n.isAlive&&C.default.instance.playAnimation(C.default.instance.winAnim,!0)}):o.instanceD.playOutAnimation(this.node))},t.prototype.playAnimationGiveEgg=function(e,t){e&&(g.default.instance.eggCpm.setupEgg(e.eggId),p.GlobalSignals.daughterGiveEggSignal.dispatch(e.eggId)),this.playAnimation(this.winEgg1).addAnimation(this.winEgg2,!0);var o=this.skeleton.findAnimation(this.winEgg2).duration;g.default.instance.eggCpm.node.active=!0,this.scheduleOnce(function(){t()},o+1)},t.prototype.playOutAnimation=function(e){this.rotateFaceToTarget(e),this.playAnimation(this.winAnim)},t._instanceD=null,a([k(cc.String)],t.prototype,"winEgg1",void 0),a([k(cc.String)],t.prototype,"winEgg2",void 0),o=a([P],t)}(C.default);o.default=O,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GameConfig":"GameConfig","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/ItemCard":"ItemCard","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../../more/ItemSync":"ItemSync","../Mom/Mom":"Mom"}],DirtyGO:[function(e,t,o){"use strict";cc._RF.push(t,"86be7dhc+hBr6YJ71cx3FZ1","DirtyGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/AudioPlayId"),s=e("../../MainScene"),l=e("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.available=!0,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"dirty")},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0;var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.onCollisionEnter=function(e){if(this.available)return e.node.group===r.GroupConfig.BERRIE?(o.colliderBarrieCount++,void(3===o.colliderBarrieCount&&(s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)))):void 0},t.isTransform=!1,t.colliderBarrieCount=0,a([d(cc.Node)],t.prototype,"border",void 0),a([d(cc.Node)],t.prototype,"drop",void 0),o=a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],Dog:[function(e,t,o){"use strict";cc._RF.push(t,"3f19e8Qk9JDqLr7LacnS5JF","Dog");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../config/AudioPlayId"),c=e("../../../config/GlobalSignals"),s=e("../../../config/GroupConfig"),l=e("../../../config/TagObject"),u=e("../../../MainScene"),p=e("./Enemies"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eatAnim="Win",t.eatAnim2="Win2",t.isEating=!1,t}return i(t,e),t.prototype.onAttackCollider=function(t,o){var n=this;this.isEating||(e.prototype.onAttackCollider.call(this,t,o),t.node.group===s.GroupConfig.ITEM&&t.node.name==l.TagConfig.MEAT&&(this.isEating=!0,this.rotateFaceToTarget(t.node),this.skeleton.setCompleteListener(null),this.playAnimation(this.eatAnim).addAnimation(this.eatAnim2,!0),this.scheduleOnce(function(){n.moveRight(n.walkAnim),c.GlobalSignals.questPassSignal.dispatch()},1),t.node.destroy()))},t.prototype.onBodyCollider=function(t,o){if(t.node.group===s.GroupConfig.COLLIDER){var n=t.node.getComponent(l.default);if(n&&n.tag2==l.TagConfig.STEALER)return void this.onDieNormal()}e.prototype.onBodyCollider.call(this,t,o)},t.prototype.onSearchCollider=function(t){this.isEating||e.prototype.onSearchCollider.call(this,t)},t.prototype.playAttack=function(t){e.prototype.playAttack.call(this,t)},t.prototype.onDieIce=function(){e.prototype.onDieIce.call(this)},t.prototype.onDieNormal=function(){e.prototype.onDieNormal.call(this),u.default.instance.audioPlayer.playAudio(r.AudioPlayId.boar_die)},t.prototype.onDieFire=function(){e.prototype.onDieFire.call(this)},a([h(cc.String)],t.prototype,"eatAnim",void 0),a([h(cc.String)],t.prototype,"eatAnim2",void 0),a([f],t)}(p.default);o.default=y,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","./Enemies":"Enemies"}],DoubleSpine:[function(e,t,o){"use strict";cc._RF.push(t,"80fbbK8rAxIjpaJCg9swDgj","DoubleSpine");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./SyncPosition"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t._node=null,t._ske=null,t.parent=null,t.dt_arr=["hand_1","forearrm_1","arm_1"],t}return i(t,e),t.prototype.onEnable=function(){var e=this;this._node=cc.instantiate(this.target.node),this.target.node.parent.scaleX<0?this._node.scaleX=-this.target.node.scaleX:this._node.scaleX=this.target.node.scaleX,this.target.node.parent.once(cc.Node.EventType.SCALE_CHANGED,function(){e.target.node.parent.scaleX<0?e._node.scaleX=-e.target.node.scaleX:e._node.scaleX=e.target.node.scaleX},this),this.parent?this.parent.addChild(this._node):this.target.node.parent.addChild(this._node),this._node.addComponent(r.default).target=this.target.node,this._ske=this._node.getComponent(sp.Skeleton),this.make_spine_anim_mixing(this._ske),this._ske.setAnimation(0,this.target.animation,this.target.loop),this.target.setAnimation(0,this.target.animation,this.target.loop),this._node.opacity=255},t.prototype.start=function(){for(var e=function(e){t.dt_arr.find(function(t){return t===e.name})||(e.color.a=0)},t=this,o=0,n=this._ske.skeletonData.getRuntimeData().slots;o<n.length;o++)e(n[o]);this._ske.setToSetupPose();for(var i=0,a=this.target.skeletonData.getRuntimeData().slots;i<a.length;i++)a[i].color.a=1},t.prototype.next_anim=function(e,t){void 0===t&&(t=!1),this._ske&&this._ske.setAnimation(0,e,t)},t.prototype.addAnimation=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=0),this._ske&&this._ske.addAnimation(0,e,t,o)},t.prototype.make_spine_anim_mixing=function(e,t){if(void 0===t&&(t=.3),!e)return null;var o=new sp.spine.AnimationStateData(e.skeletonData.getRuntimeData());return o.defaultMix=t,e.setAnimationStateData(o),o},a([l(sp.Skeleton)],t.prototype,"target",void 0),a([l(cc.Node)],t.prototype,"parent",void 0),a([l([cc.String])],t.prototype,"dt_arr",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./SyncPosition":"SyncPosition"}],ECBDecryptor:[function(e,t,o){"use strict";cc._RF.push(t,"53721N5X5hL05JMW5vEveD7","ECBDecryptor");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBDecryptor=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processBlock=function(e,t){this._cipher.decryptBlock(e,t)},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBDecryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECBEncryptor:[function(e,t,o){"use strict";cc._RF.push(t,"33df0fiPsBKOI139kHKRo/3","ECBEncryptor");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBEncryptor=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processBlock=function(e,t){this._cipher.encryptBlock(e,t)},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBEncryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECB:[function(e,t,o){"use strict";cc._RF.push(t,"e4f9dlfXlNDnbs5KDhCFA3G","ECB");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECB=void 0;var a=e("./BlockCipherMode"),r=e("./ECBEncryptor"),c=e("./ECBDecryptor"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.Encryptor=r.ECBEncryptor,t.Decryptor=c.ECBDecryptor,t}(a.BlockCipherMode);o.ECB=s,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./ECBDecryptor":"ECBDecryptor","./ECBEncryptor":"ECBEncryptor"}],Egg:[function(e,t,o){"use strict";cc._RF.push(t,"b61fd7jm9hO9pIGa023hf4X","Egg");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(e){e[e.egg_1=0]="egg_1",e[e.egg_2=1]="egg_2",e[e.egg_3=2]="egg_3",e[e.egg_4=3]="egg_4",e[e.egg_5=4]="egg_5"})(r||(r={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listAssetEgg=[],t.sprEgg=null,t}return i(t,e),t.prototype.setupEgg=function(e){this.sprEgg.spriteFrame=this.listAssetEgg[r[""+e]]},a([l([cc.SpriteFrame])],t.prototype,"listAssetEgg",void 0),a([l(cc.Sprite)],t.prototype,"sprEgg",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],Elf:[function(e,t,o){"use strict";cc._RF.push(t,"27aa3YCltRAqJVshm7BZO6n","Elf");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../MainScene"),c=e("../../../base/audio/AudioManager"),s=e("../../../base/audio/AudioPlayer"),l=e("../../../config/AudioPlayId"),u=e("../../../config/GlobalSignals"),p=e("../../../config/GroupConfig"),d=e("../../../config/TagObject"),f=e("../Enemies/Enemies"),h=cc._decorator,y=h.ccclass,g=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animIdle2="idle2",t.animLose="Lose",t.animWin1="Win",t.animWin2="Win2",t.animGetcoin="GetCoin",t.genCoins=!1,t.coinsPool=null,t._soundIdle=[],t._soundWin=[],t._soundLose=[],t.soundIdleObj=[],t.soundWinObj=[],t.soundLoseObj=[],t.isThin=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"soundIdle",{get:function(){return this._soundIdle},set:function(e){this._soundIdle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundWin",{get:function(){return this._soundWin},set:function(e){this._soundWin=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundLose",{get:function(){return this._soundLose},set:function(e){this._soundLose=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o._instance=this},t.prototype.start=function(){this.onSoundIdle()},t.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),u.GlobalSignals.questFailSignal.add(this._onQuestFail),u.GlobalSignals.questPassSignal.add(this._onQuestPass)},t.prototype.onDisable=function(){u.GlobalSignals.questPassSignal.remove(this._onQuestPass),u.GlobalSignals.questFailSignal.remove(this._onQuestFail)},t.prototype.setupSound=function(){this.onSoundIdle()},t.prototype.onSoundIdle=function(){this.soundIdleObj=s.default.playArrAudioObj(this.soundIdle)},t.prototype.offSoundIdle=function(){s.default.stopArrAudioObj(this.soundIdleObj)},t.prototype.onSoundWin=function(){this.soundWinObj=s.default.playArrAudioObj(this.soundWin)},t.prototype.onSoundLose=function(){this.soundLoseObj=s.default.playArrAudioObj(this.soundLose)},t.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.addAnimation(this.animWin1).addAnimation(this.animWin2,!0),this.offSoundIdle(),this.onSoundLose())},t.prototype.onQuestPass=function(){this.stopMove(),this.isAlive&&(this.addAnimation(this.animLose,!0),this.offSoundIdle(),this.onSoundWin())},t.prototype.onHeadCollider=function(e){if(e.node.group===p.GroupConfig.ROCK)return this.onDieNormal(),void this.disablePhysicsBody();if(e.node.group===p.GroupConfig.COLLIDER){if(e.node.name==d.TagConfig.BOMB)return void this.onDieFire();(e.node.name==d.TagConfig.GAS||e.node.name==d.TagConfig.BOMB||e.node.name==d.TagConfig.HIT&&e.node!=this.hit)&&this.onDieNormal()}},t.prototype.onDieNormal=function(){this.stopMove(),this.playAnimation(this.dieAnim),this.isAlive=!1,this.coinsPool&&(this.coinsPool.active=!0),r.default.instance.audioPlayer.playAudio(l.AudioPlayId.native_die)},t.prototype.onDieFire=function(){this.stopMove(),this.playAnimation(this.dieFireAnim,!1),this.isAlive=!1,this.coinsPool&&(this.coinsPool.active=!0),r.default.instance.audioPlayer.playAudio(l.AudioPlayId.native_die)},t.prototype.onDieIce=function(){this.stopMove(),this.playAnimation(this.dieIceAnim),this.isAlive=!1,this.coinsPool&&(this.coinsPool.active=!0)},t._instance=null,a([g(cc.String)],t.prototype,"animIdle2",void 0),a([g(cc.String)],t.prototype,"animLose",void 0),a([g(cc.String)],t.prototype,"animWin1",void 0),a([g(cc.String)],t.prototype,"animWin2",void 0),a([g(cc.String)],t.prototype,"animGetcoin",void 0),a([g()],t.prototype,"genCoins",void 0),a([g(cc.Node)],t.prototype,"coinsPool",void 0),a([g({type:[c.AudioObj]})],t.prototype,"_soundIdle",void 0),a([g({type:[c.AudioObj]})],t.prototype,"soundIdle",null),a([g({type:[c.AudioObj]})],t.prototype,"_soundWin",void 0),a([g({type:[c.AudioObj]})],t.prototype,"soundWin",null),a([g({type:[c.AudioObj]})],t.prototype,"_soundLose",void 0),a([g({type:[c.AudioObj]})],t.prototype,"soundLose",null),o=a([y],t)}(f.default);o.default=_,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../base/audio/AudioManager":"AudioManager","../../../base/audio/AudioPlayer":"AudioPlayer","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../Enemies/Enemies":"Enemies"}],Encoding:[function(e,t,o){"use strict";cc._RF.push(t,"9a7fefikc9FvrKzR1AkV9Fc","Encoding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Enemies:[function(e,t,o){"use strict";cc._RF.push(t,"c0d19Q53chFxZ8/bnKcdE1A","Enemies");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../Character"),c=e("../../../config/GroupConfig"),s=e("../../../config/TagObject"),l=e("../../../level/MapLevel"),u=e("../../../MainScene"),p=e("../../../config/AudioPlayId"),d=cc._decorator,f=d.ccclass,h=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSuper=!1,t.isAttack=!1,t.superAppearAnim="Appear1",t}return i(t,e),t.prototype.start=function(){this.hit&&(this.hit.active=!1)},t.prototype.playAttack=function(e){var t=this;this.isAttack||(this.isAttack=!0,this.rotateFaceToTarget(e),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){t.hit.active=!0,u.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_attack_spear)},.2),this.scheduleOnce(function(){t.skeleton.setCompleteListener(function(){t.isAlive&&l.default.instance.isPlaying&&(t.playAnimation(t.idleAnim,!0),t.skeleton.setCompleteListener(null),t.hit.active=!1,t.isAttack=!1,t.stopMove(),t.searchCollider.refreshPingToTarget())})},.37))},t.prototype.onHeadCollider=function(e){if(this.isAlive)return e.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void(e.node.group!==c.GroupConfig.ITEM||e.node.name!=s.TagConfig.CHEST&&e.node.name!=s.TagConfig.ITEM&&e.node.name!=s.TagConfig.STICK||this.onDieNormal())},t.prototype.onBodyCollider=function(e){if(this.isAlive&&!this.checkIgnoreFluid(e.node.group))if(e.node.group!==c.GroupConfig.LAVA)if(e.node.group!==c.GroupConfig.SNOW){if(e.node.group===c.GroupConfig.COLLIDER){if(e.node.name==s.TagConfig.HIT){var t=e.node.getComponent(s.default).tag2;return void(this.tagHit==s.TagConfig.DOG?t!=s.TagConfig.DOG&&this.onDieNormal():t!=s.TagConfig.FIRE_BALL&&t!=s.TagConfig.BOSS&&t!=s.TagConfig.STICK&&t!=s.TagConfig.ITEM&&t!=s.TagConfig.TRAP&&t!=s.TagConfig.ROCK&&t!=s.TagConfig.BIG_ROCK&&t!=s.TagConfig.BULLET&&t!=s.TagConfig.POW&&t!=s.TagConfig.SAW&&t!=s.TagConfig.LAZE||this.onDieNormal())}if(e.node.name==s.TagConfig.GAS||e.node.name==s.TagConfig.BOMB)return void this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},t.prototype.onAttackCollider=function(e){if(this.isAlive){if(e.node.group===c.GroupConfig.CHARACTER&&e.node!=this.groundCollider.node)return e.node.name==s.TagConfig.BOSS||e.node.name==s.TagConfig.GIRL||e.node.name==s.TagConfig.DOG?void this.playAttack(e.node):void 0;if(e.node.group===c.GroupConfig.ITEM&&e.node.name==s.TagConfig.HOLY_WATER){try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.destroy()}catch(t){cc.warn(t)}return this.stopMove(),void this.changeSkinToSuper()}}},t.prototype.changeSkinToSuper=function(){this.isSuper=!0,this.idleAnim+="2",this.attackAnim+="2",this.walkAnim+="2",this.runAnim+="2",this.hit.removeFromParent(),this.node.addChild(this.hit);var e=this.attackCollider.getComponent(cc.BoxCollider),t=this.hit.getComponent(cc.BoxCollider);this.hit.position=this.attackCollider.node.position,this.hit.angle=this.attackCollider.node.angle,t.offset=e.offset,t.size=e.size,this.playAnimation(this.superAppearAnim).addAnimation(this.idleAnim,!0)},t.prototype.onSearchCollider=function(e){this.isAlive&&l.default.instance.isPlaying&&!this.isAttack&&(e.node.group!==c.GroupConfig.CHARACTER||e.node==this.groundCollider.node||(e.node.name==s.TagConfig.BOSS||e.node.name==s.TagConfig.GIRL||e.node.name==s.TagConfig.GIRL_WONDER||e.node.name==s.TagConfig.DOG?this.walkToTarget(e.node):this.addToIgnoreSearchCollier(e.node)))},t.prototype.onAutoMove=function(){this.isAlive&&this.walkToTarget(null)},t.prototype.onDieFire=function(){this.stun&&(this.stun.node.active=!0),this.playAnimation(this.dieFireAnim),this.hit.active=this.isAlive=!1},t.prototype.onDieNormal=function(){this.stun&&(this.stun.node.active=!0),this.playAnimation(this.dieAnim),this.hit.active=this.isAlive=!1},t.prototype.onDieIce=function(){this.stun&&(this.stun.node.active=!0),this.playAnimation(this.dieIceAnim),this.hit.active=this.isAlive=!1},a([f],t)}(r.default));o.default=h,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../Character":"Character"}],EvpKDF:[function(e,t,o){"use strict";cc._RF.push(t,"9a3b4WMLaRGGoHpkrr1WBEx","EvpKDF"),Object.defineProperty(o,"__esModule",{value:!0}),o.EvpKDF=void 0;var n=e("../lib/WordArray"),i=e("../algo/MD5"),a=function(){function e(e){this.cfg=Object.assign({keySize:4,hasher:i.MD5,iterations:1},e)}return e.prototype.compute=function(e,t){for(var o,i=new this.cfg.hasher,a=new n.WordArray;a.words.length<this.cfg.keySize;){o&&i.update(o),o=i.update(e).finalize(t),i.reset();for(var r=1;r<this.cfg.iterations;r++)o=i.finalize(o),i.reset();a.concat(o)}return a.sigBytes=4*this.cfg.keySize,a},e}();o.EvpKDF=a,cc._RF.pop()},{"../algo/MD5":"MD5","../lib/WordArray":"WordArray"}],FBInstantData:[function(e,t,o){"use strict";cc._RF.push(t,"09452fizKlBLom5nLmzsz3a","FBInstantData"),Object.defineProperty(o,"__esModule",{value:!0}),o.FBInstantData=void 0;var n=e("../../base/GlanceDataAPI"),i=e("../../base/LocalStorageManager"),a=e("../../GameData"),r=function(){function e(){}return e.getData=function(e,t){for(var o={},r=0;r<=e.length;r++)a.GameData.isTesting?o[e[r]]=JSON.parse(i.LocalStorageManager.getItem(e[r])):o[e[r]]=JSON.parse(n.GlanceAPI.getItem(e[r]));t&&t(o)},e.setData=function(e,t){void 0===t&&(t=null),a.GameData.isTesting?i.LocalStorageManager.setItem(Object.keys(e)[0],JSON.stringify(Object.values(e)[0])):n.GlanceAPI.setItem(Object.keys(e)[0],JSON.stringify(Object.values(e)[0])),t&&t(null)},e.setDataArray=function(e,t){void 0===t&&(t=null),a.GameData.isTesting?i.LocalStorageManager.setItem(Object.keys(e)[0],JSON.stringify(Object.values(e)[0])):n.GlanceAPI.setItem(Object.keys(e)[0],JSON.stringify(Object.values(e)[0])),t&&t(null)},e}();o.FBInstantData=r,cc._RF.pop()},{"../../GameData":"GameData","../../base/GlanceDataAPI":"GlanceDataAPI","../../base/LocalStorageManager":"LocalStorageManager"}],FillBannerGD:[function(e,t,o){"use strict";cc._RF.push(t,"66828r9wZNLDY9YNTjbu/ku","FillBannerGD"),Object.defineProperty(o,"__esModule",{value:!0}),o.deleteChild=o.findClosestSize=void 0;var n=[{w:336,h:280},{w:300,h:250},{w:970,h:250},{w:728,h:90},{w:120,h:600},{w:160,h:600}];function i(e,t){return e.w<=t.w&&e.h<=t.h}o.findClosestSize=function(e){for(var t,o=Number.POSITIVE_INFINITY,a=0,r=n;a<r.length;a++){var c=r[a],s=c.w,l=c.h,u=Math.abs(e.w-s)+Math.abs(e.h-l);if(u<o&&i(c,e)&&(o=u,t=c),0===o)break}return t},o.deleteChild=function(){for(var e=document.getElementById("CONTAINER_ID_TO_PUT_AD_IN"),t=e.lastElementChild;t;)e.removeChild(t),t=e.lastElementChild},cc._RF.pop()},{}],FireBall:[function(e,t,o){"use strict";cc._RF.push(t,"3b75aNqdaNIOIPzvHQpdNPY","FireBall");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bumPrefab=null,t}return i(t,e),t.prototype.onCollisionEnter=function(e){var t=this;if(e.node.group===r.GroupConfig.BERRIE)return this.showBumEffect(),this.node.active=!1,this.node.stopAllActions(),void this.node.destroy();e.node.group===r.GroupConfig.CHARACTER&&(this.showBumEffect(),this.scheduleOnce(function(){t.node.opacity=0,t.node.stopAllActions(),cc.Tween.stopAllByTarget(t.node)},.05),this.scheduleOnce(function(){t.node.active=!1,t.node.destroy()},.2))},t.prototype.showBumEffect=function(){var e=cc.instantiate(this.bumPrefab);e.setPosition(this.node.getPosition()),e.scale=.66,this.node.getParent().addChild(e),cc.tween(e).delay(.8).call(function(){e.destroy()}).start()},t.velocityHit=500,a([l(cc.Prefab)],t.prototype,"bumPrefab",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],FloatingAnim:[function(e,t,o){"use strict";cc._RF.push(t,"4493c5Xoa1FjolmfSM9lGyF","FloatingAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=.6,t.x=1.2,t.duration2=.6,t}return i(t,e),t.prototype.play=function(e){var t=cc.sequence(cc.moveBy(this.duration1,cc.v2(0,this.x)),cc.moveBy(this.duration2,cc.v2(0,-this.x)));this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.play(this.node)},a([s(cc.Boolean)],t.prototype,"repeatForever",void 0),a([s(cc.Float)],t.prototype,"duration1",void 0),a([s(cc.Float)],t.prototype,"x",void 0),a([s(cc.Float)],t.prototype,"duration2",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],FlyingCoins:[function(e,t,o){"use strict";cc._RF.push(t,"bf9dbU+4XBJsbyx0t6tqd8S","FlyingCoins");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../MainScene"),c=e("../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coins=null,t.targetPos=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.onEnable=function(){this.flyingCoins(),r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_coin_collect)},t.prototype.flyingCoins=function(){for(var e=this,t=this.node.getParent().convertToNodeSpaceAR(this.targetPos.getParent().convertToWorldSpaceAR(this.targetPos.position)),o=function(o){var i=o;cc.tween(n.coins.children[i]).to(.25,{scale:1},{easing:"quintOut"}).start(),cc.tween(n.coins.children[i]).delay(.1).call(function(){e.coins.children[i].active=!0}).to(.25,{position:cc.v3(n.coins.children[i].x+n.getRandomNum(-90,90),n.coins.children[i].y+n.getRandomNum(-50,50))}).delay(.25+.05*i).to(.5,{position:cc.v3(t.x+20-n.targetPos.width,t.y-20)}).call(function(){e.coins.children[i].active=!1,i===e.coins.children.length-1&&e.node.destroy()}).start()},n=this,i=0;i<this.coins.children.length;i++)o(i)},t.prototype.getRandomNum=function(e,t){var o=t-e,n=Math.random();return e+Math.round(n*o)},t.prototype.setTarget=function(e){this.targetPos=e},t._instance=null,a([u(cc.Node)],t.prototype,"coins",void 0),a([u(cc.Node)],t.prototype,"targetPos",void 0),o=a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId"}],Formatter:[function(e,t,o){"use strict";cc._RF.push(t,"5d9f3i32EdJWKUr6F3ttVqY","Formatter"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],FrameByFrame:[function(e,t,o){"use strict";cc._RF.push(t,"37b91uSOkFFCrubu+v1hcc9","FrameByFrame");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.arrayFrames=[],t.dt=.12,t.reverse=!1,t.autoPlay=!0,t.loop=!1,t.time=0,t.anim=null,t.repeatCb=null,t.animDefault="default",t}return i(t,e),t.prototype.onLoad=function(){if(this.sprite||(this.sprite=this.node.getComponent(cc.Sprite),this.sprite)){var e=this.arrayFrames.length,t=Math.round(1/this.dt);this.time=e/t,this.reverse&&this.arrayFrames.reverse();var o=cc.AnimationClip.createWithSpriteFrames(this.arrayFrames,t);this.anim=this.sprite.node.addComponent(cc.Animation),this.anim.addClip(o,this.animDefault)}else cc.error("SpriteFrameBF: Please add Sprite Component")},t.prototype.onEnable=function(){this.autoPlay&&this.play()},t.prototype.onDisable=function(){this.stop()},t.prototype.play=function(e,t){var o=this;void 0===e&&(e=this.loop),void 0===t&&(t=1),this.anim&&(this.anim.stop(),this.anim.play(this.animDefault,0),t--,(e||t>0)&&(this.repeatCb=function(){o.play(e,t)},this.scheduleOnce(this.repeatCb,this.time)))},t.prototype.stop=function(){this.anim&&(this.anim.stop(),this.unschedule(this.repeatCb))},a([s(cc.Sprite)],t.prototype,"sprite",void 0),a([s([cc.SpriteFrame])],t.prototype,"arrayFrames",void 0),a([s(cc.Float)],t.prototype,"dt",void 0),a([s(cc.Boolean)],t.prototype,"reverse",void 0),a([s(cc.Boolean)],t.prototype,"autoPlay",void 0),a([s(cc.Boolean)],t.prototype,"loop",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],FxUpgrade:[function(e,t,o){"use strict";cc._RF.push(t,"035a8FuXwpEGIn+ybGWvG61","FxUpgrade");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delaySparkle=null,t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.scheduleOnce(function(){e.delaySparkle.active=!0},.7)},a([s(cc.Node)],t.prototype,"delaySparkle",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],GUIUtil:[function(e,t,o){"use strict";cc._RF.push(t,"96d7dsVwBhBvojHmMxxWpVf","GUIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.addClickListener=function(e,t,o,n,i){void 0===i&&(i="");var a=new cc.Component.EventHandler;a.target=t,a.component=o,a.handler=n,a.customEventData=i,e.getComponent(cc.Button).clickEvents.push(a)},e.addToggleListener=function(e,t,o,n,i){void 0===i&&(i="");var a=new cc.Component.EventHandler;a.target=t,a.component=o,a.handler=n,a.customEventData=i,e.getComponent(cc.Toggle).clickEvents.push(a)},e.getDistancePoints=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.getImgBase64=function(){var e=new cc.Node;e.x=cc.visibleRect.width/2,e.y=cc.visibleRect.height/2,e.parent=cc.director.getScene();var t=e.addComponent(cc.Camera);t.backgroundColor=cc.Color.TRANSPARENT,t.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,t.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),t.targetTexture=o,t.render();var i=o.readPixels(),a=document.createElement("canvas"),r=a.getContext("2d"),c=a.width=o.width,s=a.height=o.height;a.width=o.width,a.height=o.height;for(var l=4*c,u=0;u<s;u++){for(var p=s-1-u,d=r.createImageData(c,1),f=p*c*4,h=0;h<l;h++)d.data[h]=i[f+h];r.putImageData(d,0,u)}return a.toDataURL("image/jpeg")},e.addPetForCharacter=function(e){cc.resources.load("HomeIsland/Prefabs/pets/Pet",cc.Prefab,function(t,o){if(!t){var n=cc.instantiate(o);e.addChild(n)}})},e}();o.default=n,cc._RF.pop()},{}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"ea29aooc1FGnJ0IG5Bu1aAz","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig=void 0;var n=function(){function e(){}return e.boss_skin_default="Dirty",e.boss_hat_default="",e.boss_shoe_default="",e.boss_scarf_default="",e.boss_ear_default="",e.boss_glove_default="",e.daughter_skin_default="Dirty",e.daughter_hat_default="",e.daughter_shoe_default="",e.daughter_scarf_default="",e.daughter_ear_default="",e.daughter_glove_default="",e.pin_skin_default="SkinShop_PinBasic",e.coin_default=0,e.coin_level_up=100,e.coin_level_bonus=500,e.coin_watch_skin=1e3,e.coin_watch_shop=1e3,e}();o.GameConfig=n,cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"25501QmpYxCcZCkmxSR9tuZ","GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0;var n=e("./plugins/fb/FBInstantData"),i=e("./config/GlobalSignals"),a=e("./config/RoomConfig"),r=e("./config/GameConfig"),c=e("./config/LevelConfig"),s=e("./config/ItemLevelSkin"),l=e("./room/Building/IslandConfig"),u=e("./base/audio/AudioManager"),p=e("./base/utils/ArrayUtil"),d=e("./CardsSet/CardsSetPopup"),f=e("./pets/PetDataManager"),h=e("./base/GlanceDataAPI"),y=function(){function e(){}return e.initPlayerData=function(e){var t=this;this.isTesting?this.getDataUser(e):h.GlanceAPI.getUserDataId(function(){h.GlanceAPI.getUserData(function(){t.getDataUser(e)})})},e.getDataUser=function(t){var o=this;cc.log("***initPlayerData***"),n.FBInstantData.getData([e.KEY_LEVEL,e.KEY_LEVEL_REAL,e.KEY_CURRENT_LEVEL_PUZZLE,e.KEY_LEVEL_NORMAL,e.KEY_ROOM,e.KEY_ITEMS,e.KEY_CARDS,e.KEY_CURRENT_ITEM,e.KEY_COIN,e.KEY_BOSS_CURRENT_SKIN,e.KEY_BOSS_SKINS,e.KEY_BOSS_CURRENT_HAT,e.KEY_BOSS_HATS,e.KEY_BOSS_CURRENT_SHOE,e.KEY_BOSS_SHOES,e.KEY_BOSS_CURRENT_SCARF,e.KEY_BOSS_CURRENT_GLOVES,e.KEY_BOSS_CURRENT_EAR,e.KEY_DAUGHTER_CURRENT_SKIN,e.KEY_DAUGHTER_SKINS,e.KEY_DAUGHTER_CURRENT_HAT,e.KEY_DAUGHTER_HATS,e.KEY_DAUGHTER_CURRENT_SHOE,e.KEY_DAUGHTER_CURRENT_SCARF,e.KEY_DAUGHTER_CURRENT_GLOVES,e.KEY_DAUGHTER_CURRENT_EAR,e.KEY_DAUGHTER_SHOES,e.KEY_CURRENT_PIN_SKIN,e.KEY_PIN_SKINS,e.KEY_SHOW_INTRO_4,e.KEY_DAILY,e.KEY_RECEIVED_DAILY,e.SAVEDAY,e.KEY_IS_RECEIVED,e.KEY_SHOW_INTRO,e.KEY_SHOW_GUIDE,e.KEY_PETS_DATA,e.KEY_EGGS_DATA,e.KEY_CURRENT_PET,e.SAVE_FREE_CHEST],function(e){o.setPlayerData(e),t&&t()},function(){o.setPlayerData({}),t&&t()})},e.setPlayerData=function(t){console.log("***Set Player Data****"),this.currentLevelId=this.getValue(t,e.KEY_LEVEL,0),this.currentRoomId=this.getValue(t,e.KEY_ROOM,1),this.currentLevelNormal=this.getValue(t,e.KEY_LEVEL_NORMAL,0),this.currentItem=this.getValue(t,e.KEY_CURRENT_ITEM,Math.floor(8*Math.random())),this.tempArr={Item1:0,Item2:0,Item3:0,Item4:0,Item5:0,Item6:0},this.arrayItem=this.getValue(t,e.KEY_ITEMS,this.tempArr),this.playerCoin=this.getValue(t,e.KEY_COIN,0),this.showIntro=this.getValue(t,e.KEY_SHOW_INTRO,!1),this.showIntroLevel4=this.getValue(t,e.KEY_SHOW_INTRO_4,!1),this.doneRoom0=this.getValue(t,e.KEY_SHOW_GUIDE,!1),this.threeLevels=0,this.currentSkinBoss=this.getValue(t,e.KEY_BOSS_CURRENT_SKIN,r.GameConfig.boss_skin_default),this.myBossSkins=this.getValue(t,e.KEY_BOSS_SKINS,[]),this.currentHatBoss=this.getValue(t,e.KEY_BOSS_CURRENT_HAT,r.GameConfig.boss_hat_default),this.myBossHats=this.getValue(t,e.KEY_BOSS_HATS,[]),this.currentShoeBoss=this.getValue(t,e.KEY_BOSS_CURRENT_SHOE,r.GameConfig.boss_shoe_default),this.myBossShoes=this.getValue(t,e.KEY_BOSS_SHOES,[]),this.currentScarfBoss=this.getValue(t,e.KEY_BOSS_CURRENT_SCARF,r.GameConfig.boss_scarf_default),this.currentGloveBoss=this.getValue(t,e.KEY_BOSS_CURRENT_GLOVES,r.GameConfig.boss_glove_default),this.currentEarBoss=this.getValue(t,e.KEY_BOSS_CURRENT_EAR,r.GameConfig.boss_ear_default),this.currentSkinDaughter=this.getValue(t,e.KEY_DAUGHTER_CURRENT_SKIN,r.GameConfig.daughter_skin_default),this.myDaughterSkins=this.getValue(t,e.KEY_DAUGHTER_SKINS,[]),this.currentHatDaughter=this.getValue(t,e.KEY_DAUGHTER_CURRENT_HAT,r.GameConfig.daughter_hat_default),this.myDaughterHats=this.getValue(t,e.KEY_DAUGHTER_HATS,[]),this.currentShoeDaughter=this.getValue(t,e.KEY_DAUGHTER_CURRENT_SHOE,r.GameConfig.daughter_shoe_default),this.currentScarfDaughter=this.getValue(t,e.KEY_DAUGHTER_CURRENT_SCARF,r.GameConfig.daughter_scarf_default),this.currentGloveDaughter=this.getValue(t,e.KEY_DAUGHTER_CURRENT_GLOVES,r.GameConfig.daughter_glove_default),this.currentEarDaughter=this.getValue(t,e.KEY_DAUGHTER_CURRENT_EAR,r.GameConfig.daughter_ear_default),this.myDaughterShoes=this.getValue(t,e.KEY_DAUGHTER_SHOES,[]),this.currentPinSkin=this.getValue(t,e.KEY_CURRENT_PIN_SKIN,r.GameConfig.pin_skin_default),this.myPinSkins=this.getValue(t,e.KEY_PIN_SKINS,[]),this.cards=this.getValue(t,e.KEY_CARDS,this.defaultAlbumCards()),this.cards=JSON.parse(this.cards);for(var o=0;o<this.cards.length;o++)this["cards"+(o+1)]=this.cards[o];this.myCardsSet=this.setMyCardsSet(),this.currentDaily=this.getValue(t,e.KEY_DAILY,0),this.receivedDaily=this.getValue(t,e.KEY_RECEIVED_DAILY,0),this.isReceivedDaily=this.getValue(t,e.KEY_IS_RECEIVED,!1),this.setCurrentDay(t),this.freeChest=this.getValue(t,e.SAVE_FREE_CHEST,0),this.CurrentPet=f.PetDataManager.ConvertDataPet(this.getValue(t,e.KEY_CURRENT_PET,"")),this.myPets=f.PetDataManager.ConvertToArrDataPet(this.getValue(t,e.KEY_PETS_DATA,"")),this.myEggs=f.PetDataManager.ConvertToArrDataEgg(this.getValue(t,e.KEY_EGGS_DATA,"")),u.default.EffectEnable=this.getValue(t,e.KEY_EFFECT_ENABLE,!0),u.default.MusicEnable=this.getValue(t,e.KEY_MUSIC_ENABLE,!0),this.currentLevelReal=this.getValue(t,e.KEY_LEVEL_REAL,this.currentLevelId);var i=this.getValue(t,e.KEY_LEVEL_SIZE,100);if(this.currentLevelReal>i&&(this.currentLevelReal=i),i<c.LevelConfig.levels.length){var a={};a[e.KEY_LEVEL_SIZE]=c.LevelConfig.realLevelSize,n.FBInstantData.setData(a)}},e.saveLevelUp=function(){this.currentLevelId++,this.currentLevelReal++;var t={};t[e.KEY_LEVEL]=this.currentLevelId,t[e.KEY_LEVEL_REAL]=this.currentLevelReal,n.FBInstantData.setDataArray(t)},e.saveLevelNormal=function(){if(this.currentLevelNormal++,this.currentLevelNormal<=c.LevelConfig.realLevelSize){var t={};t[e.KEY_LEVEL_NORMAL]=this.currentLevelNormal,n.FBInstantData.setData(t)}},e.saveCoin=function(t){this.playerCoin=t,i.GlobalSignals.coinUpdateSignal.dispatch();var o={};o[e.KEY_COIN]=t,n.FBInstantData.setData(o)},e.saveShowIntro=function(){this.showIntro=!0;var t={};t[e.KEY_SHOW_INTRO]=!0,n.FBInstantData.setData(t)},e.saveShowIntro4=function(){var t={};this.showIntroLevel4=!0,t[e.KEY_SHOW_INTRO_4]=!0,n.FBInstantData.setData(t)},e.addCoin=function(e){this.saveCoin(this.playerCoin+e)},e.setSkinBoss=function(t,o){if(this.currentSkinBoss!==t){this.currentSkinBoss=t;var i={};i[e.KEY_BOSS_CURRENT_SKIN]=this.currentSkinBoss,n.FBInstantData.setData(i,o)}},e.setHatBoss=function(t,o){if(this.currentHatBoss!==t){this.currentHatBoss=t;var i={};i[e.KEY_BOSS_CURRENT_HAT]=this.currentHatBoss,n.FBInstantData.setData(i,o)}},e.setShoeBoss=function(t,o){if(this.currentShoeBoss!==t){this.currentShoeBoss=t;var i={};i[e.KEY_BOSS_CURRENT_SHOE]=this.currentShoeBoss,n.FBInstantData.setData(i,o)}},e.setSkinDaughter=function(t,o){if(this.currentSkinDaughter!==t){this.currentSkinDaughter=t;var i={};i[e.KEY_DAUGHTER_CURRENT_SKIN]=this.currentSkinDaughter,n.FBInstantData.setData(i,o)}},e.setHatDaughter=function(t,o){if(this.currentHatDaughter!==t){this.currentHatDaughter=t;var i={};i[e.KEY_DAUGHTER_CURRENT_HAT]=this.currentHatDaughter,n.FBInstantData.setData(i,o)}},e.setShoeDaughter=function(t,o){if(this.currentShoeDaughter!==t){this.currentShoeDaughter=t;var i={};i[e.KEY_DAUGHTER_CURRENT_SHOE]=this.currentShoeDaughter,n.FBInstantData.setData(i,o)}},e.addSkinBoss=function(e,t,o){if(-1==e.array.indexOf(t)){switch(e.array.push(t),e.key){case this.KEY_BOSS_HATS:this.myBossHats=e.array;break;case this.KEY_BOSS_SKINS:this.myBossSkins=e.array;break;case this.KEY_BOSS_SHOES:this.myBossShoes=e.array;break;case this.KEY_DAUGHTER_HATS:this.myDaughterHats=e.array;break;case this.KEY_DAUGHTER_SKINS:this.myDaughterSkins=e.array;break;case this.KEY_DAUGHTER_SHOES:this.myDaughterShoes=e.array;break;case this.KEY_PIN_SKINS:this.myPinSkins=e.array}var i={};i[e.key]=e.array,n.FBInstantData.setData(i,o)}else cc.log("myBossSkins already contains this skinId")},e.addPinSkin=function(t,o,i){if(-1==t.array.indexOf(o)){t.array.push(o),this.myPinSkins=t.array;var a={};a[e.KEY_PIN_SKINS]=t.array,n.FBInstantData.setData(a,i)}else cc.log("myPinSkin already contains this skinId")},e.setCurrentPin=function(t,o){this.currentPinSkin=t;var i={};i[e.KEY_CURRENT_PIN_SKIN]=this.currentPinSkin,n.FBInstantData.setData(i,o)},e.addSkinBossOther=function(t){var o={};switch(t){case e.KEY_BOSS_CURRENT_SCARF:o[t]=this.currentScarfBoss=s.ItemSkinLevel.getSkinName(s.ItemLevelSkin.SCARF);break;case e.KEY_BOSS_CURRENT_GLOVES:o[t]=this.currentGloveBoss=s.ItemSkinLevel.getSkinName(s.ItemLevelSkin.GLOVES);break;case e.KEY_BOSS_CURRENT_EAR:o[t]=this.currentEarBoss=s.ItemSkinLevel.getSkinName(s.ItemLevelSkin.EAR);break;case e.KEY_DAUGHTER_CURRENT_SCARF:o[t]=this.currentScarfDaughter=s.ItemSkinLevel.getSkinName(s.ItemLevelSkin.SCARF);break;case e.KEY_DAUGHTER_CURRENT_GLOVES:o[t]=this.currentGloveDaughter=s.ItemSkinLevel.getSkinName(s.ItemLevelSkin.GLOVES);break;case e.KEY_DAUGHTER_CURRENT_EAR:o[t]=this.currentEarDaughter=s.ItemSkinLevel.getSkinName(s.ItemLevelSkin.EAR)}n.FBInstantData.setData(o)},e.setCurrentItem=function(t,o){this.currentItem=t;var i={};i[e.KEY_CURRENT_ITEM]=this.currentItem,n.FBInstantData.setData(i,o)},e.setUpgadeDecor=function(t,o,i){if(!(o<1||o>l.IslandConfig.upgradeCost.length)){this.arrayItem[t]=o;var a={};a[e.KEY_ITEMS]=this.arrayItem,n.FBInstantData.setData(a,i),e.addCoin(-l.IslandConfig.upgradeCost[o-1])}},e.setCurrentRoom=function(t,o){this.currentRoomId=t;var i={};i[e.KEY_ROOM]=this.currentRoomId,n.FBInstantData.setData(i,o)},e.checkItemCollected=function(t){return t.itemConfig.roomId-1<e.currentRoomId},Object.defineProperty(e,"isCreatShortcut",{get:function(){n.FBInstantData.getData([e.KEY_SHORTCUT],function(e){return!!e&&"true"===e},null)},set:function(t){var o;n.FBInstantData.setData(((o={})[e.KEY_SHORTCUT]=t?"true":"false",o))},enumerable:!1,configurable:!0}),e.getValue=function(e,t,o){return""===e[t]||null===e[t]||void 0===e[t]?o:e[t]},e.saveReceivedDaily=function(){this.receivedDaily+=1;var t={};t[e.KEY_RECEIVED_DAILY]=this.receivedDaily,n.FBInstantData.setData(t)},e.saveDAY=function(t){var o={};o[e.KEY_DAILY]=t,n.FBInstantData.setData(o)},e.saveFreeChest=function(){var t={};this.freeChest=Date.now(),t[e.SAVE_FREE_CHEST]=this.freeChest,n.FBInstantData.setData(t)},e.checkCompleteRoom=function(e){for(var t=0,o=0;o<e.length;o++)e[o]&&4==e[o].puzzles.length&&t++;return t==a.RoomConfig.rooms[this.currentRoomId].size},e.setCurrentDay=function(t){this.saveDay=this.getValue(t,e.SAVEDAY,null),this.saveDay&&(Date.now(),Date.now()-this.saveDay>=864e5&&1==this.isReceivedDaily&&(this.setReceivedDaily(!1),this.saveReceivedDaily()))},e.setReceivedDaily=function(t){var o={};this.isReceivedDaily=t,o[e.KEY_IS_RECEIVED]=this.isReceivedDaily,n.FBInstantData.setData(o)},e.setShowGuide=function(t){var o={};this.doneRoom0=t,o[e.KEY_SHOW_GUIDE]=this.doneRoom0,n.FBInstantData.setData(o)},e.setMyCardsSet=function(){for(var e={},t=this.cards,o=0;o<9;o++){var n=p.default.count(t[o],function(e){return e>0});e[""+d.CardsConfig.arrayCards[o].cardId]=n}return e},e.addPet=function(t,o){if(!this.checkHavePet(t.petId)){this.myPets.push(t);var i={};i[e.KEY_PETS_DATA]=JSON.stringify(this.myPets),n.FBInstantData.setData(i,o)}},e.addExpPet=function(t,o,a,r){for(var c,s,l=null,u=!1,p=0;p<this.myPets.length;p++){var d=this.myPets[p];if(d.petId==t){l=d,d.petExp++;var h="Skin"+d.petLevel,y=f.PetDataManager.getMaxExpLevel(h);d.petExp==y&&(d.petLevel++,d.petExp=0,u=!0);break}}a(l,u),r&&(this.playerCoin+=r,n.FBInstantData.setData(((c={})[e.KEY_COIN]=this.playerCoin,c)),i.GlobalSignals.coinUpdateSignal.dispatch()),n.FBInstantData.setData(((s={})[e.KEY_PETS_DATA]=JSON.stringify(this.myPets),s),o)},e.addLevelPet=function(t,o,i){void 0===i&&(i=!0);for(var a=0;a<this.myPets.length;a++){var r=this.myPets[a];r.petId==t&&r.petLevel++}var c={};c[e.KEY_PETS_DATA]=JSON.stringify(this.myPets),n.FBInstantData.setData(c,o)},e.checkHavePet=function(e){for(var t=0;t<this.myPets.length;t++)if(this.myPets[t].petId==e)return!0;return!1},e.addEggNumber=function(t,o){if(!this.checkHaveEgg(t)){var i=new f.EggData;return i.eggId=t,i.eggNumber=1,void this.addEgg(i,o)}for(var a=0;a<this.myEggs.length;a++){var r=this.myEggs[a];r.eggId==t&&r.eggNumber++}var c={};c[e.KEY_EGGS_DATA]=JSON.stringify(this.myEggs),n.FBInstantData.setData(c,o)},e.addEgg=function(t,o){this.myEggs.push(t);var i={};i[e.KEY_EGGS_DATA]=JSON.stringify(this.myEggs),n.FBInstantData.setData(i,o)},e.checkHaveEgg=function(e){for(var t=0;t<this.myEggs.length;t++)if(this.myEggs[t].eggId==e)return!0;return!1},e.getNumberEgg=function(e){for(var t=0;t<this.myEggs.length;t++){var o=this.myEggs[t];if(o.eggId==e)return o.eggNumber}return 0},e.getMyPetWithId=function(t){for(var o=0;o<e.myPets.length;o++){var n=e.myPets[o];if(n.petId==t)return n}return null},e.setCurrentPet=function(t,o){this.CurrentPet=t;var i={};i[e.KEY_CURRENT_PET]=JSON.stringify(this.CurrentPet),n.FBInstantData.setData(i,function(){o()})},e.saveCard=function(t){for(var o={},i=0;i<t.length;i++)for(var a=t[i],r=0;r<a.length;r++){var c=a[r];this.cards[c[0]][c[1]]+=1}o[e.KEY_CARDS]=JSON.stringify(this.cards),n.FBInstantData.setData(o)},e.saveSingleCard=function(t,o){var i={};this.cards[t][o]+=1,i[e.KEY_CARDS]=JSON.stringify(this.cards),n.FBInstantData.setData(i)},e.defaultAlbumCards=function(){for(var e=[],t=0;t<9;t++)e.push([0,0,0,0,0,0,0,0,0]);return JSON.stringify(e)},e.set3Levels=function(t){var o={};this.threeLevels=t,o[e.KEY_3_LEVELS]=this.threeLevels,n.FBInstantData.setData(o)},e.KEY_DATA="hi_data",e.KEY_SHORTCUT="hi_shortcut",e.KEY_LEVEL="hi_level",e.KEY_LEVEL_REAL="hi_level_real",e.KEY_LEVEL_SIZE="hi_level_size",e.KEY_LEVEL_NORMAL="hi_level_normal",e.KEY_CURRENT_LEVEL_PUZZLE="hi_level_puzzle",e.KEY_ROOM="hi_room",e.KEY_ITEMS="hi_items",e.KEY_CURRENT_ITEM="hi_currentDecor",e.KEY_COIN="hi_coin",e.KEY_BOSS_CURRENT_SKIN="hi_boss_current_skin",e.KEY_BOSS_SKINS="hi_boss_skins",e.KEY_BOSS_CURRENT_HAT="hi_boss_current_hat",e.KEY_BOSS_HATS="hi_boss_hats",e.KEY_BOSS_CURRENT_SHOE="hi_boss_current_shoe",e.KEY_BOSS_SHOES="hi_boss_shoes",e.KEY_BOSS_CURRENT_SCARF="hi_boss_current_SCARF",e.KEY_BOSS_CURRENT_EAR="hi_boss_current_EAR",e.KEY_BOSS_CURRENT_GLOVES="hi_boss_current_GLOVES",e.KEY_DAUGHTER_CURRENT_SKIN="hi_daughter_current_skin",e.KEY_DAUGHTER_SKINS="hi_daughter_skins",e.KEY_DAUGHTER_CURRENT_HAT="hi_daughter_current_hat",e.KEY_DAUGHTER_HATS="hi_daughter_hats",e.KEY_DAUGHTER_CURRENT_SHOE="hi_daughter_current_shoe",e.KEY_DAUGHTER_SHOES="hi_daughter_shoes",e.KEY_DAUGHTER_CURRENT_SCARF="hi_daughter_current_SCARF",e.KEY_DAUGHTER_CURRENT_EAR="hi_daughter_current_EAR",e.KEY_DAUGHTER_CURRENT_GLOVES="hi_daughter_current_GLOVES",e.KEY_CURRENT_PIN_SKIN="hi_current_pin_skin",e.KEY_PIN_SKINS="hi_pin_skins",e.KEY_CARDS="hi_cards",e.KEY_PETS_DATA="hi_pet_data",e.KEY_EGGS_DATA="hi_egg_data",e.KEY_CURRENT_PET="hi_current_pet",e.KEY_SHOW_INTRO="hi_Intro",e.KEY_SHOW_INTRO_4="hi_Intro4",e.KEY_SHOW_GUIDE="hi_show_guide",e.KEY_DAILY="hi_daily_reward",e.KEY_RECEIVED_DAILY="hi_received_daily",e.SAVEDAY="hi_daily_reward",e.SAVE_FREE_CHEST="hi_chest_free",e.KEY_IS_RECEIVED="hi_is_reward_daily",e.KEY_3_LEVELS="hi_3levels",e.KEY_EFFECT_ENABLE="hi_EffectEnable",e.KEY_MUSIC_ENABLE="hi_MusicEnable",e.currentLevelReal=0,e.currentLevelId=0,e.currentRoomId=1,e.currentItem=0,e.currentLevelNormal=0,e.showIntro=!1,e.showIntroLevel4=!1,e.myBossSkins=[],e.currentSkinBoss=r.GameConfig.boss_skin_default,e.myBossHats=[],e.currentHatBoss=r.GameConfig.boss_hat_default,e.myBossShoes=[],e.currentShoeBoss=r.GameConfig.boss_shoe_default,e.currentScarfBoss=r.GameConfig.boss_scarf_default,e.currentGloveBoss=r.GameConfig.boss_glove_default,e.currentEarBoss=r.GameConfig.boss_ear_default,e.myDaughterSkins=[],e.currentSkinDaughter=r.GameConfig.daughter_skin_default,e.myDaughterHats=[],e.currentHatDaughter=r.GameConfig.daughter_hat_default,e.myDaughterShoes=[],e.currentShoeDaughter=r.GameConfig.daughter_shoe_default,e.currentScarfDaughter=r.GameConfig.daughter_scarf_default,e.currentGloveDaughter=r.GameConfig.daughter_glove_default,e.currentEarDaughter=r.GameConfig.daughter_ear_default,e.currentPinSkin=r.GameConfig.pin_skin_default,e.myPinSkins=[],e.myCardsSet={},e.defaultCardsSet={cards1:null,cards2:null,cards3:null,cards4:null,cards5:null,cards6:null,cards7:null,cards8:null,cards9:null},e.cards1=[],e.cards2=[],e.cards3=[],e.cards4=[],e.cards5=[],e.cards6=[],e.cards7=[],e.cards8=[],e.cards9=[],e.cards=null,e.isGuideCards=!1,e.freeChest=0,e.arrayItem={},e.tempArr={},e.playerCoin=0,e.currentCoin=0,e.coinPerMin=0,e.coinStickBonus=0,e.currentDaily=0,e.receivedDaily=0,e.saveDay=0,e.isReceivedDaily=!1,e.threeLevels=0,e.CURRENT_VERSION_CODE=2,e.DELTA_TIME=1/60,e.doneRoom0=!1,e.isInitData=!1,e.CurrentPet=null,e.myPets=[],e.myEggs=[],e.isTesting=!0,e}();o.GameData=y,cc._RF.pop()},{"./CardsSet/CardsSetPopup":"CardsSetPopup","./base/GlanceDataAPI":"GlanceDataAPI","./base/audio/AudioManager":"AudioManager","./base/utils/ArrayUtil":"ArrayUtil","./config/GameConfig":"GameConfig","./config/GlobalSignals":"GlobalSignals","./config/ItemLevelSkin":"ItemLevelSkin","./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig","./pets/PetDataManager":"PetDataManager","./plugins/fb/FBInstantData":"FBInstantData","./room/Building/IslandConfig":"IslandConfig"}],GameDistributionHelper:[function(e,t,o){"use strict";cc._RF.push(t,"1d75cvJ9SBPtqEhT8x/7XtU","GameDistributionHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n,i,a=e("../HomeScreen"),r=e("../MainScene"),c=e("./FillBannerGD"),s=e("./TouchManager"),l=document.documentElement,u=document.getElementById("bannerOverlay"),p={w:0,h:0};cc.view.setResizeCallback(function(){cc.RigidBody._resized_=!0,a.default.instance&&a.default.instance.updateUI(),n&&(clearTimeout(n),n=null),i&&(clearTimeout(i),i=null),n=setTimeout(function(){cc.RigidBody._resized_=!1,clearTimeout(n),n=null},50),c.deleteChild(),p.w=u.offsetWidth,p.h=u.offsetHeight;var e=c.findClosestSize(p);e&&(l.style.setProperty("--width",e.w+"px"),l.style.setProperty("--height",e.h+"px")),i=setTimeout(function(){window.gdsdk&&window.gdsdk.showAd(window.gdsdk.AdType.Display,{containerId:"CONTAINER_ID_TO_PUT_AD_IN"}).then(function(){console.info("showAd(window.gdsdk.AdType.Display) resolved.")}).catch(function(e){return console.info(e)})},1e3),cc.sys.isBrowser&&!cc.sys.isMobile||(cc.view.getFrameSize().width>cc.view.getFrameSize().height?(r.default.instance.showRotatePopup(),s.default.instance&&s.default.instance.disableTouch()):(r.default.instance.hideRotatePopup(),s.default.instance&&s.default.instance.enableTouch()))}),cc.RigidBody._resized_=!1,cc.RigidBody.prototype.update=function(){cc.RigidBody._resized_&&(this.sync_position&&this.syncPosition(this.type===cc.RigidBodyType.Animated),this.sync_rotation&&this.syncRotation(this.type===cc.RigidBodyType.Animated))},cc._RF.pop()},{"../HomeScreen":"HomeScreen","../MainScene":"MainScene","./FillBannerGD":"FillBannerGD","./TouchManager":"TouchManager"}],GameDistribution:[function(e,t,o){"use strict";cc._RF.push(t,"25f95+CdvlG6akSGJBylXkG","GameDistribution");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=e("../PlayScreen"),s=e("../config/GameConfig"),l=e("../config/GlobalSignals"),u=e("./audio/AudioManager"),p=cc._decorator,d=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rewardType="",t.isPlayAd=!1,t.effectSoundState=!0,t.musicSoundState=!0,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,window.GD_OPTIONS={gameId:"da1111d4369f4cb08525d593fe515fa4",onEvent:function(e){var t=o._instance;switch(e.name){case"SDK_READY":"undefined"!==gdsdk&&"undefined"!==gdsdk.preloadAd&&(gdsdk.preloadAd("interstitial").then(function(){t.effectSoundState=u.default.EffectEnable,t.musicSoundState=u.default.MusicEnable,o.instance.GDShowAd()}).catch(function(){}),o.instance.preloadInterstitialAd(),o.instance.preloadRewardAd()),window.gdsdk.showAd(window.gdsdk.AdType.Display,{containerId:"CONTAINER_ID_TO_PUT_AD_IN"}).then(function(){return console.info("showAd(window.gdsdk.AdType.Display) resolved.")}).catch(function(e){return console.info(e)});break;case"SDK_GAME_START":cc.director.resume(),u.default.EffectEnable=t.effectSoundState,u.default.MusicEnable=t.musicSoundState;break;case"SDK_GAME_PAUSE":cc.director.pause(),u.default.EffectEnable=!1,u.default.MusicEnable=!1;break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"SDK_REWARDED_WATCH_COMPLETE":if("receiveBonus"==t.rewardType){var n=s.GameConfig.coin_level_bonus;r.GameData.addCoin(n),c.default.instance.nextLevel(null,!0),c.default.instance.showToastReward(n,.5,0)}else"skip"==t.rewardType?(r.GameData.saveLevelUp(),r.GameData.saveLevelNormal(),c.default.instance.nextLevel(null,!0)):"receiveCoinsSKin"==t.rewardType?(n=s.GameConfig.coin_watch_skin,r.GameData.addCoin(n)):"receiveCoinsShop"==t.rewardType?(n=s.GameConfig.coin_watch_shop,r.GameData.addCoin(n)):"watchBonusX5"==t.rewardType?l.GlobalSignals.receiveX5Daily.dispatch():"claimSkin"==t.rewardType&&window.claimSkin()}}}},t.prototype.GDShowAd=function(){(0,window.GD_OPTIONS.onEvent)({name:"ALL_ADS_COMPLETED"})},t.prototype.GDShowRewardedAd=function(){(0,window.GD_OPTIONS.onEvent)({name:"ALL_ADS_COMPLETED"})},t.prototype.preloadRewardAd=function(){},t.prototype.preloadInterstitialAd=function(){},t._instance=null,o=a([d],t)}(cc.Component));o.default=f,cc._RF.pop()},{"../GameData":"GameData","../PlayScreen":"PlayScreen","../config/GameConfig":"GameConfig","../config/GlobalSignals":"GlobalSignals","./audio/AudioManager":"AudioManager"}],GameState:[function(e,t,o){"use strict";cc._RF.push(t,"dacfbcWrcNM+o3V07171I9u","GameState"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameState=void 0,function(e){e[e.BEGIN=0]="BEGIN",e[e.PLAYING=1]="PLAYING",e[e.WIN=2]="WIN",e[e.LOSE=3]="LOSE"}(o.GameState||(o.GameState={})),cc._RF.pop()},{}],GasGO:[function(e,t,o){"use strict";cc._RF.push(t,"588442xVPdBnYyvqUV0nR/N","GasGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.body=null,t.force=6e3,t.timeFly=0,t}return i(t,e),t.prototype.start=function(){this.timeFly=2*Math.random()},t.prototype.update=function(e){if(this.timeFly-=e,this.timeFly<=0){var t=this.force*(2*Math.random()-1),o=this.force*(2*Math.random()-1);this.body.applyForceToCenter(cc.v2(t,o),!0),this.timeFly=1}},a([s(cc.RigidBody)],t.prototype,"body",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],GemsGO:[function(e,t,o){"use strict";cc._RF.push(t,"49758X5lA1HN6r8+iXJWmeX","GemsGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc.Vec3,c=e("../../level/MapLevel"),s=e("../../config/AudioPlayId"),l=e("../../config/GroupConfig"),u=e("../../MainScene"),p=e("../../config/PhysicsConfig"),d=e("../../config/TagObject"),f=cc._decorator,h=f.ccclass,y=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.available=!0,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){p.PhysicsConfig.initPhysicConfig(this.node,"gems")},t.prototype.start=function(){o.transformCount=0,o.colliderBarrieCount=0},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.onCollisionEnter=function(e,t){if(this.available){if(e.node.group===l.GroupConfig.LAVA)return this.available=!1,c.default.instance.countGemsDestroyed++,this.startTransform(),void this.node.destroy();if(e.node.group!==l.GroupConfig.COLLIDER){if(e.node.group===l.GroupConfig.BERRIE||e.node.group===l.GroupConfig.ROCK)return o.colliderBarrieCount++,6===o.colliderBarrieCount&&(u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_gems),this.scheduleOnce(function(){o.colliderBarrieCount=0},.2)),void(2===o.colliderBarrieCount&&this.scheduleOnce(function(){o.colliderBarrieCount=0},.2));e.node.group,l.GroupConfig.WALL}else if(e.node.name==d.TagConfig.BOMB){var n=e.node.getComponent(d.default).tag2;if(n==d.TagConfig.GROUND){var i=cc.v2(this.node.position.x,this.node.position.y);return i=cc.v2(1e5*i.x,1e5*i.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(i,!0)}if(t.node.group==l.GroupConfig.WOOD&&c.default.instance.isQuestBuilding&&c.default.instance.countWoodBuildDestroyed++,n==d.TagConfig.NONE)return c.default.instance.countGemsDestroyForBomb++,void(this.node.active=!1)}}},t.prototype.startTransform=function(){o.transformCount++,2==o.transformCount&&c.default.instance.isPlaying&&u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water)},t.prototype.updatePositionToTarget=function(){if(this.node.getParent()){var e=this.node.getParent().convertToNodeSpaceAR(this.target.getParent().convertToWorldSpaceAR(this.target.position)),t=new r(e.x,e.y+20,0),o=this.node.position;Math.abs(o.x-t.x)<10&&Math.abs(o.y-t.y)<10?this.node.destroy():this.node.position=o.lerp(t,.1)}},t.prototype.moveToTarget=function(e,t){var o=this;this.scheduleOnce(function(){c.default.instance.isCollectGems&&(o.target=e,o.node.removeComponent(cc.RigidBody),o.node.removeComponent(cc.PhysicsCollider),o.schedule(o.updatePositionToTarget.bind(o)))},t)},t.transformCount=0,t.colliderBarrieCount=0,o=a([h],t)}(cc.Component));o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],GemsPool:[function(e,t,o){"use strict";cc._RF.push(t,"420batOFCJMka+Gx/ETcTXT","GemsPool");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GlobalSignals"),c=e("./GemsGO"),s=e("../character/Mom/Mom"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){this._collectByBoss=this.collectByBoss.bind(this),r.GlobalSignals.collectGemsSignal.add(this._collectByBoss)},t.prototype.onDisable=function(){r.GlobalSignals.collectGemsSignal.remove(this._collectByBoss)},t.prototype.collectByBoss=function(){cc.log("collectByBoss");var e=s.default.instance.node;this.node.children.forEach(function(t,o){t.getComponent(c.default).moveToTarget(e,.25+.02*o)})},a([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../character/Mom/Mom":"Mom","./GemsGO":"GemsGO"}],Ghost:[function(e,t,o){"use strict";cc._RF.push(t,"ef6b43f7pxPe6jvPvBw0kWl","Ghost");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./Enemies"),c=e("../../../config/AudioPlayId"),s=e("../../../MainScene"),l=e("../../../config/GroupConfig"),u=e("../../../config/TagObject"),p=e("../../../level/MapLevel"),d=cc._decorator,f=d.ccclass,h=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){this.rigidBody=this.node.getComponent(cc.RigidBody),this.rigidBody.gravityScale=0},t.prototype.onAttackCollider=function(e){if(this.isAlive){if(e.node.group===l.GroupConfig.CHARACTER&&e.node!=this.groundCollider.node)return e.node.name==u.TagConfig.BOSS||e.node.name==u.TagConfig.GIRL||e.node.name==u.TagConfig.DOG||e.node.name==u.TagConfig.DEMON?void this.playAttack(e.node):(this.stopMove(),void this.playAnimation(this.idleAnim,!0));if(e.node.group===l.GroupConfig.ITEM&&e.node.name==u.TagConfig.HOLY_WATER){try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.removeFromParent()}catch(t){cc.warn(t)}return this.stopMove(),void this.changeSkinToSuper()}}},t.prototype.playAttack=function(e){var t=this;this.isAttack||(this.isAttack=!0,this.rotateFaceToTarget(e),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){t.hit.active=t.isAlive,s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_attack_spear)},.2),this.skeleton.setCompleteListener(function(){t.scheduleOnce(function(){t.isAlive&&p.default.instance.isPlaying&&(t.skeleton.setCompleteListener(null),t.playAnimation(t.idleAnim,!0),t.hit.active=!1,t.isAttack=!1,t.stopMove())},.3)}))},t.prototype.onDieIce=function(){this.onDie()},t.prototype.onDieNormal=function(){this.onDie()},t.prototype.onDieFire=function(){this.onDie()},t.prototype.onDie=function(){this.rigidBody.gravityScale=4,this.playAnimation(this.dieAnim),this.hit.active=this.isAlive=!1,this.rootCollider.active=!1},a([f],t)}(r.default));o.default=h,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","./Enemies":"Enemies"}],GlanceDataAPI:[function(e,t,o){"use strict";cc._RF.push(t,"562d5Ph0DZLsL57p29XaC7u","GlanceDataAPI"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlanceAPI=void 0;var n=function(){function e(){}return e.getUserDataId=function(t){var o=window.location.search.substring(1).split("&");e.userId=o.find(function(e){return e.startsWith("userid")}),e.userId?e.userId=e.userId.split("=")[1]:e.userId="",e.gameId=o.find(function(e){return e.startsWith("gameId")}),e.gameId?e.gameId=e.gameId.split("=")[1]:e.gameId="";var n=o.find(function(e){return e.startsWith("env")});n&&(n=n.split("=")[1])==e.env_prod?e.env=e.PROD_URL:e.env=e.STAGING_URL,t&&t()},e.setDataRequest=function(t){return[{userId:e.userId,gameId:e.gameId,index:0,data:JSON.stringify(t)}]},e.getUserData=function(t){fetch(e.env+"/api/v1/externalgames/getData?userId="+e.userId+"&gameId="+e.gameId+"&index=0",{method:"GET",headers:{"Content-Type":"application/json","x-api-key":"30aedfec48ddd7c42cb8cd855b431a774a0d6b17"}}).then(function(e){return cc.log(e),e.text()}).then(function(o){o?(o=JSON.parse(o),e.userData=JSON.parse(o.data)):e.userData={},t&&t(o)})},e.saveUserData=function(t){fetch(e.env+"/api/v1/externalgames/save",{method:"PATCH",headers:{"Content-Type":"application/json","x-api-key":"30aedfec48ddd7c42cb8cd855b431a774a0d6b17"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(){return cc.log("Get data success")}).catch(function(e){return cc.error("Error patching data:",e)})},e.getItem=function(t){return e.userData[t]||null},e.setItem=function(t,o){e.userData[t]=o;var n=this.setDataRequest(e.userData);e.saveUserData(n)},e.STAGING_URL="https://leaderboard-staging.glance.inmobi.com",e.PROD_URL="https://leaderboard.api.glance.inmobi.com",e.apiKey="30aedfec48ddd7c42cb8cd855b431a774a0d6b17",e.env_prod="prod",e.env_staging="stg",e.env="",e.userId="",e.gameId="",e.userData={},e}();o.GlanceAPI=n,cc._RF.pop()},{}],GlobalSignals:[function(e,t,o){"use strict";cc._RF.push(t,"d7e33gGPwZO5rCuV5Ept4/A","GlobalSignals"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalSignals=void 0;var n=e("../base/Signal"),i=function(){function e(){}return e.coinUpdateSignal=new n.Signal,e.coinCurrentUpdateSignal=new n.Signal,e.collectGemsSignal=new n.Signal,e.autoMoveSignal=new n.Signal,e.questFailSignal=new n.Signal,e.questPassSignal=new n.Signal,e.questPassIntro=new n.Signal,e.questDieFireSignal=new n.Signal,e.playAnimPlayerSignal=new n.Signal,e.castleUpgradeSignal=new n.Signal,e.changeSkinBossSignal=new n.Signal,e.changeSkinDaughterSignal=new n.Signal,e.updateBuildButton=new n.Signal,e.successStep=new n.Signal,e.removeStep=new n.Signal,e.updateToggleSound=new n.Signal,e.updateCoinPerSecSignal=new n.Signal,e.onGuide1=new n.Signal,e.changeSkinPetSignal=new n.Signal,e.bossAttackSignal=new n.Signal,e.bossWalkToTargetSignal=new n.Signal,e.daughterGiveEggSignal=new n.Signal,e.daughterIsSaved=new n.Signal,e.refreshChest=new n.Signal,e.receiveX5Daily=new n.Signal,e}();o.GlobalSignals=i,cc._RF.pop()},{"../base/Signal":"Signal"}],GroupConfig:[function(e,t,o){"use strict";cc._RF.push(t,"fa95d9uKKlENZRSJSsK4VfL","GroupConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GroupConfig=void 0;var n=function(){function e(){}return e.DEFAULT="default",e.LAVA="lava",e.BERRIE="berrie",e.GEMS="gems",e.TOUCH="touch",e.CHARACTER="character",e.WATER="water",e.DIRTY="dirty",e.SNOW="snow",e.ROCK="rock",e.ITEM="item",e.COLLIDER="collider",e.SMOKE="smoke",e.COAL="coal",e.DEAD="dead",e.WOOD="wood",e.MATCHBOX="MatchBox",e.BALL="Ball",e.WALL="wall",e}();o.GroupConfig=n,cc._RF.pop()},{}],GuideControllerCards:[function(e,t,o){"use strict";cc._RF.push(t,"24989ptPDRPhorUCqhD061p","GuideControllerCards");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../HomeScreen"),c=e("../../MainScene"),s=e("./GuideStep"),l=e("../../GameData"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.step=[],t.btnUpgrade=null,t.flash=null,t.flash2=null,t.currentStep=0,t.isClicked=!1,t}return i(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.step.length;e++)this.step[e].setClickCallBack(this.stepCallback.bind(this))},t.prototype.stepCallback=function(){this.isClicked||(this.step[this.currentStep].node.active=!1,this.currentStep++,this.currentStep>=this.step.length?this.node.destroy():this.step[this.currentStep].node.active=!0)},t.prototype.openCards=function(){l.GameData.isGuideCards=!0,c.default.instance.showCardPopup()},t.prototype.backToHome=function(){r.default.instance.showUI(),c.default.instance.selectRoomPopup=null},a([d([s.default])],t.prototype,"step",void 0),a([d(cc.Node)],t.prototype,"flash",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../GameData":"GameData","../../HomeScreen":"HomeScreen","../../MainScene":"MainScene","./GuideStep":"GuideStep"}],GuideController:[function(e,t,o){"use strict";cc._RF.push(t,"44412LZLiFMqLdq3/BDICQY","GuideController");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../HomeScreen"),c=e("../../MainScene"),s=e("../RoomPopup"),l=e("./GuideStep"),u=cc.easeIn,p=e("../../ResUtil"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.step=[],t.btnUpgrade=null,t.flash=null,t.hand=null,t.listRoom=null,t.effectHammer=null,t.flash2=null,t.currentStep=0,t.isClicked=!1,t}return i(t,e),t.prototype.onLoad=function(){p.ResUtil.loadPopupByDir("prefabs/rooms/popupRoom",null,null);for(var e=0;e<this.step.length;e++)this.step[e].setClickCallBack(this.stepCallback.bind(this))},t.prototype.getProperty=function(e,t){this.flash2=e,this.btnUpgrade=t},t.prototype.stepCallback=function(){var e=this;if(!this.isClicked){if(this.flash.active=!0,this.flash2.active=!1,this.step[this.currentStep].node.active=!1,this.currentStep++,this.currentStep>0&&(this.listRoom.active=!0),1==this.currentStep)this.step[this.currentStep].node.active=!0,this.flash.active=!1,this.flash2.active=!0,this.btnUpgrade.zIndex=10;else if(2==this.currentStep)return this.btnUpgrade.getChildByName("build_btn_on").getComponent(cc.Button).clickEvents[0].emit([]),this.showEffectHammer(),void this.scheduleOnce(function(){e.step[e.currentStep].node.active=!0},3.2);this.currentStep>=this.step.length?this.node.destroy():this.step[this.currentStep].node.active=!0}},t.prototype.openRoom=function(){c.default.instance.showSelectRoomPopup(),this.scheduleOnce(function(){s.default.instance.hideUI()},.02)},t.prototype.backToHome=function(){r.default.instance.showUI(),c.default.instance.selectRoomPopup=null},t.prototype.showEffectHammer=function(){var e=this;this.effectHammer.active=!0,this.effectHammer.position=cc.v3(this.btnUpgrade.position.x-30,this.btnUpgrade.position.y-30),this.effectHammer.zIndex=10;var t=cc.tween().to(.12,{angle:-35},u(1)).to(.1,{angle:30});cc.tween(this.effectHammer.children[0]).repeat(5,t).by(0,{position:cc.v3(60,60,0)}).repeat(5,t).by(0,{position:cc.v3(0,-100,0)}).repeat(5,t).call(function(){cc.Tween.stopAllByTarget(e.effectHammer),e.effectHammer.active=!1,e.effectHammer.destroy()}).start()},a([h([l.default])],t.prototype,"step",void 0),a([h(cc.Node)],t.prototype,"flash",void 0),a([h(cc.Node)],t.prototype,"hand",void 0),a([h(cc.Node)],t.prototype,"listRoom",void 0),a([h(cc.Node)],t.prototype,"effectHammer",void 0),a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../HomeScreen":"HomeScreen","../../MainScene":"MainScene","../../ResUtil":"ResUtil","../RoomPopup":"RoomPopup","./GuideStep":"GuideStep"}],GuideStep:[function(e,t,o){"use strict";cc._RF.push(t,"d634exZ+qhPjLTNDS2dyjqY","GuideStep");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delay=0,t}return i(t,e),t.prototype.setClickCallBack=function(e){this.callbackFunc=e},t.prototype.clickCallBack=function(){var e=this;this.scheduleOnce(function(){e.callbackFunc()},this.delay)},a([s()],t.prototype,"delay",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],Guide:[function(e,t,o){"use strict";cc._RF.push(t,"59e4eFOo2pOKo0g8Z7snpfq","Guide");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/GlobalSignals"),c=e("../hand/Hand"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handPriorityArr=[],t.stepNumber=1,t.stepNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.activeStep(),r.GlobalSignals.removeStep.add(this.removeStep.bind(this)),r.GlobalSignals.successStep.add(this.successStep.bind(this))},t.prototype.activeStep=function(){if(this.handPriorityArr.length)for(var e=0;e<this.handPriorityArr.length;e++){var t=this.handPriorityArr[e];t.name=(e+1).toString(),0==e?(t.getComponent(c.default).setActiveHand(),this.stepNode=t):t.active=!1}},t.prototype.successStep=function(){var e=this.stepNode.getComponent(c.default).getActiveStickOnHand();this.stepNode.active=e,this.stepNode.active||(this.removeStep(),this.stepNumber++)},t.prototype.removeStep=function(){this.handPriorityArr.shift(),this.activeStep()},t.prototype.onDisable=function(){r.GlobalSignals.removeStep.remove(this.removeStep.bind(this)),r.GlobalSignals.successStep.remove(this.successStep.bind(this))},a([u([cc.Node])],t.prototype,"handPriorityArr",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../hand/Hand":"Hand"}],Hand:[function(e,t,o){"use strict";cc._RF.push(t,"6a4b81IUr9IupU9KOMqBRPL","Hand");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../objects/barrier/StickHold"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stickHold=null,t}return i(t,e),t.prototype.setActiveHand=function(){this.stickHold&&(this.node.active=this.stickHold.getComponent(r.default)._active)},t.prototype.getActiveStickOnHand=function(){return this.stickHold.getComponent(r.default)._active},a([l(cc.Node)],t.prototype,"stickHold",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../objects/barrier/StickHold":"StickHold"}],Hasher:[function(e,t,o){"use strict";cc._RF.push(t,"1ce7bQAEo5GwqN1P8O2GU7b","Hasher");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Hasher=void 0;var a=function(e){function t(t){var o=e.call(this,Object.assign({blockSize:16},t))||this;return o.reset(),o}return i(t,e),t._createHelper=function(e){return function(t,o){return new e(o).finalize(t)}},t.prototype.update=function(e){return this._append(e),this._process(),this},t.prototype.finalize=function(e){return e&&this._append(e),this._doFinalize()},t}(e("../lib/BufferedBlockAlgorithm").BufferedBlockAlgorithm);o.Hasher=a,cc._RF.pop()},{"../lib/BufferedBlockAlgorithm":"BufferedBlockAlgorithm"}],Hex:[function(e,t,o){"use strict";cc._RF.push(t,"c6ade/e3RxN56M3AatxdO1q","Hex"),Object.defineProperty(o,"__esModule",{value:!0}),o.Hex=void 0;var n=e("../lib/WordArray"),i=function(){function e(){}return e.stringify=function(e){for(var t=[],o=0;o<e.sigBytes;o++){var n=e.words[o>>>2]>>>24-o%4*8&255;t.push((n>>>4).toString(16)),t.push((15&n).toString(16))}return t.join("")},e.parse=function(e){for(var t=e.length,o=[],i=0;i<t;i+=2)o[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new n.WordArray(o,t/2)},e}();o.Hex=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],HomeScreen:[function(e,t,o){"use strict";cc._RF.push(t,"573e4h+CpRNaq7XKhg4C1Rb","HomeScreen");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./MainScene"),c=e("./config/AudioPlayId"),s=e("./GameData"),l=e("./ResUtil"),u=e("./room/MyRoom"),p=e("./base/SetLabelLanguage"),d=e("./level/MapLevel"),f=e("./config/GameState"),h=e("./base/GameDistribution"),y=e("./base/audio/AudioManager"),g=cc._decorator,_=g.ccclass,v=g.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelLabel=null,t.roomRoot=null,t.uiRoot=null,t.topUI=null,t.botUI=null,t.blockInput=null,t.btnRoom=null,t.btnCards=null,t.backgroundMusic=null,t.firstInitStartGame=!0,t.visibleRoomId=-1,t.uiMoving=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.onEnable=function(){cc.log("HomeScreen onEnable"),this.backgroundMusic||(this.backgroundMusic=r.default.instance.audioPlayer.playAudio(c.AudioPlayId.background_home,!0)),this.loadCurrentRoom(),s.GameData.currentLevelId<8?this.btnRoom.active=!0:this.btnRoom.active=!1,s.GameData.currentLevelId<20?this.btnCards.active=!0:this.btnCards.active=!1,!s.GameData.isReceivedDaily&&d.default.instance&&d.default.instance.gameState!=f.GameState.WIN&&r.default.instance.showDailyPopup(),this.levelLabel.string=p.ChangeLanguage.getText("level")+(s.GameData.currentLevelId+1)},t.prototype.onDisable=function(){this.backgroundMusic&&(r.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null)},t.prototype.activeHomeUI=function(){cc.log("activeHomeUI"),s.GameData.doneRoom0&&(this.uiRoot.active=!0)},t.prototype.initOpenItem=function(e,t){var o=this;this.uiRoot.active=!1,this.roomRoot.removeAllChildren(),this.loadCurrentRoom(function(){var n=o.roomRoot.children[0].getComponent(u.default);n&&n.openItem(e,t)})},t.prototype.loadCurrentRoom=function(e){var t=this;void 0===e&&(e=null),this.loadRoom(s.GameData.currentRoomId,function(){e&&e(),t.firstInitStartGame&&(t.firstInitStartGame=!1)})},t.prototype.loadRoom=function(e,t){var o=this;void 0===t&&(t=null),r.default.instance.showLoading(),l.ResUtil.loadRoomById(e,function(n){r.default.instance.hideLoading(),o.roomRoot.childrenCount>0&&o.roomRoot.removeAllChildren();var i=cc.instantiate(n);o.visibleRoomId=e,o.roomRoot.addChild(i),t&&t()})},t.prototype.playGame=function(){h.default.instance.effectSoundState=y.default.EffectEnable,h.default.instance.musicSoundState=y.default.MusicEnable,h.default.instance.GDShowAd(),r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),null!=r.default.instance.loadLevelCallback?(r.default.instance.showLoading(),r.default.instance.loadLevelCallback=function(){r.default.instance.showGamePlayScreen(),r.default.instance.hideLoading()}):r.default.instance.showGamePlayScreen()},t.prototype.onClickSetting=function(){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),r.default.instance.showSettingPopup()},t.prototype.onClickPet=function(){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),r.default.instance.showPetPopup()},t.prototype.onClickSelectRoom=function(){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),r.default.instance.showSelectRoomPopup()},t.prototype.onClickOutfit=function(){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),r.default.instance.showSkinPopup()},t.prototype.onClickDaily=function(){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),r.default.instance.showDailyPopup()},t.prototype.onClickCards=function(){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),r.default.instance.showCardPopup()},t.prototype.onClickShop=function(){r.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.6),r.default.instance.showShopPopup()},t.prototype.hideUI=function(){this.uiMoving=!0,this.topUI.y+=200,this.topUI.active=!1,this.botUI.y-=400,this.roomRoot.children[0].getComponent(u.default).openPopupItems()},t.prototype.showUI=function(){this.topUI.active=!0,cc.tween(this.topUI).to(.3,{position:cc.v3(0,0,0)}).start(),cc.tween(this.botUI).to(.3,{position:cc.v3(0,-505,0)}).start(),this.roomRoot.children[0].getComponent(u.default).closePopupItems(),this.uiMoving=!1},t.prototype.updateUI=function(){this.uiMoving&&(this.topUI.active=!1,this.botUI.active=!1)},t._instance=null,a([v(cc.Label)],t.prototype,"levelLabel",void 0),a([v(cc.Node)],t.prototype,"roomRoot",void 0),a([v(cc.Node)],t.prototype,"uiRoot",void 0),a([v(cc.Node)],t.prototype,"topUI",void 0),a([v(cc.Node)],t.prototype,"botUI",void 0),a([v(cc.Node)],t.prototype,"blockInput",void 0),a([v(cc.Node)],t.prototype,"btnRoom",void 0),a([v(cc.Node)],t.prototype,"btnCards",void 0),o=a([_],t)}(cc.Component);o.default=m,cc._RF.pop()},{"./GameData":"GameData","./MainScene":"MainScene","./ResUtil":"ResUtil","./base/GameDistribution":"GameDistribution","./base/SetLabelLanguage":"SetLabelLanguage","./base/audio/AudioManager":"AudioManager","./config/AudioPlayId":"AudioPlayId","./config/GameState":"GameState","./level/MapLevel":"MapLevel","./room/MyRoom":"MyRoom"}],ICharacterCollider:[function(e,t,o){"use strict";cc._RF.push(t,"155836eOTtDl5t03fvj3xTX","ICharacterCollider"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IconQuest:[function(e,t,o){"use strict";cc._RF.push(t,"2a68fO1KYZNaruNiQMRMCHc","IconQuest");var n=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.IconQuest=void 0;var i=e("../config/QuestType"),a=cc._decorator,r=a.ccclass,c=a.property,s=function(){function e(){this.questType=i.QuestType.COLLECT_GEMS,this.icon=null}return n([c({type:cc.Enum(i.QuestType)})],e.prototype,"questType",void 0),n([c(cc.SpriteFrame)],e.prototype,"icon",void 0),n([r("IconQuest")],e)}();o.IconQuest=s,cc._RF.pop()},{"../config/QuestType":"QuestType"}],IntroController:[function(e,t,o){"use strict";cc._RF.push(t,"fe878txHCxOPKpXHLg6Es57","IntroController");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),c=e("./HomeScreen"),s=e("./MainScene"),l=e("./PlayScreen"),u=e("./ResUtil"),p=e("./config/AudioPlayId"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mother=null,t.father=null,t.daugther=null,t.isFinish=!1,t.cbFinishedIntro=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,this.node.getComponent(cc.Animation).on("finished",this.onFinishedIntro,this),u.ResUtil.loadRoomById(1)},t.prototype.onEnable=function(){u.ResUtil.loadLevelById(r.GameData.currentLevelNormal)},t.prototype.onDisable=function(){this.node.getComponent(cc.Animation).off("finished",this.onFinishedIntro,this)},t.prototype.PlaySoundIntro=function(){},t.prototype.PlayCoupleScene1=function(){},t.prototype.PlayMotherScene1=function(){},t.prototype.PlayCoupleScene2=function(){},t.prototype.PlayMotherScene2=function(){},t.prototype.onFinishedIntro=function(){this.isFinish||(r.GameData.saveShowIntro(),this.cbFinishedIntro(),l.default.instance.ui.active=!0,this.node.destroy())},t.prototype.lightingScene=function(){this.daugther.setAnimation(0,"Cutscene1/Scared",!1),this.father.setAnimation(0,"CutScene1/Scared",!1),this.mother.setAnimation(0,"CutScene1/Scared",!1)},t.prototype.standAnim=function(){var e=this,t=this.mother.findAnimation("Pot_Win3").duration;this.mother.addAnimation(0,"Pot_Win3",!1),this.scheduleOnce(function(){e.mother.addAnimation(0,"Pot_Win4",!1)},t)},t.prototype.standAnimIsLand=function(){this.mother.setAnimation(0,"CutScene2/Idle_StandUp",!1),this.mother.addAnimation(0,"CutScene2/StandUp",!1),this.mother.addAnimation(0,"CutScene2/Walk2",!0),this.daugther.setAnimation(0,"CutScene2/Idle_StandUp",!1),this.daugther.addAnimation(0,"CutScene2/StandUp",!1),this.daugther.addAnimation(0,"CutScene2/Walk2",!0)},t.prototype.doneCutScene2=function(){r.GameData.saveShowIntro4(),l.default.instance.loadCurrentLevel(!1),l.default.instance.ui.active=!0,this.node.destroy()},t.prototype.loadRoom=function(){var e=this;l.default.instance.gotoHomeScreen(),this.scheduleOnce(function(){c.default.instance.loadRoom(1,null),e.node.destroy()},.6)},t.prototype.setCbFinishedIntro=function(e){this.cbFinishedIntro=e},t.prototype.onSoundRainThunder=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.bg_rain_thunder)},t.prototype.onSoundWind=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.bg_wind,!0)},t.prototype.onSoundBigWind=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.bg_big_wind,!0,.5)},t.prototype.onSoundDaughterSayHa=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.daughter_say_ha)},t.prototype.onSoundDowning=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_downing)},t.prototype.onSoundFatherSay=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.father_say_that_right)},t.prototype.onSoundMontherSay=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.mom_say_iloveyou,!1,.7)},t.prototype.onSoundHelpMe=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.mom_say_help_me)},t.prototype.onSoundHelpDouble=function(){s.default.instance.audioPlayer.playAudio(p.AudioPlayId.mom_say_help_double)},t._instance=null,a([h(sp.Skeleton)],t.prototype,"mother",void 0),a([h(sp.Skeleton)],t.prototype,"father",void 0),a([h(sp.Skeleton)],t.prototype,"daugther",void 0),a([h(cc.Boolean)],t.prototype,"isFinish",void 0),o=a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./MainScene":"MainScene","./PlayScreen":"PlayScreen","./ResUtil":"ResUtil","./config/AudioPlayId":"AudioPlayId"}],IslandConfig:[function(e,t,o){"use strict";cc._RF.push(t,"e1427olLYJJnrprO1WodpLJ","IslandConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.IslandConfig=o.Island1=o.IslandName=void 0;var n,i,a=e("../../GameData");(function(e){e[e.None=0]="None",e[e.Island1=1]="Island1",e[e.Island2=2]="Island2"})(n=o.IslandName||(o.IslandName={})),function(e){e.Item1="nuoc",e.Item2="coixay",e.Item3="home",e.Item4="leu",e.Item5="Fire",e.Item6="flower"}(i=o.Island1||(o.Island1={}));var r=function(){function e(){}return e.getIslandItems=function(e){switch(e){case n.Island1:return i}return null},e.calculateBonus=function(){this.totalBonus=0;for(var e=Object.values(a.GameData.arrayItem),t=0;t<e.length;t++)this.minMoney[e[t]-1]&&(this.totalBonus+=this.minMoney[e[t]-1])},e.perSecBonus=function(){return this.totalBonus/60},e.updatePlayerCoin=function(){var e=this.perSecBonus();e&&a.GameData.addCoin(e)},e.totalBonus=0,e.upgradeCost=[200,300,500,800,1e3],e.minMoney=[10,20,30,40,50],e}();o.IslandConfig=r,cc._RF.pop()},{"../../GameData":"GameData"}],ItemCard:[function(e,t,o){"use strict";cc._RF.push(t,"bb542ud0DFCu77waN5ZODoh","ItemCard");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/GlobalSignals"),s=e("../../config/PhysicsConfig"),l=e("../../GameData"),u=e("../../config/TagObject"),p=e("../../level/MapLevel"),d=e("../../config/GameState"),f=e("../../ResUtil"),h=e("../../base/utils/MathUtil"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.isAlive=!0,t.puzzles=null,t.card=null,t.set=null,t.starType1=[4,3,1,1,0],t.starType2=[3,2,2,1,1],t.spriteIcon=[],t.defaultSprite=[],t.frontSprite=null,t.dir="/HomeIsland/Sprites/Cards/CollectionCards/",t}return i(t,e),t.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"item")},t.prototype.start=function(){var e=Math.floor((l.GameData.currentLevelId+1)/20-1);if(e<9)this.sprite.spriteFrame=this.spriteIcon[e];else{this.node.getComponent(u.default).setTag(u.TagConfig.CARD_DEFAULT);var t,o=this.getCard();t=0==o.set?this.getStarCards(this.starType1,o.card):this.getStarCards(this.starType2,o.card),this.sprite.spriteFrame=this.defaultSprite[t-1],this.getSpriteCard(o),this.cardConfig=o}},t.prototype.onCollisionEnter=function(e){this.isAlive&&e.node.group===r.GroupConfig.COLLIDER&&(!e.node.getComponent(u.default)||e.node.getComponent(u.default).tag2!=u.TagConfig.HIT&&e.node.name!=u.TagConfig.BOMB||(this.isAlive=!1,p.default.instance.gameState==d.GameState.PLAYING&&c.GlobalSignals.questFailSignal.dispatch(),this.node.destroy()))},t.prototype.getCard=function(){return{set:h.default.randomInt(9),card:h.default.randomInt(9)}},t.prototype.getStarCards=function(e,t){for(var o=0,n=0;n<e.length;n++)if((o+=e[n])>t)return n+1},t.prototype.getSpriteCard=function(e){var t=this,o=e.set+1,n=e.card+1,i=this.dir+"cards"+o+"/Card"+n;f.ResUtil.loadSprite(i,function(e){var o=new cc.SpriteFrame;o.setTexture(e),t.frontSprite=o})},t.prototype.runAnim=function(e,t){var o=this;l.GameData.saveSingleCard(this.cardConfig.set,this.cardConfig.card),cc.tween(this.node).to(.4,{scaleX:0}).call(function(){o.sprite.spriteFrame=o.frontSprite}).to(.4,{scaleX:e}).delay(.4).call(function(){o.node.active=!1,t()}).start()},a([_(cc.Sprite)],t.prototype,"sprite",void 0),a([_([cc.SpriteFrame])],t.prototype,"spriteIcon",void 0),a([_([cc.SpriteFrame])],t.prototype,"defaultSprite",void 0),a([g],t)}(cc.Component);o.default=v,cc._RF.pop()},{"../../GameData":"GameData","../../ResUtil":"ResUtil","../../base/utils/MathUtil":"MathUtil","../../config/GameState":"GameState","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],ItemChest:[function(e,t,o){"use strict";cc._RF.push(t,"681e1NSsvhH4pIVVIjWga3a","ItemChest");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/GlobalSignals"),s=e("../../base/ColliderCallback"),l=e("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.dieAnim="Fire",t.openAnim="Animation",t.gemsPrefab=null,t.firePrefab2=null,t.collider=null,t.isAlive=!0,t}return i(t,e),t.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"chest")},t.prototype.start=function(){this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},t.prototype.onCollisionEnter=function(e){if(this.isAlive)return e.node.group===r.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},t.prototype.openItem=function(){var e=this;this.playAnimation(this.openAnim,!1);var t=this.skeleton.findAnimation(this.openAnim).duration;this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){var t=cc.instantiate(e.gemsPrefab);t.position=cc.Vec3.ZERO,e.node.addChild(t)},t)},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this},t.prototype.addAnimation=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,e,t,o),this},t.prototype.showFireEffect=function(){if(this.firePrefab2){var e=cc.instantiate(this.firePrefab2);e.setPosition(0,0),e.scale=1,this.node.addChild(e),cc.tween(e).delay(2).call(function(){e.destroy()}).start()}else cc.warn("firePrefab is null")},a([d(sp.Skeleton)],t.prototype,"skeleton",void 0),a([d(cc.String)],t.prototype,"dieAnim",void 0),a([d(cc.String)],t.prototype,"openAnim",void 0),a([d(cc.Prefab)],t.prototype,"gemsPrefab",void 0),a([d(cc.Prefab)],t.prototype,"firePrefab2",void 0),a([d(s.default)],t.prototype,"collider",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemLevelSkin:[function(e,t,o){"use strict";var n;cc._RF.push(t,"2c233GpqRtFHaMf7UIzItnq","ItemLevelSkin"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemSkinLevel=o.ItemLevelSkin=void 0,function(e){e[e.NONE=0]="NONE",e[e.HAT=1]="HAT",e[e.SHIRT=2]="SHIRT",e[e.SHOE=3]="SHOE",e[e.EAR=4]="EAR",e[e.SCARF=5]="SCARF",e[e.GLOVES=6]="GLOVES",e[e.OTHER=7]="OTHER",e[e.ITEMHAND=8]="ITEMHAND"}(n=o.ItemLevelSkin||(o.ItemLevelSkin={}));var i=function(){function e(){}return e.getSkinName=function(e){switch(e){case n.HAT:return"Hat_Red";case n.SHIRT:return"Clothes7";case n.SHOE:return"Shoes7";case n.EAR:return"Chuptai";case n.SCARF:return"Scarf";case n.GLOVES:return"Gloves";case n.ITEMHAND:return"ItemHand"}return""},e}();o.ItemSkinLevel=i,cc._RF.pop()},{}],ItemLevelType:[function(e,t,o){"use strict";cc._RF.push(t,"f0ee2efa2pFcL7q2XTCGemM","ItemLevelType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemLevelType=void 0,function(e){e[e.NONE=0]="NONE",e[e.HAT=1]="HAT",e[e.SHIRT=2]="SHIRT",e[e.SHOE=3]="SHOE",e[e.GLOVE=4]="GLOVE",e[e.OTHER=5]="OTHER"}(o.ItemLevelType||(o.ItemLevelType={})),cc._RF.pop()},{}],ItemLevel:[function(e,t,o){"use strict";cc._RF.push(t,"bfbfbVQx7lJfrq/RpThfojS","ItemLevel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GlobalSignals"),c=e("../../config/GroupConfig"),s=e("../../config/PhysicsConfig"),l=e("../../config/TagObject"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemDefault=null,t.isDestroy=!1,t}return i(t,e),t.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"item")},t.prototype.onCollisionEnter=function(e){if(e.node.group===c.GroupConfig.COLLIDER&&e.node.name==l.TagConfig.BOMB){var t=e.node.getComponent(l.default).tag2;if(t==l.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}return t==l.TagConfig.NONE?(this.node.removeFromParent(),this.isDestroy=!0,void this.scheduleOnce(function(){r.GlobalSignals.questFailSignal.dispatch()},.3)):void 0}},a([d(cc.Prefab)],t.prototype,"itemDefault",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],ItemLoot:[function(e,t,o){"use strict";cc._RF.push(t,"1fd7e2dGtBKjYNZzFe+WWuR","ItemLoot");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemConfig=void 0;var r=e("../../config/GroupConfig"),c=e("../../config/GlobalSignals"),s=e("../../base/ColliderCallback"),l=e("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(){function e(){this.skin="",this.roomId=1,this.itemId=1,this.part=1}return a([d(cc.Integer)],e.prototype,"roomId",void 0),a([d(cc.Integer)],e.prototype,"itemId",void 0),a([d(cc.Integer)],e.prototype,"part",void 0),a([p("ItemConfig")],e)}();o.ItemConfig=f;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.dieAnim="Die",t.openAnim="animation",t.collider=null,t.itemConfig=null,t.chestPrefab=null,t.flashPrefab=null,t.firePrefab=null,t.isAlive=!0,t}return i(t,e),t.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"item")},t.prototype.start=function(){this.itemConfig.skin=this.skeleton.defaultSkin,this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},t.prototype.onCollisionEnter=function(e){if(this.isAlive)return e.node.group===r.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},t.prototype.openItem=function(){var e=this;this.playAnimation(this.openAnim,!1),this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){e.showFlashEffect()},.2)},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this},t.prototype.addAnimation=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,e,t,o),this},t.prototype.showFireEffect=function(){if(this.firePrefab){var e=cc.instantiate(this.firePrefab);e.setPosition(0,0),e.scale=1,this.node.addChild(e),cc.tween(e).delay(2).call(function(){e.destroy()}).start()}else cc.warn("firePrefab is null")},t.prototype.showFlashEffect=function(){if(this.flashPrefab){var e=cc.instantiate(this.flashPrefab);e.setPosition(0,70),this.node.addChild(e)}else cc.warn("flashPrefab is null")},a([d(cc.Sprite)],t.prototype,"sprite",void 0),a([d(cc.String)],t.prototype,"dieAnim",void 0),a([d(cc.String)],t.prototype,"openAnim",void 0),a([d(s.default)],t.prototype,"collider",void 0),a([d(f)],t.prototype,"itemConfig",void 0),a([d(cc.Prefab)],t.prototype,"chestPrefab",void 0),a([d(cc.Prefab)],t.prototype,"flashPrefab",void 0),a([d(cc.Prefab)],t.prototype,"firePrefab",void 0),a([p],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemPart:[function(e,t,o){"use strict";cc._RF.push(t,"10058xOgE5E3ZglYUPYvMCB","ItemPart");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/AudioPlayId"),c=e("../../config/GlobalSignals"),s=e("../../config/GroupConfig"),l=e("../../config/PhysicsConfig"),u=e("../../config/TagObject"),p=e("../../MainScene"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mergePrefab=null,t.mergeFx=null,t.isMerging=!1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"item")},t.prototype.onCollisionEnter=function(e){var t=this;if(e.node.group===s.GroupConfig.COLLIDER&&e.node.name==u.TagConfig.BOMB){var n=e.node.getComponent(u.default).tag2;if(n==u.TagConfig.GROUND){var i=cc.v2(this.node.position.x,this.node.position.y);return i=cc.v2(1e5*i.x,1e5*i.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(i,!0)}if(n==u.TagConfig.NONE)return this.node.removeFromParent(),void this.scheduleOnce(function(){c.GlobalSignals.questFailSignal.dispatch()},.3)}if(e.node.name==u.TagConfig.IP){if(this.isMerging)return;this.isMerging=!0,e.node.getComponent(o).isMerging=!0;var a=this.node.position.lerp(e.node.position,0),l=cc.instantiate(this.mergePrefab),d=cc.instantiate(this.mergeFx),f=this.node.position.x<e.node.position.x;cc.tween(this.node).call(function(){t.node.removeComponent(cc.RigidBody),t.node.removeComponent(cc.PhysicsCollider)}).by(.3,{position:f?new cc.Vec3(-70,0):new cc.Vec3(70,0)},{easing:"quartOut"}).by(.3,{position:f?new cc.Vec3(120,0):new cc.Vec3(-120,0)},{easing:"quartIn"}).call(function(){l.scale=0,d.parent=l.parent=t.node.parent,d.scale=.8,l.position=d.position=a,cc.tween(l).to(.2,{scale:1},{easing:"quadOut"}).start(),t.node.removeFromParent()}).start(),cc.tween(e.node).call(function(){e.node.removeComponent(cc.RigidBody),e.node.removeComponent(cc.PhysicsCollider)}).by(.3,{position:f?new cc.Vec3(70,0):new cc.Vec3(-70,0)},{easing:"quartOut"}).by(.3,{position:f?new cc.Vec3(-120,0):new cc.Vec3(120,0)},{easing:"quartIn"}).call(function(){p.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_merge_attack),e.node.removeFromParent()}).start()}},a([h(cc.Prefab)],t.prototype,"mergePrefab",void 0),a([h(cc.Prefab)],t.prototype,"mergeFx",void 0),o=a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],ItemPetSwitch:[function(e,t,o){"use strict";cc._RF.push(t,"bbd1amz6QhGqLgHDsJ7XEIp","ItemPetSwitch");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/GlobalSignals"),c=e("../GameData"),s=e("../ResUtil"),l=e("./PetDataManager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.skeleton=null,t.light=null,t.ClickCallback=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.onClickPet=function(){if(this.cfg.isHave){this.setActiveLight(!0);var e=c.GameData.getMyPetWithId(this.cfg.petCfg.petId);if(!e)return;var t=l.PetDataManager.cloneAPet(e);t.petLevel=this.cfg.level,c.GameData.setCurrentPet(t,function(){}),r.GlobalSignals.changeSkinPetSignal.dispatch()}this.ClickCallback(this.cfg)},t.prototype.initItemPetSwitch=function(e,t){var o=this;void 0===t&&(t=null),this.ClickCallback=t,this.cfg&&this.cfg.petCfg.petId==e.petCfg.petId||s.ResUtil.getSpineAnimPet(e.petCfg,function(t,n){if(!t){o.skeleton.skeletonData=n;var i="Skin"+e.level;o.skeleton.setSkin(i),o.skeleton.setAnimation(0,"Idle",!0)}}),this.cfg=e,e.isHave?(e.isSelected?this.setActiveLight(!0):this.setActiveLight(!1),this.skeleton.node.color=new cc.Color(255,255,255,255)):(this.setActiveLight(!1),this.skeleton.node.color=new cc.Color(0,0,0,255))},t.prototype.setActiveLight=function(e){this.light.active=e},a([d(cc.Label)],t.prototype,"label",void 0),a([d(sp.Skeleton)],t.prototype,"skeleton",void 0),a([d(cc.Node)],t.prototype,"light",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals","./PetDataManager":"PetDataManager"}],ItemPuzzle:[function(e,t,o){"use strict";cc._RF.push(t,"45ca0Xw5OFLnoclTw0wE2d4","ItemPuzzle");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/GlobalSignals"),s=e("../../config/PhysicsConfig"),l=e("../../config/PuzzlesConfig"),u=e("../../GameData"),p=e("../../config/TagObject"),d=e("../../level/MapLevel"),f=e("../../config/GameState"),h=e("../../ResUtil"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.moneyBag=null,t.isAlive=!0,t.puzzles=null,t}return i(t,e),t.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"item")},t.prototype.start=function(){},t.prototype.onCollisionEnter=function(e){this.isAlive&&e.node.group===r.GroupConfig.COLLIDER&&e.node.getComponent(p.default)&&e.node.getComponent(p.default).tag2==p.TagConfig.HIT&&(this.isAlive=!1,d.default.instance.gameState==f.GameState.PLAYING&&c.GlobalSignals.questFailSignal.dispatch(),this.node.destroy())},t.prototype.getPuzzles=function(){var e,t=this;e=h.ResUtil.getRandomLeftArr(u.GameData.arrayItem[u.GameData.currentItem].puzzles,4);var o="/HomePin2/Puzzle/Decor"+u.GameData.currentRoomId+"/"+Object.values(l.PuzzlesConfig.puzzlesArray[u.GameData.currentItem])[e];h.ResUtil.loadSprite(o,function(e){var o=new cc.SpriteFrame;o.setTexture(e),t.sprite.spriteFrame=o}),this.puzzles=e},a([_(cc.Sprite)],t.prototype,"sprite",void 0),a([_(cc.Prefab)],t.prototype,"moneyBag",void 0),a([g],t)}(cc.Component);o.default=v,cc._RF.pop()},{"../../GameData":"GameData","../../ResUtil":"ResUtil","../../config/GameState":"GameState","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/PuzzlesConfig":"PuzzlesConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],ItemSync:[function(e,t,o){"use strict";cc._RF.push(t,"353fc98Tp9BUrhFDj/jMv2a","ItemSync");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetPos=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.update=function(){if(this.targetPos){var e=this.targetPos.convertToWorldSpaceAR(cc.v2(0,0)),t=this.targetPos.convertToWorldSpaceAR(cc.v2(200,0)).subtract(e),o=cc.v2(1e3,0).signAngle(t);this.node.angle=o;var n=this.targetPos.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n))}},a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],KDF:[function(e,t,o){"use strict";cc._RF.push(t,"843f5Wu4ulP/IdE+I9A+8Y8","KDF"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Language:[function(e,t,o){"use strict";cc._RF.push(t,"9736bGfi2dIdqs+pKGU3cJz","Language"),Object.defineProperty(o,"__esModule",{value:!0}),o.TextLanguage=void 0,o.TextLanguage={EN:{play:"TAP TO PLAY",level:"LEVEL ",level1:"Level ",continue:"Tap to continue",replay:"TAP TO REPLAY",skip:"SKIP",skipIntro:"Skip >>>",win:"CONGRATULATION",lose:"YOU LOSE",settingTitle:"Setting",on:"On",off:"Off",unlockRoom:"Unlock\n Level 8",unlockCards:"Unlock\n Level 20",dailyReward:"Daily Reward",daily:"Daily",day:"Day ",freecoin:"Free Coin",outfit:"Outfit",puzzleTitle:"PUZZLE",puzzleTip:"Find puzzles. Complete room",puzzleGuide:"Find puzzles.\nComplete room",comingsoon:"COMING SOON",wallpaper:"Wallpaper",picture:"Picture",carpet:"Carpet","dinner table":"Dinner Table",pumpkin:"Pumpkins",heater:"Heater",chair:"Chair",light:"Light",window:"Window",loading:"Loading: ",pet:"Pet",guide_pet:"Save the daungter to get eggs",title_pet_switch:"Choose your pet",selected:"Selected",hatch:"Hatch",watch:"Watch",card_collection:"Card Collection",card_info:"Card Info",card_guide1:"Collect cards through chest",card_guide2:"You can also buy chests in the store",get_cards:"Get cards",unlock_level_20:"Unlock level 20",text1:"High chance for",text2:"Complete the set to win",bronze_chest:"Bronze Chest",rare_chest:"Rare Chest",legend_chest:"Legend Chest",free:"Free",guide_text1:"Gold earnings per second from building",teddy_bear:"Teddy Bear",bunny_rabbit:"Bunny Rabbit",froggy:"Froggy",cutie_cat:"Cutie Cat",little_puppy:"Little Puppy",loveable_furball:"Loveable Furball",bobby_goat:"Bobby Goat",minnie_mouse:"Minnie Mouse",sunny_goldfish:"Sunny Goldfish"},JA:{play:"\u59cb\u3081\u308b",level:"\u30ec\u30d9\u30eb ",level1:"\u30ec\u30d9\u30eb ",continue:"\u30bf\u30c3\u30d7\u3057\u3066\u7d9a\u884c\u3057\u307e\u3059",replay:"\u30bf\u30c3\u30d7\u3057\u3066\u518d\u751f",skip:"\u30b9\u30ad\u30c3\u30d7",skipIntro:"\u30b9\u30ad\u30c3\u30d7 >>>",win:"\u52dd\u5229",lose:"\u5931\u6557",settingTitle:"\u8a2d\u5b9a",on:"\u5165",off:"\u5207",unlockRoom:"\u30ec\u30d9\u30eb8",unlockCards:"\u30ec\u30d9\u30eb20",dailyReward:"\u6bce\u65e5\u306e\u5831\u916c",daily:"\u6bce\u65e5",day:"\u65e5\u76ee",freecoin:"\u30d5\u30ea\u30fc\u30b3\u30a4\u30f3",outfit:"\u670d\u88c5",puzzleTitle:"\u30d1\u30ba\u30eb",puzzleTip:"\u30d1\u30ba\u30eb\u3092\u898b\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u5b8c\u5168\u306a\u90e8\u5c4b",puzzleGuide:"\u30d1\u30ba\u30eb\u3092\u898b\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u5b8c\u5168\u306a\u90e8\u5c4b",comingsoon:"\u8fd1\u65e5\u516c\u958b",wallpaper:"\u58c1\u7d19",picture:"\u5199\u771f",carpet:"\u30ab\u30fc\u30da\u30c3\u30c8","dinner table":"\u5915\u98df\u306e\u30c6\u30fc\u30d6\u30eb",pumpkin:"\u30ab\u30dc\u30c1\u30e3",heater:"\u30d2\u30fc\u30bf",chair:"\u6905\u5b50",light:"\u30e9\u30a4\u30c8",window:"\u7a93",loading:"\u8aad\u307f\u8fbc\u307f\u4e2d: ",pet:"\u30da\u30c3\u30c8",guide_pet:"\u5a18\u3092\u52a9\u3051\u3066\u5375\u3092\u624b\u306b\u5165\u308c\u3088\u3046",title_pet_switch:"\u30da\u30c3\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",selected:"\u9078\u629e\u6e08\u307f",hatch:"\u30cf\u30c3\u30c1",watch:"\u6642\u8a08",card_collection:"\u30ab\u30fc\u30c9\u30b3\u30ec\u30af\u30b7\u30e7\u30f3",card_info:"\u30ab\u30fc\u30c9\u60c5\u5831",card_guide1:"\u30c1\u30a7\u30b9\u30c8\u304b\u3089\u30ab\u30fc\u30c9\u3092\u96c6\u3081\u307e\u3059",card_guide2:"\u30b9\u30c8\u30a2\u3067\u30c1\u30a7\u30b9\u30c8\u3092\u8cfc\u5165\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059",get_cards:"\u30ab\u30fc\u30c9\u3092\u5165\u624b\u3059\u308b",unlock_level_20:"\u30ec\u30d9\u30eb20",text1:"\u9ad8\u3044\u78ba\u7387\u3067",text2:"\u30bb\u30c3\u30c8\u3092\u5b8c\u4e86\u3059\u308b\u3068\u52dd\u3061\u307e\u3059",bronze_chest:"\u30d6\u30ed\u30f3\u30ba\u30c1\u30a7\u30b9\u30c8",rare_chest:"\u30ec\u30a2\u30c1\u30a7\u30b9\u30c8",legend_chest:"\u30ec\u30b8\u30a7\u30f3\u30c9\u30c1\u30a7\u30b9\u30c8",free:"\u7121\u6599",guide_text1:"\u5efa\u7269\u304b\u3089\u306e 1 \u79d2\u3042\u305f\u308a\u306e\u30b4\u30fc\u30eb\u30c9\u53ce\u5165",teddy_bear:"\u30c6\u30c7\u30a3\u30d9\u30a2",bunny_rabbit:"\u30d0\u30cb\u30fc\u30fb\u30e9\u30d3\u30c3\u30c8",froggy:"\u30d5\u30ed\u30ae\u30fc",cutie_cat:"\u304b\u308f\u3044\u3044\u732b",little_puppy:"\u5c0f\u3055\u306a\u5b50\u72ac",loveable_furball:"\u611b\u3089\u3057\u3044\u6bdb\u7389",bobby_goat:"\u30dc\u30d3\u30fc\u30e4\u30ae",minnie_mouse:"\u30df\u30cb\u30fc\u30de\u30a6\u30b9",sunny_goldfish:"\u30b9\u30c8\u30fc\u30d6"},ID:{play:"Awal",level:"Tingkat ",level1:"Tingkat ",continue:"Ketuk untuk melanjutkan",replay:"Ketuk untuk memutar ulang",skip:"LEWAT",skipIntro:"Melewati >>>",win:"KEMENANGA",lose:"KAMU KALAH",settingTitle:"PENGATURAN",on:"An",off:"Aus",unlockRoom:"Buka\n Tingkat 8",unlockCards:"Buka\n Tingkat 20",dailyReward:"Hadiah Harian",daily:"Sehari-hari",day:"Hari ",freecoin:"koin gratis",outfit:"pakaian",puzzleTitle:"TEKA-TEKI",puzzleTip:"Temukan teka-teki.\nKamar lengkap",puzzleGuide:"Temukan teka-teki.\nKamar lengkap",comingsoon:"SEGERA HADIR",wallpaper:"Kertas Dinding",picture:"Gambar",carpet:"Karpet","dinner table":"Meja makan malam",pumpkin:"Labu",heater:"Pemanas",chair:"Kursi",light:"Lampu",window:"Jendela",loading:"Memuat: ",pet:"Peliharaan",guide_pet:"Selamatkan putrinya untuk mendapatkan telur",title_pet_switch:"Pilih hewan peliharaan Anda",selected:"Terpilih",hatch:"Menetas",watch:"Jam tangan",card_collection:"Koleksi Kartu",card_info:"Info Kartu",card_guide1:"Kumpulkan kartu melalui peti",card_guide2:"Anda juga dapat membeli peti di toko",get_cards:"Dapatkan kartu",unlock_level_20:"Tingkat 20",text1:"Peluang tinggi untuk",text2:"Selesaikan set untuk menang",bronze_chest:"Peti Perunggu",rare_chest:"Peti Langka",legend_chest:"Peti Legenda",free:"Bebas",guide_text1:"Pendapatan emas per detik dari bangunan",teddy_bear:"Beruang teddy",bunny_rabbit:"Kelinci",froggy:"Katak kecil",cutie_cat:"Kotak Kucing",little_puppy:"Anjing kecil",loveable_furball:"bola bulu",bobby_goat:"Bobby si Kambing",minnie_mouse:"Minnie Tikus",sunny_goldfish:"Ikan Mas Cerah"},DE:{play:"BER\xdcHRE UM ZU SPIELEN",level:"EBENE ",level1:"Ebene ",continue:"Tippen Sie, um fortzufahren",replay:"TIPP ZUM WIEDERHOLEN",skip:"\xdcBERSPRINGEN",skipIntro:"\xfcberspringen >>>",win:"HERZLICHEN GL\xdcCKWUNSCH",lose:"DU VERLIERST",settingTitle:"EINSTELLUNG",on:"HIDUP",off:"MATI",unlockRoom:"Ebene 8",unlockCards:"Ebene 20",dailyReward:"T\xe4gliche Belohnung",daily:"T\xe4glich",day:"Tag ",freecoin:"Kostenlose M\xfcnze",outfit:"Outfit",puzzleTitle:"PUZZLE",puzzleTip:"Finde R\xe4tsel.\n Kompletter Raum",puzzleGuide:"Finde R\xe4tsel.\n Kompletter Raum",comingsoon:"DEMN\xc4CHST",wallpaper:"Hintergrund",picture:"Bild",carpet:"Teppich","dinner table":"Esstisch",pumpkin:"K\xfcrbisse",heater:"Heizung",chair:"Stuhl",light:"Licht",window:"Fenster",loading:"Wird geladen: ",pet:"Haustier",guide_pet:"Rette die Tochter, um Eier zu bekommen",title_pet_switch:"W\xe4hlen Sie Ihr Haustier",selected:"Ausgew\xe4hlt",hatch:"Luke",watch:"Betrachten",card_collection:"Kartensammlung",card_info:"Karteninformationen",card_guide1:"Sammle Karten durch die Truhe",card_guide2:"Sie k\xf6nnen auch Truhen im Laden kaufen",get_cards:"Holen Sie sich Karten",unlock_level_20:"EBENE 20",text1:"Hohe Chance f\xfcr",text2:"Vervollst\xe4ndige das Set, um zu gewinnen",bronze_chest:"Bronzetruhe",rare_chest:"Seltene Truhe",legend_chest:"Legendentruhe",free:"Frei",guide_text1:"Goldeinnahmen pro Sekunde durch Bauen",teddy_bear:"Teddyb\xe4r",bunny_rabbit:"H\xe4schen",froggy:"Froggy",cutie_cat:"Box Kat",little_puppy:"Kleiner Welpe",loveable_furball:"Liebenswerter Furball",bobby_goat:"Bobby Ziege",minnie_mouse:"Minnie Maus",sunny_goldfish:"Sonniger Goldfisch"}},cc._RF.pop()},{}],Latin1:[function(e,t,o){"use strict";cc._RF.push(t,"f6b0bnk3FNLBKHcYiu5V4Kz","Latin1"),Object.defineProperty(o,"__esModule",{value:!0}),o.Latin1=void 0;var n=e("../lib/WordArray"),i=function(){function e(){}return e.stringify=function(e){for(var t=[],o=0;o<e.sigBytes;o++){var n=e.words[o>>>2]>>>24-o%4*8&255;t.push(String.fromCharCode(n))}return t.join("")},e.parse=function(e){for(var t=e.length,o=[],i=0;i<t;i++)o[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new n.WordArray(o,t)},e}();o.Latin1=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],LavaGO:[function(e,t,o){"use strict";cc._RF.push(t,"6e16a5QKp9Ak4alKXaGXEJE","LavaGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/TagObject"),s=e("../../MainScene"),l=e("../../config/AudioPlayId"),u=e("../../level/MapLevel"),p=e("../../config/PhysicsConfig"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.rockPrefab=null,t.available=!0,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){p.PhysicsConfig.initPhysicConfig(this.node,"lava")},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.colliderBarrieCount=0;var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},t.prototype.transformToRock=function(){var e=u.default.instance.rockContainer,t=cc.instantiate(this.rockPrefab);t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),t.parent=e,this.node.destroy()},t.prototype.onCollisionEnter=function(e){if(this.available){if(e.node.group===r.GroupConfig.WATER||e.node.group==r.GroupConfig.ROCK&&e.node.name==c.TagConfig.CHARCOAL||e.node.group===r.GroupConfig.SNOW)return this.available=!1,void this.transformToRock();if(e.node.group===r.GroupConfig.BERRIE)return o.colliderBarrieCount++,void(6===o.colliderBarrieCount&&(s.default.instance.audioPlayer.playAudio(l.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)));if(e.node.group!==r.GroupConfig.COLLIDER);else if(e.node.name==c.TagConfig.BOMB){var t=e.node.getComponent(c.default).tag2;if(t==c.TagConfig.GROUND){var n=cc.v2(this.node.position.x,this.node.position.y);return n=cc.v2(1e5*n.x,1e5*n.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(n,!0)}if(t==c.TagConfig.NONE)return void(this.node.active=!1)}}},t.colliderBarrieCount=0,a([h(cc.Node)],t.prototype,"border",void 0),a([h(cc.Node)],t.prototype,"drop",void 0),a([h(cc.Prefab)],t.prototype,"rockPrefab",void 0),o=a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],LazerLine:[function(e,t,o){"use strict";cc._RF.push(t,"b1f74yFSutEP4yTK2tmUIXd","LazerLine");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../base/ColliderCallback"),s=e("../../config/TagObject"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lazerLine=null,t.hitLazer=null,t.effectHit=null,t.isInit=null,t.startPos=null,t.endPos=null,t}return i(t,e),t.prototype.onEnable=function(){this.lazerLine.node.active=!1,this.lazerLine.setColliderCallback(this.onHitColliderCallback.bind(this),this.onHitColliderCallback.bind(this)),this.hitLazer.setColliderCallback(this.onHitLazer.bind(this))},t.prototype.setColliderCallback=function(e,t,o,n){this.lazer=e,this.index=t,this.startPos=o,this.endPos=n,this.lazerLine.node.active=!0},t.prototype.onHitColliderCallback=function(){this.reRenderLine()},t.prototype.reRenderLine=function(){var e=cc.director.getPhysicsManager().rayCast(this.startPos,this.endPos,cc.RayCastType.Closest);if(e[0]){var t=e[0],o=t.point,n=cc.Vec2.distance(this.startPos,o);if(this.lazerLine.node.width=n,t.collider.node.name==s.TagConfig.MIRROR){var i=this.endPos.sub(this.startPos),a=t.normal,r=i.dot(a),c=i.clone().sub(a.clone().mul(2*r));if(this.isInit&&c.x==this.isInit.x)return;this.isInit=c;var l=new cc.Vec2(1,0).signAngle(c);l=cc.misc.radiansToDegrees(l),o=this.node.getParent().convertToNodeSpaceAR(o),c=this.node.getParent().convertToNodeSpaceAR(c),this.lazer.rayCastTarget(o,c,l)}}},t.prototype.onHitLazer=function(e){var t=this;e.node.group==r.GroupConfig.CHARACTER&&(this.effectHit.active=!0,this.scheduleOnce(function(){t.effectHit.active=!1},.5))},a([p(c.default)],t.prototype,"lazerLine",void 0),a([p(c.default)],t.prototype,"hitLazer",void 0),a([p(cc.Node)],t.prototype,"effectHit",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject"}],Lazer:[function(e,t,o){"use strict";cc._RF.push(t,"bf7a4s6YUZLt5gRWy4m65Yk","Lazer");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../base/ColliderCallback"),c=e("./LazerLine"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.point1=null,t.point2=null,t.lazerLine=null,t.hitLazer=null,t.effectHit=null,t.lazerLinePrefab=null,t.arrayLine=[],t.normalVector=[],t.position=[],t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this.node.getParent().convertToNodeSpaceAR(this.point1.getParent().convertToWorldSpaceAR(this.point1.getPosition())),t=this.node.getParent().convertToNodeSpaceAR(this.point2.getParent().convertToWorldSpaceAR(this.point2.getPosition())).sub(e);this.rayCastTarget(e,t)},t.prototype.rayCastTarget=function(e,t,o){void 0===o&&(o=0);var n=e,i=n.add(t.mul(1e3)),a=cc.instantiate(this.lazerLinePrefab);a.parent=this.node.parent,a.setPosition(n);var r=this.node.parent.convertToWorldSpaceAR(n),s=this.node.parent.convertToWorldSpaceAR(i);o=new cc.Vec2(1,0).signAngle(t),o=cc.misc.radiansToDegrees(o),a.angle=o,this.resultsCollide=cc.director.getPhysicsManager().rayCast(r,s,cc.RayCastType.Closest),a.getComponent(c.default).setColliderCallback(this,this.arrayLine.length,r,s),this.arrayLine.push(a)},t.prototype.renderLazer=function(){for(var e=0;e<this.arrayLine.length;e++)this.arrayLine[e].removeFromParent();var t=this.node.getPosition().add(cc.v2(50,0)),o=t.add(cc.v2(1,0)).sub(t);this.rayCastTarget(t,o)},t.prototype.refreshArrayLine=function(){for(var e=0;e<this.arrayLine.length;e++)this.arrayLine[e].parent&&(this.arrayLine[e]=null)},a([u(cc.Node)],t.prototype,"point1",void 0),a([u(cc.Node)],t.prototype,"point2",void 0),a([u(r.default)],t.prototype,"lazerLine",void 0),a([u(r.default)],t.prototype,"hitLazer",void 0),a([u(cc.Node)],t.prototype,"effectHit",void 0),a([u(cc.Prefab)],t.prototype,"lazerLinePrefab",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","./LazerLine":"LazerLine"}],LevelConfig:[function(e,t,o){"use strict";cc._RF.push(t,"2052avx87lG+Zk86UhkNUHw","LevelConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelConfig=void 0;var n=function(){function e(){}return e.levels=["Level-1","Level-2","Level-3","Level-4","Level-5","Level-6","Level-7","Level-8","Level-9","Level-10","Level-11","Level-12","Level-13","Level-14","Level-15","Level-16","Level-17","Level-18","Level-19","Level-20","Level-21","Level-22","Level-23","Level-24","Level-25","Level-26","Level-27","Level-28","Level-29","Level-30","Level-31","Level-32","Level-33","Level-34","Level-35","Level-36","Level-37","Level-38","Level-39","Level-40","Level-41","Level-42","Level-43","Level-44","Level-45","Level-46","Level-47","Level-48","Level-49","Level-50","Level-51","Level-52","Level-53","Level-54","Level-55","Level-56","Level-57","Level-58","Level-59","Level-60","Level-61","Level-62","Level-63","Level-64","Level-65","Level-66","Level-67","Level-68","Level-69","Level-70","Level-71","Level-72","Level-73","Level-74","Level-75","Level-76","Level-77","Level-78","Level-79","Level-80"],e.realLevelSize=e.levels.length,e}();o.LevelConfig=n,cc._RF.pop()},{}],Libbey:[function(e,t,o){"use strict";cc._RF.push(t,"3271dea2Y5DobJBwkIFvPJs","Libbey");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../base/ColliderCallback"),c=e("../../config/GlobalSignals"),s=e("../../config/GroupConfig"),l=e("../../config/TagObject"),u=e("../../level/MapLevel"),p=e("../character/Native/Native"),d=cc._decorator,f=d.ccclass,h=d.property,y=(d.executeInEditMode,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.libbeyCollider=null,t.targetPos=null,t.lbProcess=null,t.frontLibbey=null,t.rate=0,t.rateLose=0,t.totalGems=0,t.isTheif=!1,t.checkDone=!1,t.theif=null,t._active=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.libbeyCollider&&!this.isTheif?this.libbeyCollider.setColliderCallback(this.onLibbeyCollider.bind(this)):(this.libbeyCollider.setColliderCallback(this.onLibbeyLoseCollider.bind(this)),this.theif=u.default.instance.arrNative[0].getComponent(p.default))},t.prototype.onEnable=function(){o._instance=this},t.prototype.onDisable=function(){o._instance=null},t.prototype.onLibbeyCollider=function(e){if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectWater)if(e.node.group===s.GroupConfig.WATER){var t=1/this.totalGems*100;this.rate+=t,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.rate>=100&&!this.checkDone&&(this.scheduleOnce(function(){c.GlobalSignals.questPassSignal.dispatch()},.5),this.checkDone=!0)}else e.node.group===s.GroupConfig.DIRTY?(this.rateLose+=1/this.totalGems*100,this.rateLose>=5&&!this.checkDone&&(this.scheduleOnce(function(){c.GlobalSignals.questFailSignal.dispatch()},.5),this.checkDone=!0)):e.node.group===s.GroupConfig.DIRTY&&(this.rateLose+=1/this.totalGems*100,this.rateLose>=5&&!this.checkDone&&(this.scheduleOnce(function(){c.GlobalSignals.questFailSignal.dispatch()},.5),this.checkDone=!0));else if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectGems){if(e.node.group===s.GroupConfig.COLLIDER&&e.node.name==l.TagConfig.BOMB)return void this.setActive(!1);if(e.node.group===s.GroupConfig.GEMS){if(e.node.name==l.TagConfig.COIN){if(this.totalGems){var o=1/this.totalGems*100;this.rate+=o,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%"}this.rate>=100&&u.default.instance.isPlaying&&c.GlobalSignals.questPassSignal.dispatch()}return}}},t.prototype.onLibbeyLoseCollider=function(e){var t=this;if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectGems&&e.node.group===s.GroupConfig.GEMS&&e.node.name==l.TagConfig.COIN){if(e.node.destroy(),this.totalGems){var o=1/this.totalGems*100;this.rate+=o}this.rate>=10&&!this.checkDone&&(this.scheduleOnce(function(){c.GlobalSignals.questFailSignal.dispatch(),t.theif.isAlive,t.node.active=!1},2),this.checkDone=!0)}},t.prototype.setActive=function(e){this._active=e,this.node.active=this._active,this.frontLibbey.active=!1},t.prototype.update=function(){if(this.targetPos){var e=this.targetPos.convertToWorldSpaceAR(cc.v2(0,0)),t=this.targetPos.convertToWorldSpaceAR(cc.v2(200,0)).subtract(e),o=cc.v2(1e3,0).signAngle(t);this.node.angle=180*o/3.14;var n=this.targetPos.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n)),this.frontLibbey&&(this.frontLibbey.setPosition(this.node.parent.convertToNodeSpaceAR(n)),this.frontLibbey.angle=this.node.angle)}},t._instance=null,a([h(r.default)],t.prototype,"libbeyCollider",void 0),a([h(cc.Node)],t.prototype,"targetPos",void 0),a([h(cc.Label)],t.prototype,"lbProcess",void 0),a([h(cc.Node)],t.prototype,"frontLibbey",void 0),a([h(cc.Integer)],t.prototype,"totalGems",void 0),a([h(cc.Boolean)],t.prototype,"isTheif",void 0),o=a([f],t)}(cc.Component));o.default=y,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../character/Native/Native":"Native"}],Loading:[function(e,t,o){"use strict";cc._RF.push(t,"9ac26VrclhNDqVluKnwUzSn","Loading"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./GameData");window.Loading={preloadAssets:function(e,t){n.GameData.initPlayerData(function(){t(),n.GameData.isInitData=!0})}},cc._RF.pop()},{"./GameData":"GameData"}],LocalStorageManager:[function(e,t,o){"use strict";cc._RF.push(t,"4dd86HTCsxBTbnZZjQJS4gi","LocalStorageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStorageManager=void 0;var n=e("./crypto-ts/lib/WordArray"),i=e("./crypto-ts/crypto-ts"),a=function(){function e(){}return e.encryptKeyItem=function(e){return i.AES.encrypt(e+"",this.KEY_ENCRYPTION_KEY_ITEM,{iv:this.IV_ENCRYPTION_KEY_ITEM}).toString()},e.encryptValueItem=function(e){return i.AES.encrypt(e,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString()},e.decryptValueItem=function(e){return i.AES.decrypt(e,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString(i.enc.Utf8)},e.setItem=function(e,t){var o=this.encryptKeyItem(e),n=this.encryptValueItem(t);cc.sys.localStorage.setItem(o,n)},e.getItem=function(e){var t=this.encryptKeyItem(e),o=cc.sys.localStorage.getItem(t);return o?this.decryptValueItem(o):null},e.removeItem=function(e){cc.sys.localStorage.removeItem(e)},e.KEY_ENCRYPTION_VALUE_ITEM=new n.WordArray([3721848651,3247274e3,1120155838,1670014210],16),e.IV_ENCRYPTION_VALUE_ITEM=new n.WordArray([4236774207,782364970,1158515808,2679783514],16),e.KEY_ENCRYPTION_KEY_ITEM=new n.WordArray([1541276774,3192629469,1059630479,1194558349],16),e.IV_ENCRYPTION_KEY_ITEM=new n.WordArray([1156797778,168578463,3342295823,1238504529],16),e}();o.LocalStorageManager=a,cc._RF.pop()},{"./crypto-ts/crypto-ts":"crypto-ts","./crypto-ts/lib/WordArray":"WordArray"}],MD5:[function(e,t,o){"use strict";cc._RF.push(t,"897afQFVB5Fx7Bx7+H5eL/0","MD5");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MD5=void 0;for(var a=e("../lib/Hasher"),r=e("../lib/WordArray"),c=[],s=0;s<64;s++)c[s]=4294967296*Math.abs(Math.sin(s+1))|0;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.FF=function(e,t,o,n,i,a,r){var c=e+(t&o|~t&n)+i+r;return(c<<a|c>>>32-a)+t},t.GG=function(e,t,o,n,i,a,r){var c=e+(t&n|o&~n)+i+r;return(c<<a|c>>>32-a)+t},t.HH=function(e,t,o,n,i,a,r){var c=e+(t^o^n)+i+r;return(c<<a|c>>>32-a)+t},t.II=function(e,t,o,n,i,a,r){var c=e+(o^(t|~n))+i+r;return(c<<a|c>>>32-a)+t},t.prototype.reset=function(){e.prototype.reset.call(this),this._hash=new r.WordArray([1732584193,4023233417,2562383102,271733878])},t.prototype._doProcessBlock=function(e,o){for(var n=0;n<16;n++){var i=o+n,a=e[i];e[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var r=this._hash.words,s=e[o+0],l=e[o+1],u=e[o+2],p=e[o+3],d=e[o+4],f=e[o+5],h=e[o+6],y=e[o+7],g=e[o+8],_=e[o+9],v=e[o+10],m=e[o+11],b=e[o+12],C=e[o+13],S=e[o+14],P=e[o+15],k=r[0],O=r[1],A=r[2],R=r[3];k=t.FF(k,O,A,R,s,7,c[0]),R=t.FF(R,k,O,A,l,12,c[1]),A=t.FF(A,R,k,O,u,17,c[2]),O=t.FF(O,A,R,k,p,22,c[3]),k=t.FF(k,O,A,R,d,7,c[4]),R=t.FF(R,k,O,A,f,12,c[5]),A=t.FF(A,R,k,O,h,17,c[6]),O=t.FF(O,A,R,k,y,22,c[7]),k=t.FF(k,O,A,R,g,7,c[8]),R=t.FF(R,k,O,A,_,12,c[9]),A=t.FF(A,R,k,O,v,17,c[10]),O=t.FF(O,A,R,k,m,22,c[11]),k=t.FF(k,O,A,R,b,7,c[12]),R=t.FF(R,k,O,A,C,12,c[13]),A=t.FF(A,R,k,O,S,17,c[14]),O=t.FF(O,A,R,k,P,22,c[15]),k=t.GG(k,O,A,R,l,5,c[16]),R=t.GG(R,k,O,A,h,9,c[17]),A=t.GG(A,R,k,O,m,14,c[18]),O=t.GG(O,A,R,k,s,20,c[19]),k=t.GG(k,O,A,R,f,5,c[20]),R=t.GG(R,k,O,A,v,9,c[21]),A=t.GG(A,R,k,O,P,14,c[22]),O=t.GG(O,A,R,k,d,20,c[23]),k=t.GG(k,O,A,R,_,5,c[24]),R=t.GG(R,k,O,A,S,9,c[25]),A=t.GG(A,R,k,O,p,14,c[26]),O=t.GG(O,A,R,k,g,20,c[27]),k=t.GG(k,O,A,R,C,5,c[28]),R=t.GG(R,k,O,A,u,9,c[29]),A=t.GG(A,R,k,O,y,14,c[30]),O=t.GG(O,A,R,k,b,20,c[31]),k=t.HH(k,O,A,R,f,4,c[32]),R=t.HH(R,k,O,A,g,11,c[33]),A=t.HH(A,R,k,O,m,16,c[34]),O=t.HH(O,A,R,k,S,23,c[35]),k=t.HH(k,O,A,R,l,4,c[36]),R=t.HH(R,k,O,A,d,11,c[37]),A=t.HH(A,R,k,O,y,16,c[38]),O=t.HH(O,A,R,k,v,23,c[39]),k=t.HH(k,O,A,R,C,4,c[40]),R=t.HH(R,k,O,A,s,11,c[41]),A=t.HH(A,R,k,O,p,16,c[42]),O=t.HH(O,A,R,k,h,23,c[43]),k=t.HH(k,O,A,R,_,4,c[44]),R=t.HH(R,k,O,A,b,11,c[45]),A=t.HH(A,R,k,O,P,16,c[46]),O=t.HH(O,A,R,k,u,23,c[47]),k=t.II(k,O,A,R,s,6,c[48]),R=t.II(R,k,O,A,y,10,c[49]),A=t.II(A,R,k,O,S,15,c[50]),O=t.II(O,A,R,k,f,21,c[51]),k=t.II(k,O,A,R,b,6,c[52]),R=t.II(R,k,O,A,p,10,c[53]),A=t.II(A,R,k,O,v,15,c[54]),O=t.II(O,A,R,k,l,21,c[55]),k=t.II(k,O,A,R,g,6,c[56]),R=t.II(R,k,O,A,P,10,c[57]),A=t.II(A,R,k,O,h,15,c[58]),O=t.II(O,A,R,k,C,21,c[59]),k=t.II(k,O,A,R,d,6,c[60]),R=t.II(R,k,O,A,m,10,c[61]),A=t.II(A,R,k,O,u,15,c[62]),O=t.II(O,A,R,k,_,21,c[63]),r[0]=r[0]+k|0,r[1]=r[1]+O|0,r[2]=r[2]+A|0,r[3]=r[3]+R|0},t.prototype._doFinalize=function(){var e=this._data,t=e.words,o=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;var i=Math.floor(o/4294967296),a=o;t[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,c=r.words,s=0;s<4;s++){var l=c[s];c[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return r},t}(a.Hasher);o.MD5=l,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],MainScene:[function(e,t,o){"use strict";cc._RF.push(t,"e7bbbEKKihNqagxA1NBLeup","MainScene");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./base/audio/AudioPlayer"),c=e("./PrefabManager"),s=e("./PrefabType"),l=e("./GameData"),u=e("./ResUtil"),p=e("./ScreenManager"),d=e("./room/Building/IslandConfig"),f=e("./IntroController"),h=e("./base/TouchManager"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioPlayer=null,t.screenManager=null,t.nodePopups=null,t.loading=null,t.testPrefab=null,t.testStartLevel=0,t.Intro=null,t.camera=null,t.settingPopup=null,t.selectRoomPopup=null,t.selectKingdomPopup=null,t.buildKingdomPopup=null,t.skinPopup=null,t.dailyPopup=null,t.cardPopup=null,t.ingameCardPopup=null,t.shopPopup=null,t.petPopup=null,t.arrayPopup=[],t.language=null,t.rateCheck=0,t.rotatePopup=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){l.GameData.isTesting&&l.GameData.initPlayerData(function(){l.GameData.isInitData=!0}),o._instance=this,l.GameData.isInitData||l.GameData.initPlayerData(null),this.testStartLevel>=1&&(l.GameData.currentLevelId=this.testStartLevel-1),this.getLanguage();var e=function(){l.GameData.currentLevelId<5?this.screenManager.showScreenById(p.ScreenId.PLAY_SCREEN,null,!0):this.screenManager.showScreenById(p.ScreenId.HOME_SCREEN,null,!0)}.bind(this);l.GameData.showIntro?e():(this.showIntroScreen(),f.default.instance.setCbFinishedIntro(e)),this.rotateCallback(),d.IslandConfig.calculateBonus(),this.schedule(function(){d.IslandConfig.updatePlayerCoin()},1)},t.prototype.perloadPrefab=function(){u.ResUtil.loadPopupByDir("prefabs/skin/SkinPopup",null,null),u.ResUtil.loadPopupByDir("prefabs/rooms/popupRoom",null,null),u.ResUtil.loadPopupByDir("prefabs/daily/DailyPopup",null,null)},t.prototype.showHomeScreen=function(e,t){void 0===e&&(e=null),this.screenManager.showScreenById(p.ScreenId.HOME_SCREEN,e,t)},t.prototype.showGamePlayScreen=function(e,t){void 0===e&&(e=null),this.screenManager.showScreenById(p.ScreenId.PLAY_SCREEN,e,t)},t.prototype.showIntroScreen=function(){var e=cc.instantiate(this.Intro).getComponent(cc.Animation);e.node.parent=this.node,e.play()},t.prototype.showSettingPopup=function(){var e=this;this.settingPopup?this.settingPopup.active=!0:this.createPopupByType(s.PrefabType.SETTING,function(t){e.settingPopup=t,e.settingPopup.active=!0})},t.prototype.showPetPopup=function(){var e=this;this.petPopup?this.petPopup.active=!0:this.createPopupByType(s.PrefabType.PET_POPUP,function(t){e.petPopup=t,e.petPopup.active=!0})},t.prototype.showSelectRoomPopup=function(){var e=this;this.selectRoomPopup?this.selectRoomPopup.active=!0:(this.showLoading(),this.createPopupByType(s.PrefabType.SELECT_ROOM,function(t){e.selectRoomPopup=t,e.selectRoomPopup.active=!0,e.hideLoading()}))},t.prototype.showSelectKingdomPopup=function(){var e=this;if(this.selectKingdomPopup)this.selectKingdomPopup.active=!0;else{var t=function(){e.showLoading(),e.createPopupByType(s.PrefabType.SELECT_KINGDOM,function(t){e.selectKingdomPopup=t,e.selectKingdomPopup.active=!0,e.hideLoading()})};void 0===this.loadKingdomSelectCallback?this.loadKingdomSelectCallback=t:t()}},t.prototype.showBuildKingdomPopup=function(){var e=this;if(this.buildKingdomPopup)this.buildKingdomPopup.active=!0;else{var t=function(){e.showLoading(),e.createPopupByType(s.PrefabType.BUILD_KINGDOM,function(t){e.buildKingdomPopup=t,e.buildKingdomPopup.active=!0,e.hideLoading()})};void 0===this.loadKingdomBuilderCallback?this.loadKingdomBuilderCallback=t:t()}},t.prototype.showSkinPopup=function(){var e=this;this.skinPopup?this.skinPopup.active=!0:(this.showLoading(),this.createPopupByType(s.PrefabType.SKIN_POPUP,function(t){e.skinPopup=t,e.skinPopup.active=!0,e.hideLoading()}))},t.prototype.showDailyPopup=function(){var e=this;this.dailyPopup?this.dailyPopup.active=!0:(this.showLoading(),this.createPopupByType(s.PrefabType.DAILY_POPUP,function(t){e.dailyPopup=t,e.dailyPopup.active=!0,e.hideLoading()}))},t.prototype.showCardPopup=function(){var e=this;this.cardPopup?this.cardPopup.active=!0:(this.showLoading(),this.createPopupByType(s.PrefabType.CARD_POPUP,function(t){e.cardPopup=t,e.cardPopup.active=!0,e.hideLoading()}))},t.prototype.showInGameCardPopup=function(){var e=this;this.ingameCardPopup?this.ingameCardPopup.active=!0:(this.showLoading(),this.createPopupByType(s.PrefabType.INGAME_CARD_POPUP,function(t){e.ingameCardPopup=t,e.ingameCardPopup.active=!0,e.hideLoading()}))},t.prototype.showShopPopup=function(){var e=this;this.shopPopup?this.shopPopup.active=!0:(this.showLoading(),this.createPopupByType(s.PrefabType.SHOP_POPUP,function(t){e.shopPopup=t,e.shopPopup.active=!0,e.hideLoading()}))},t.prototype.createPopupByType=function(e,t,o){var n=this;void 0===o&&(o=null),null===o&&(o=e),c.default.instance.loadPrefabByType(e,function(e){var i=cc.instantiate(e);n.nodePopups.addChild(i,o),n.arrayPopup.push(i),t(i)})},t.prototype.showLoading=function(){this.loading&&(this.loading.active=!0)},t.prototype.hideLoading=function(){this.loading&&(this.loading.active=!1)},t.prototype.showIntroLevel4=function(e){var t=this;u.ResUtil.loadPrefab("prefabs/HomeIsland/Intro/IntroLevel5",function(o){var n=cc.instantiate(o);n.parent=t.node,e&&n.setPosition(t.node.position)},null)},t.prototype.getLanguage=function(){var e=window.location.search.substring(1).split("&"),t={};e.forEach(function(e){var o=e.split("="),n=o[0],i=o[1];t[n]=decodeURIComponent(i)}),this.language=t.hl,this.language&&(this.language=this.language.toUpperCase()),"EN"!==this.language&&"ID"!==this.language&&"JA"!==this.language&&"DE"!==this.language&&(this.language="EN")},t.prototype.showRotatePopup=function(){var e=this;this.rotatePopup?this.rotatePopup.active=!0:this.createPopupByType(s.PrefabType.ROTATE_POPUP,function(t){e.rotatePopup=t,e.rotatePopup.active=!0})},t.prototype.hideRotatePopup=function(){this.rotatePopup&&(this.rotatePopup.active=!1)},t.prototype.rotateCallback=function(){cc.sys.isBrowser&&!cc.sys.isMobile||(cc.view.getFrameSize().width>cc.view.getFrameSize().height?(this.showRotatePopup(),h.default.instance.disableTouch()):(this.hideRotatePopup(),h.default.instance.enableTouch()))},t._instance=null,a([_(r.default)],t.prototype,"audioPlayer",void 0),a([_(p.default)],t.prototype,"screenManager",void 0),a([_(cc.Node)],t.prototype,"nodePopups",void 0),a([_(cc.Node)],t.prototype,"loading",void 0),a([_(cc.Prefab)],t.prototype,"testPrefab",void 0),a([_(cc.Integer)],t.prototype,"testStartLevel",void 0),a([_(cc.Prefab)],t.prototype,"Intro",void 0),a([_(cc.Node)],t.prototype,"camera",void 0),o=a([g],t)}(cc.Component);o.default=v,cc._RF.pop()},{"./GameData":"GameData","./IntroController":"IntroController","./PrefabManager":"PrefabManager","./PrefabType":"PrefabType","./ResUtil":"ResUtil","./ScreenManager":"ScreenManager","./base/TouchManager":"TouchManager","./base/audio/AudioPlayer":"AudioPlayer","./room/Building/IslandConfig":"IslandConfig"}],MapLevel:[function(e,t,o){"use strict";cc._RF.push(t,"93a86QtMkBNjpRK2sTnJOCG","MapLevel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/QuestType"),c=e("../config/GameState"),s=e("../config/GlobalSignals"),l=e("../objects/barrier/StickHold"),u=e("../objects/character/Character"),p=e("../base/TouchManager"),d=e("../objects/more/ItemLoot"),f=e("../base/utils/ArrayUtil"),h=e("../GameData"),y=e("../PlayScreen"),g=e("../config/ItemLevelType"),_=e("../config/ItemLevelSkin"),v=e("../objects/homePin2/Container"),m=e("../objects/homePin2/ContainType"),b=e("../objects/more/ItemPuzzle"),C=e("../objects/homePin2/Libbey"),S=e("../objects/more/ItemLevel"),P=e("../objects/character/Mom/Mom"),k=e("../objects/character/Daughter/Daughter"),O=e("../pets/Egg"),A=e("../config/CaseLose"),R=e("../ResUtil"),I=cc._decorator,D=I.ccclass,E=I.property,G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOtherLevel=!1,t.questType=r.QuestType.COLLECT_GEMS,t.gameState=c.GameState.BEGIN,t.itemLevelType=g.ItemLevelType.NONE,t.itemLevel=null,t.itemLevelSkin=_.ItemLevelSkin.NONE,t.itemSkin=null,t.totalGems=0,t.total=0,t.eggCpm=null,t.arrStickToActive=[],t.arrStickBonus=[],t.arrEnemies=[],t.arrNative=[],t.itemLoot=null,t.itemPuzzle=null,t.tipLabel=null,t.notifiNode=null,t.isCollectGems=!1,t.container=null,t.caseLose=A.CaseLose.NORMAL,t._countGemsDestroyed=0,t._countGemsDestroyForBomb=0,t._countWaterDestroyed=0,t._countCoalDestroyed=0,t._countRockBuildDestroyed=0,t._countWoodBuildDestroyed=0,t._skinItemDestroyed=!1,t._countGemsCollected=0,t._rockContainer=null,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.gameState===c.GameState.PLAYING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestBuilding",{get:function(){return this.questType===r.QuestType.BUILD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectGems",{get:function(){return this.questType===r.QuestType.COLLECT_GEMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectWater",{get:function(){return this.questType===r.QuestType.COLLECT_WATER},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectSmoke",{get:function(){return this.questType===r.QuestType.COLLECT_SMOKE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectFire",{get:function(){return this.questType===r.QuestType.COLLECT_FIRE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectSingleItem",{get:function(){return this.questType===r.QuestType.COLLECT_SINGLE_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectSkin",{get:function(){return this.questType===r.QuestType.COLLECT_SKIN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectItem",{get:function(){return this.questType===r.QuestType.COLLECT_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestSaveHostage",{get:function(){return this.questType===r.QuestType.SAVE_HOSTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestKillEnemies",{get:function(){return this.questType===r.QuestType.KILL_ENEMY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestOpenChest",{get:function(){return this.questType===r.QuestType.OPEN_CHEST},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectPuzzle",{get:function(){return this.questType===r.QuestType.COLLECT_PUZZLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIntro",{get:function(){return this.questType===r.QuestType.INTRO},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectCard",{get:function(){return this.questType===r.QuestType.COLLECT_CARD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countGemsDestroyed",{get:function(){return this._countGemsDestroyed},set:function(e){this._countGemsDestroyed=e,15!==this._countGemsDestroyed||this.isCollectGems||s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countGemsDestroyForBomb",{get:function(){return this._countGemsDestroyForBomb},set:function(e){this._countGemsDestroyForBomb=e,this._countGemsDestroyForBomb>10&&this.isQuestCollectGems&&this.isPlaying&&(C.default.instance&&C.default.instance.setActive(!1),s.GlobalSignals.questFailSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countWaterDestroyed",{get:function(){return this._countWaterDestroyed},set:function(e){this._countWaterDestroyed=e,15===this._countWaterDestroyed&&this.isQuestCollectWater&&(this.container.containType==m.ContainType.STOVE?this.container.onFireStove():s.GlobalSignals.questFailSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countCoalDestroyed",{get:function(){return this._countCoalDestroyed},set:function(e){this._countCoalDestroyed=e,15===this._countCoalDestroyed&&this.isQuestCollectFire&&s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countRockBuildDestroyed",{get:function(){return this._countRockBuildDestroyed},set:function(e){this._countRockBuildDestroyed=e,5===this._countRockBuildDestroyed&&this.isQuestBuilding&&s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countWoodBuildDestroyed",{get:function(){return this._countWoodBuildDestroyed},set:function(e){this._countWoodBuildDestroyed=e,2===this._countWoodBuildDestroyed&&this.isQuestBuilding&&s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinItemDestroyed",{set:function(e){this._skinItemDestroyed=e,1==this._skinItemDestroyed&&this.isQuestCollectSkin&&s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countGemsCollected",{get:function(){return this._countGemsCollected},set:function(e){this._countGemsCollected=e,5===this._countGemsCollected&&this.isQuestCollectGems&&this.isPlaying&&(this.isCollectGems=!0,s.GlobalSignals.collectGemsSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rockContainer",{get:function(){return this._rockContainer||(this._rockContainer=new cc.Node,this.node.addChild(this._rockContainer)),this._rockContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if(o._instance=this,this.isQuestCollectWater||this.isQuestCollectSmoke){var e=this.node.getComponentInChildren(v.default);e&&(this.container=e)}},t.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e.gameState=c.GameState.PLAYING},.6);var t=this.onActiveStick.bind(this),o=this.onActiveStickBonus.bind(this);if(this.arrStickToActive.forEach(function(e){e.setHoldCallback(t)}),this.arrStickBonus.forEach(function(e){e.setActiveStickBonusCallback(o)}),this.arrStickBonus&&(h.GameData.coinStickBonus=0),this.isQuestKillEnemies){var n=this.onEnemiesDead.bind(this);this.arrEnemies.forEach(function(e){var t=e.getComponent(u.default);t&&t.setDeadCallback(n)})}this.isQuestCollectItem&&this.itemLoot&&h.GameData.checkItemCollected(this.itemLoot)&&this.replaceItemByChest(),this.isIntro&&R.ResUtil.loadPopupByDir("prefabs/rooms/popupRoom",null,null),this.isQuestCollectSkin&&("Mom"==cc.js.getClassName(P.default.instance)?(h.GameData.currentScarfBoss&&this.itemLevelSkin==_.ItemLevelSkin.SCARF&&this.replaceItem(this.itemSkin),h.GameData.currentGloveBoss&&this.itemLevelSkin==_.ItemLevelSkin.GLOVES&&this.replaceItem(this.itemSkin),h.GameData.currentEarBoss&&this.itemLevelSkin==_.ItemLevelSkin.EAR&&this.replaceItem(this.itemSkin),h.GameData.myBossSkins&&this.itemLevelSkin==_.ItemLevelSkin.SHIRT&&this.checkSkinForReplace(h.GameData.myBossSkins,"0",P.default.instance)&&this.replaceItem(this.itemSkin),h.GameData.myBossHats&&this.itemLevelSkin==_.ItemLevelSkin.HAT&&this.checkSkinForReplace(h.GameData.myBossHats,"0",P.default.instance)&&this.replaceItem(this.itemSkin),h.GameData.myBossShoes&&this.itemLevelSkin==_.ItemLevelSkin.SHOE&&this.checkSkinForReplace(h.GameData.myBossShoes,"0",P.default.instance)&&this.replaceItem(this.itemSkin)):(h.GameData.currentScarfDaughter&&this.itemLevelSkin==_.ItemLevelSkin.SCARF&&this.replaceItem(this.itemSkin),h.GameData.currentGloveDaughter&&this.itemLevelSkin==_.ItemLevelSkin.GLOVES&&this.replaceItem(this.itemSkin),h.GameData.currentEarDaughter&&this.itemLevelSkin==_.ItemLevelSkin.EAR&&this.replaceItem(this.itemSkin),h.GameData.myDaughterSkins&&this.itemLevelSkin==_.ItemLevelSkin.SHIRT&&this.checkSkinForReplace(h.GameData.myDaughterSkins,"0",k.default.instanceD)&&this.replaceItem(this.itemSkin),h.GameData.myDaughterHats&&this.itemLevelSkin==_.ItemLevelSkin.HAT&&this.checkSkinForReplace(h.GameData.myDaughterHats,"0",k.default.instanceD)&&this.replaceItem(this.itemSkin),h.GameData.myDaughterShoes&&this.itemLevelSkin==_.ItemLevelSkin.SHOE&&this.checkSkinForReplace(h.GameData.myDaughterShoes,"0",k.default.instanceD)&&this.replaceItem(this.itemSkin))),p.default.instance&&p.default.instance.reset(),y.default.instance.checkDoneGetCoin=!1},t.prototype.onEnable=function(){this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal),y.default.instance.onBackgroundMusic()},t.prototype.onDisable=function(){s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal)},t.prototype.onQuestFail=function(){this.gameState=c.GameState.LOSE,this.notifiNode&&(this.notifiNode.active=!1)},t.prototype.onQuestPass=function(){this.gameState=c.GameState.WIN,this.notifiNode&&(this.notifiNode.active=!1)},t.prototype.onActiveStick=function(e){var t=this;f.default.removeElement(this.arrStickToActive,e),0===this.arrStickToActive.length&&this.scheduleOnce(function(){t.isPlaying&&s.GlobalSignals.autoMoveSignal.dispatch()},.25)},t.prototype.onActiveStickBonus=function(e){-1!=this.arrStickBonus.indexOf(e)&&(h.GameData.coinStickBonus+=e.coinBonus)},t.prototype.onEnemiesDead=function(e){var t=this;0!==this.arrEnemies.length&&(f.default.removeElement(this.arrEnemies,e),0===this.arrEnemies.length&&this.isQuestKillEnemies&&this.scheduleOnce(function(){t.isPlaying&&s.GlobalSignals.questPassSignal.dispatch()},.6))},t.prototype.replaceItemByChest=function(){cc.log("replaceItemByChest");var e=cc.instantiate(this.itemLoot.chestPrefab);this.node.addChild(e),e.position=this.itemLoot.node.position,e.setSiblingIndex(this.itemLoot.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.questType=r.QuestType.OPEN_CHEST,y.default.instance.updateLevelInfo(h.GameData.currentLevelId,this.questType),this.itemLoot.node.destroy()},t.prototype.replacePuzzle=function(){cc.log("ReplacemoneyBag");var e=cc.instantiate(this.itemPuzzle.moneyBag);this.node.addChild(e),e.position=this.itemPuzzle.node.position,e.setSiblingIndex(this.itemPuzzle.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.questType=r.QuestType.COLLECT_SINGLE_ITEM,y.default.instance.updateLevelInfo(h.GameData.currentLevelId,this.questType),this.itemPuzzle.node.destroy()},t.prototype.checkSkinForReplace=function(e,t,o){if(-1!=e.indexOf(t)&&o)return!0},t.prototype.replaceItem=function(e){var t=e.getComponent(S.default).itemDefault,n=cc.instantiate(t);n.setPosition(this.itemSkin.position),n.setSiblingIndex(this.itemSkin.zIndex),this.node.addChild(n),this.node.removeChild(e),o.instance.questType=r.QuestType.COLLECT_SINGLE_ITEM},t._instance=null,a([E()],t.prototype,"isOtherLevel",void 0),a([E({type:cc.Enum(r.QuestType)})],t.prototype,"questType",void 0),a([E({type:cc.Enum(g.ItemLevelType),visible:function(){return this.questType==r.QuestType.COLLECT_SINGLE_ITEM}})],t.prototype,"itemLevelType",void 0),a([E({type:cc.Node,visible:function(){return this.itemLevelType&&this.questType==r.QuestType.COLLECT_SINGLE_ITEM}})],t.prototype,"itemLevel",void 0),a([E({type:cc.Enum(_.ItemLevelSkin),visible:function(){return this.questType==r.QuestType.COLLECT_SKIN}})],t.prototype,"itemLevelSkin",void 0),a([E({type:cc.Node,visible:function(){return this.itemLevelSkin&&this.questType==r.QuestType.COLLECT_SKIN}})],t.prototype,"itemSkin",void 0),a([E({type:cc.Integer,visible:function(){return this.questType==r.QuestType.COLLECT_GEMS}})],t.prototype,"totalGems",void 0),a([E({type:cc.Integer,visible:function(){return this.questType==r.QuestType.COLLECT_FIRE}})],t.prototype,"total",void 0),a([E({type:O.default,visible:function(){return this.questType==r.QuestType.SAVE_HOSTAGE}})],t.prototype,"eggCpm",void 0),a([E([l.default])],t.prototype,"arrStickToActive",void 0),a([E([l.default])],t.prototype,"arrStickBonus",void 0),a([E([cc.Node])],t.prototype,"arrEnemies",void 0),a([E([cc.Node])],t.prototype,"arrNative",void 0),a([E(d.default)],t.prototype,"itemLoot",void 0),a([E(b.default)],t.prototype,"itemPuzzle",void 0),a([E(cc.Label)],t.prototype,"tipLabel",void 0),a([E(cc.Node)],t.prototype,"notifiNode",void 0),o=a([D],t)}(cc.Component);o.default=G,cc._RF.pop()},{"../GameData":"GameData","../PlayScreen":"PlayScreen","../ResUtil":"ResUtil","../base/TouchManager":"TouchManager","../base/utils/ArrayUtil":"ArrayUtil","../config/CaseLose":"CaseLose","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/ItemLevelSkin":"ItemLevelSkin","../config/ItemLevelType":"ItemLevelType","../config/QuestType":"QuestType","../objects/barrier/StickHold":"StickHold","../objects/character/Character":"Character","../objects/character/Daughter/Daughter":"Daughter","../objects/character/Mom/Mom":"Mom","../objects/homePin2/ContainType":"ContainType","../objects/homePin2/Container":"Container","../objects/homePin2/Libbey":"Libbey","../objects/more/ItemLevel":"ItemLevel","../objects/more/ItemLoot":"ItemLoot","../objects/more/ItemPuzzle":"ItemPuzzle","../pets/Egg":"Egg"}],MathUtil:[function(e,t,o){"use strict";cc._RF.push(t,"b05f8iW0xpDR7/QZeh1WLv8","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.randomBeetWeenFloor=function(e,t){return Math.floor(this.randomBeetWeen(e,t))},e.randomBeetWeenFloor1=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.randomBeetWeen=function(e,t){return Math.random()*(t-e)+e},e.getEuclidDistance=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},e.randomInt=function(e){return Math.floor(Math.random()*e)},e.getRandomFrom=function(e){return e[this.randomInt(e.length)]},e.getRandomSurround=function(e,t){var o=this.getRandomFrom([-1,1])*Math.floor(Math.random()*t)+e.x,n=this.getRandomFrom([-1,1])*Math.floor(Math.random()*t)+e.y;return new cc.Vec2(o,n)},e.randomMultipleOf20InRange=function(e,t){var o=e+1,n=t-o+1,i=Math.floor(Math.random()*n)+o;return 20*Math.ceil(i/20)},e.getRandomNumberExcludeX20=function(e){for(var t=Math.floor(Math.random()*e);(t+1)%20==0;)t=Math.floor(Math.random()*e);return t},e}();o.default=n,cc._RF.pop()},{}],Mirror:[function(e,t,o){"use strict";cc._RF.push(t,"20e7b7EKFZF3LyRxLnkicGM","Mirror");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getNormalVector=function(e){var t=this.node.convertToNodeSpaceAR(e);return t.x>0?this.node.parent.convertToWorldSpaceAR(new cc.Vec2(-1,t.y)):this.node.parent.convertToWorldSpaceAR(new cc.Vec2(1,t.y))},a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],Mom:[function(e,t,o){"use strict";cc._RF.push(t,"ce935JmeGhBwKF+5C9yvUHZ","Mom");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../config/GlobalSignals"),c=e("../../../config/GroupConfig"),s=e("../Character"),l=e("../../../base/ColliderCallback"),u=e("../../../config/TagObject"),p=e("../../../level/MapLevel"),d=e("../../../config/GameState"),f=e("../../more/ItemLoot"),h=e("../../../config/AudioPlayId"),y=e("../../../MainScene"),g=e("../../more/ItemChest"),_=e("../../../config/SkinConfig"),v=e("../../../GameData"),m=e("../../../config/ItemLevelSkin"),b=e("../../../puzzles/PuzzlesPopup"),C=e("../../homePin2/Libbey"),S=e("../../../config/GameConfig"),P=e("../../more/ItemSync"),k=e("../../../base/audio/AudioManager"),O=e("../../../base/audio/AudioPlayer"),A=e("../../../pets/PetDataManager"),R=e("../../../config/CaseLose"),I=cc._decorator,D=I.ccclass,E=I.property,G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winAnim="Bae_Win",t.winAnim2="Bae_Win2",t.winAnimConnect="Food_WinStand",t.failAnim="Fail",t.failAnim1="Fail2",t.dirtyAnim="GamePlay1/Lose",t.jumpCollider=null,t.lbProcess=null,t._soundIdle=[],t._soundWin=[],t._soundLose=[],t._soundEnviroment=[],t.sitAnim="Collect_Gold",t.openLockAnim="OpenLock",t.flowerAnim="Flower",t.flowerAnim2="Flower2",t.stickSkin="Boss0/Stick",t.idleStickAnim="IdleStick",t.standUpAnim="CutScene2/StandUp",t.superSkin="SuperMan/Boss",t.superAppearAnim="SuperAppear",t.superAttackAnim="SuperAttack",t.superIdleAnim="SuperIdle",t.superWinAnim="SuperWin",t.superOpenLockAnim="SuperChest",t.superFlowerAnim="SuperFlower",t.superFlowerAnim2="SuperFlower2",t.soundIdleObj=[],t.soundWinObj=[],t.soundLoseObj=[],t.soundEnviromentObj=[],t.isMom=!0,t.isAutoMove=!1,t.rate=0,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"soundIdle",{get:function(){return this._soundIdle},set:function(e){this._soundIdle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundWin",{get:function(){return this._soundWin},set:function(e){this._soundWin=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundLose",{get:function(){return this._soundLose},set:function(e){this._soundLose=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundEnviroment",{get:function(){return this._soundEnviroment},set:function(e){this._soundEnviroment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isExistMom",{get:function(){return o._isExistMom},enumerable:!1,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return o._instance},set:function(e){o._instance=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,e.prototype.onLoad.call(this),this.initBossSkin()},t.prototype.initBossSkin=function(){if(this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop(),v.GameData.currentSkinBoss)var e=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentSkinBoss);if(v.GameData.currentHatBoss)var t=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentHatBoss);if(v.GameData.currentShoeBoss)var o=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentShoeBoss);if(v.GameData.currentScarfBoss)var n=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentScarfBoss);if(v.GameData.currentScarfBoss)var i=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentGloveBoss);if(v.GameData.currentEarBoss)var a=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentEarBoss);var r=new sp.spine.Skin("Temp");r.addSkin(e),t&&r.addSkin(t),o&&r.addSkin(o),n&&(v.GameData.currentSkinBoss!=_.SkinConfig.arraySkinBoss[0].skins[0]&&v.GameData.currentSkinBoss!=S.GameConfig.boss_skin_default||r.addSkin(n)),i&&r.addSkin(i),a&&r.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name)},t.prototype.start=function(){this.hit&&(this.hit.active=!0),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this.setupSound()},t.prototype.onEnable=function(){o._isExistMom=!0,this.initPetSkin(),this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onDirty=this.onDirty.bind(this),this._onDieFire=this.onDieFire.bind(this),r.GlobalSignals.questPassSignal.add(this._onQuestPass),r.GlobalSignals.questFailSignal.add(this._onQuestFail),r.GlobalSignals.collectGemsSignal.add(this._onCollectGems),r.GlobalSignals.autoMoveSignal.add(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.add(this._onDirty),r.GlobalSignals.questDieFireSignal.add(this._onDieFire)},t.prototype.onDisable=function(){o._isExistMom=!1,r.GlobalSignals.questPassSignal.remove(this._onQuestPass),r.GlobalSignals.questFailSignal.remove(this._onQuestFail),r.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),r.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.remove(this._onDirty)},t.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},t.prototype.setupSound=function(){this.onSoundIdle(),this.onSoundEnviroment()},t.prototype.onSoundEnviroment=function(){this.soundEnviromentObj=O.default.playArrAudioObj(this.soundEnviroment)},t.prototype.onSoundIdle=function(){this.soundIdleObj=O.default.playArrAudioObj(this.soundIdle)},t.prototype.offSoundIdle=function(){O.default.stopArrAudioObj(this.soundIdleObj)},t.prototype.onSoundWin=function(){this.soundWinObj=O.default.playArrAudioObj(this.soundWin)},t.prototype.onSoundLose=function(){this.isAlive&&(this.soundLoseObj=O.default.playArrAudioObj(this.soundLose))},t.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.sitAnim);var e=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()},e)},t.prototype.onQuestPass=function(){var e=this;if(this.isAlive){if(p.default.instance.isCollectPuzzle)return this.offSoundIdle(),void b.default.instance.setPlayAnimCallBack(function(){e.playAnimation(e.winAnimConnect).addAnimation(e.winAnim).addAnimation(e.winAnim2,!0)});this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0),this.scheduleOnce(function(){e.onSoundWin()},.2),this.offSoundIdle(),p.default.instance.isQuestCollectSingleItem&&0==v.GameData.currentRoomId&&cc.tween(this.node).call(function(){e.playAnimation("Walk2",!0)}).by(1.2,{position:cc.v3(100,0,0)}).start()}},t.prototype.onQuestFail=function(){this.stopMove(),this.isAlive?(this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0),this.onSoundLose(),this.offSoundIdle()):(this.onSoundLose(),this.offSoundIdle())},t.prototype.onAutoMove=function(){var e=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){e.jumpCollider.node.active=!0},.2))},t.prototype.onGroundCollisionEnter=function(t){e.prototype.onGroundCollisionEnter.call(this,t),this.isAutoMove&&this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},t.prototype.onHeadCollider=function(e){if(this.isAlive&&this.getCurrentSkin()!==this.superSkin)return e.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},t.prototype.onBodyCollider=function(e){if(this.isAlive&&p.default.instance.isPlaying&&this.getCurrentSkin()!==this.superSkin)if(e.node.group===c.GroupConfig.GEMS&&p.default.instance.countGemsCollected++,e.node.group!==c.GroupConfig.LAVA)if(e.node.group!==c.GroupConfig.SNOW){if(e.node.group===c.GroupConfig.COLLIDER){if(e.node.name==u.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(e.node.name==u.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(e.node.name==u.TagConfig.REDIRECT_STOP)return this.playAnimation(this.idleAnim),this.onSoundIdle(),void this.stopMove();if(e.node.name==u.TagConfig.BOMB)return void this.onDieFire();if(e.node.name==u.TagConfig.GAS)return void this.onDieNormal();if(e.node.name==u.TagConfig.HIT&&e.node!=this.hit)return void this.onDieHit()}e.node.group!==c.GroupConfig.DIRTY||(this.isDirty?e.node.active=!1:r.GlobalSignals.playAnimPlayerSignal.dispatch())}else this.onDieIce();else this.onDieFire()},t.prototype.onAttackCollider=function(e){var t=this;if(this.isAlive&&p.default.instance.isPlaying){if(e.node.group===c.GroupConfig.ITEM){if(e.node.name==u.TagConfig.STICK){r.GlobalSignals.bossAttackSignal.dispatch();try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.destroy()}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToStickBoss()}if(e.node.name==u.TagConfig.ITEM){if(r.GlobalSignals.bossAttackSignal.dispatch(),!(n=e.node.getComponent(f.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(e.node),this.playAnimation(this.openLockAnim),n.openItem();var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){p.default.instance.isPlaying&&p.default.instance.isQuestCollectItem&&r.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(e.node.name==u.TagConfig.CHEST)return r.GlobalSignals.bossAttackSignal.dispatch(),(n=e.node.getComponent(g.default))?(this.stopMove(),this.rotateFaceToTarget(e.node),this.playAnimation(this.openLockAnim),n.openItem(),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){t.isAlive&&p.default.instance.isPlaying&&(p.default.instance.isCollectGems=!0,r.GlobalSignals.collectGemsSignal.dispatch(),t.scheduleOnce(function(){t.isAlive&&p.default.instance.isPlaying&&(p.default.instance.gameState=d.GameState.WIN,p.default.instance.isPlaying&&p.default.instance.isQuestOpenChest&&r.GlobalSignals.questPassSignal.dispatch())},1.5))},o)):void cc.error("item is null")}return e.node.group===c.GroupConfig.CHARACTER?e.node.name==u.TagConfig.GIRL||e.node.name==u.TagConfig.GIRL_WONDER?(r.GlobalSignals.bossAttackSignal.dispatch(),void this.rescueTheDaughter(e.node)):this.getCurrentSkin()===this.stickSkin&&e.node.name==u.TagConfig.STEALER?(r.GlobalSignals.bossAttackSignal.dispatch(),void this.playAttack(e.node)):void 0:void 0}},t.prototype.onJumpCollider=function(e){this.isAlive&&this.isGround&&(e.node.group!==c.GroupConfig.BERRIE&&e.node.group!==c.GroupConfig.ROCK||this.moveJump())},t.prototype.onSearchCollider=function(e){if(this.isAlive&&p.default.instance.isPlaying)return e.node.group===c.GroupConfig.CHARACTER&&e.node!=this.node&&this.getCurrentSkin()===this.stickSkin&&e.node.name==u.TagConfig.STEALER?(r.GlobalSignals.bossWalkToTargetSignal.dispatch(),void this.walkToTarget(e.node)):void 0},t.prototype.onHandCollider=function(e){var t=this;if(this.isAlive&&p.default.instance.isPlaying)if(e.node.group!==c.GroupConfig.GEMS)if(e.node.group!==c.GroupConfig.COLLIDER||e.node.name!=u.TagConfig.BOMB){if(e.node.group===c.GroupConfig.ITEM){if(p.default.instance.isQuestCollectSkin){var o=m.ItemSkinLevel.getSkinName(p.default.instance.itemLevelSkin);return void this.runEffectItemWin(e.node,this.headCollider.node,function(){t.addSkinBoss(p.default.instance.itemLevelSkin,o),r.GlobalSignals.questPassSignal.dispatch()},!0)}if(p.default.instance.isPlaying&&p.default.instance.isQuestCollectSingleItem)switch(parseInt(e.node.name,10)){case u.TagConfig.LIFEBOUY:this.handCollider.node.active=!1;var n=e.node.addComponent(P.default);this.runItemtoTarget(e.node,this.handCollider.node,function(){n.node.opacity=0,t.scheduleOnce(function(){t.runOpacity(n.node,100,255,0),n.targetPos=t.elementHand},.55),r.GlobalSignals.questPassSignal.dispatch()});break;case u.TagConfig.KEY:this.handCollider.node.active=!1,this.runEffectItemWin(e.node,this.handCollider.node,function(){r.GlobalSignals.questPassSignal.dispatch()});break;case u.TagConfig.MILK:this.handCollider.node.active=!1,this.runEffectItemWin(e.node,this.handCollider.node,function(){t.addSkinBoss(m.ItemLevelSkin.ITEMHAND,"Foods/Milk"),r.GlobalSignals.questPassSignal.dispatch()},!0);break;case u.TagConfig.GIFT_BOX:case u.TagConfig.PUZZLE:this.runEffectItemWin(e.node,this.bodyCollider.node,function(){r.GlobalSignals.questPassSignal.dispatch()},!0);break;case u.TagConfig.COCO:r.GlobalSignals.questPassSignal.dispatch(),this.scheduleOnce(function(){e.node.active=!1},.3),this.scheduleOnce(function(){y.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_drink)},1.6);break;case u.TagConfig.APPLE:case u.TagConfig.PICK_EXE:r.GlobalSignals.questPassSignal.dispatch(),this.scheduleOnce(function(){e.node.active=!1},.3),this.scheduleOnce(function(){y.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_eat_apple)},1.2);break;case u.TagConfig.IP:r.GlobalSignals.questFailSignal.dispatch(),e.node.active=!1,this.scheduleOnce(function(){y.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_eat_apple)},1.2);break;case u.TagConfig.BROOM:r.GlobalSignals.questPassSignal.dispatch(),e.node.active=!1,this.addSkinBoss(m.ItemLevelSkin.ITEMHAND,"Item/Broom"),this.scheduleOnce(function(){y.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_eat_apple)},1.2);break;default:this.runEffectItemWin(e.node,this.bodyCollider.node,function(){r.GlobalSignals.questPassSignal.dispatch()},!0)}p.default.instance.isIntro&&(e.node.active=!1,this.scheduleOnce(function(){t.playAnimation("Intro/Idle_Intro2",!0),y.default.instance.audioPlayer.playAudio(h.AudioPlayId.mom_crying)},1.2),r.GlobalSignals.questPassIntro.dispatch())}}else this.onDieFire();else if(e.node.name==u.TagConfig.COIN){if(this.lbProcess&&p.default.instance.totalGems){var i=p.default.instance.totalGems;this.rate+=1/i*100,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.rate>=100&&p.default.instance.isPlaying&&r.GlobalSignals.questPassSignal.dispatch()}return}},t.prototype.runEffectItemWin=function(e,t,o,n){var i=e.parent.convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),a=Math.abs(e.angle%360);e.angle=a;var r;r=a<180?0:360,e.getComponent(cc.RigidBody).fixedRotation=!0,e.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var c=cc.tween().to(.5,{angle:r,scale:1.2}),s=cc.tween().to(.5,{scale:1});e.removeComponent(cc.BoxCollider),cc.tween(e).sequence(c,s).repeat(2).delay(.5).to(.3,{position:i}).call(function(){o(),n&&(e.active=!1)}).start()},t.prototype.runItemtoTarget=function(e,t,o,n){var i=e.parent.convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position));e.getComponent(cc.RigidBody).fixedRotation=!0,e.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,e.removeComponent(cc.BoxCollider),cc.tween(e).to(.3,{position:i}).call(function(){o(),n&&(e.active=!1)}).start()},t.prototype.runItemScaleMiddle=function(e,t,o){void 0===o&&(o=!1),e.removeComponent(cc.RigidBody),e.removeComponent(cc.BoxCollider),e.zIndex=10,cc.tween(e).to(.8,{position:new cc.Vec3(0,0,0),scale:3}).delay(.5).call(function(){e.active=o,t()}).start()},t.prototype.playAttack=function(e){var t=this;this.rotateFaceToTarget(e),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){t.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){p.default.instance.isPlaying&&(t.skeleton.setCompleteListener(null),t.playAnimation(t.idleStickAnim,!0),t.hit.active=!1,t.stopMove())})},t.prototype.rescueTheDaughter=function(e){var t=this;console.log("rescueTheDaughter"),this.stopMove(),this.rotateFaceToTarget(e);var o=A.PetDataManager.pickRandomAEgg();this.getCurrentSkin()===this.superSkin?this.playAnimation(this.sitAnim).addAnimation(this.superWinAnim,!0):this.playAnimation(this.sitAnim),this.scheduleOnce(function(){p.default.instance.isPlaying&&r.GlobalSignals.questPassSignal.dispatch()},3);var n=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){r.GlobalSignals.daughterIsSaved.dispatch(o,t.node)},n)},t.prototype.changeSkinToStickBoss=function(){var e=this;this.changeSkin(this.stickSkin),this.playAnimation(this.idleStickAnim,!0),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40;var t=this.groundCollider.node.getComponent(u.default);t&&t.setTag(u.TagConfig.BOSS_STICK),this.scheduleOnce(function(){e.searchCollider.refreshPingToTarget()},.1)},t.prototype.addSkinBoss=function(e,t){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentSkinBoss),a=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentHatBoss),r=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentShoeBoss),c=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentScarfBoss);switch(e){case m.ItemLevelSkin.HAT:a=this.skeleton.skeletonData.getRuntimeData().findSkin(t),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_HATS,array:v.GameData.myBossHats},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setHatBoss(t,function(){});break;case m.ItemLevelSkin.SHOE:r=this.skeleton.skeletonData.getRuntimeData().findSkin(t),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_SHOES,array:v.GameData.myBossShoes},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setShoeBoss(t,function(){});break;case m.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(t),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_SKINS,array:v.GameData.myBossSkins},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setSkinBoss(t,function(){});break;case m.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(t),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_HATS,array:v.GameData.myBossHats},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setHatBoss(t,function(){});break;case m.ItemLevelSkin.GLOVES:o=this.skeleton.skeletonData.getRuntimeData().findSkin(t),v.GameData.addSkinBossOther(v.GameData.KEY_BOSS_CURRENT_GLOVES);break;case m.ItemLevelSkin.SCARF:c=this.skeleton.skeletonData.getRuntimeData().findSkin(t),v.GameData.addSkinBossOther(v.GameData.KEY_BOSS_CURRENT_SCARF);break;case m.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(t)}var s=new sp.spine.Skin("Temp");s.addSkin(i),c&&v.GameData.currentSkinBoss==S.GameConfig.boss_skin_default&&s.addSkin(c),a&&s.addSkin(a),r&&s.addSkin(r),o&&s.addSkin(o),n&&s.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(s),this.skeleton.setSkin(s.name)},t.prototype.onDieHit=function(){this.isAlive=!1,this.stopMove(),this.playAnimation(this.dieAnim),p.default.instance.caseLose=R.CaseLose.DIE_FOR_HIT,y.default.instance.audioPlayer.playAudio(h.AudioPlayId.mom_die_lava),r.GlobalSignals.questFailSignal.dispatch()},t.prototype.onDieNormal=function(){this.stopMove(),this.playAnimation(this.dieAnim),this.isAlive=!1,y.default.instance.audioPlayer.playAudio(h.AudioPlayId.mom_die_lava),r.GlobalSignals.questFailSignal.dispatch()},t.prototype.onDieFire=function(){this.stopMove(),this.isAlive=!1,y.default.instance.audioPlayer.playAudio(h.AudioPlayId.mom_die_lava),this.playAnimation(this.dieFireAnim,!1);var e=p.default.instance.node.getComponentInChildren(C.default);e&&(e.node.active=!1),r.GlobalSignals.questFailSignal.dispatch(),this.offSoundIdle()},t.prototype.onDieIce=function(){this.stopMove(),this.playAnimation(this.dieIceAnim),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},t.prototype.onDirty=function(){this.isDirty=!0,this.playAnimation(this.dirtyAnim,!0),r.GlobalSignals.questFailSignal.dispatch(),this.offSoundIdle()},t.prototype.stopMove=function(){e.prototype.stopMove.call(this),this.isAutoMove=!1},t._isExistMom=!1,t._instance=null,a([E(cc.String)],t.prototype,"winAnim",void 0),a([E(cc.String)],t.prototype,"winAnim2",void 0),a([E(cc.String)],t.prototype,"winAnimConnect",void 0),a([E(cc.String)],t.prototype,"failAnim",void 0),a([E(cc.String)],t.prototype,"failAnim1",void 0),a([E(cc.String)],t.prototype,"dirtyAnim",void 0),a([E(l.default)],t.prototype,"jumpCollider",void 0),a([E(cc.Label)],t.prototype,"lbProcess",void 0),a([E({type:[k.AudioObj]})],t.prototype,"_soundIdle",void 0),a([E({type:[k.AudioObj]})],t.prototype,"soundIdle",null),a([E({type:[k.AudioObj]})],t.prototype,"_soundWin",void 0),a([E({type:[k.AudioObj]})],t.prototype,"soundWin",null),a([E({type:[k.AudioObj]})],t.prototype,"_soundLose",void 0),a([E({type:[k.AudioObj]})],t.prototype,"soundLose",null),a([E({type:[k.AudioObj]})],t.prototype,"_soundEnviroment",void 0),a([E({type:[k.AudioObj]})],t.prototype,"soundEnviroment",null),o=a([D],t)}(s.default);o.default=G,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../base/ColliderCallback":"ColliderCallback","../../../base/audio/AudioManager":"AudioManager","../../../base/audio/AudioPlayer":"AudioPlayer","../../../config/AudioPlayId":"AudioPlayId","../../../config/CaseLose":"CaseLose","../../../config/GameConfig":"GameConfig","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../../pets/PetDataManager":"PetDataManager","../../../puzzles/PuzzlesPopup":"PuzzlesPopup","../../homePin2/Libbey":"Libbey","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../../more/ItemSync":"ItemSync","../Character":"Character"}],MoveCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"e8b3bJpT95DF5LXqOlQdvTC","MoveCtrl");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc.Vec2,c=e("../../base/PhysicalEnable"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Velocity_X=120,t.Jump=30,t.enableOverTerrain=!0,t.Rigid_Body=null,t.Direction=0,t}return i(t,e),t.prototype.onLoad=function(){this.Rigid_Body=this.node.getComponent(cc.RigidBody)},t.prototype.start=function(){this.Walk_Force=1e3*this.Rigid_Body.getMass(),this.Jump_Force=1e3*this.Rigid_Body.getMass()*this.Jump},t.prototype.moveLeft=function(){this.Direction=-1},t.prototype.moveRight=function(){this.Direction=1},t.prototype.moveJump=function(){this.Rigid_Body.applyForceToCenter(cc.v2(0,this.Jump_Force),!0)},t.prototype.stopMove=function(){this.Direction=0,this.Rigid_Body.linearVelocity=r.ZERO},t.prototype.update=function(){if((this.Direction>0&&this.Rigid_Body.linearVelocity.x<this.Velocity_X||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-this.Velocity_X)&&this.Rigid_Body.applyForceToCenter(cc.v2(this.Direction*this.Walk_Force*c.default.REAL_GRAVITY_SCALE,0),!0),this.enableOverTerrain&&(this.Direction>0&&this.Rigid_Body.linearVelocity.x<10||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-10)){var e=this.Rigid_Body.linearVelocity.y<30?5:-10;this.Rigid_Body.applyForceToCenter(cc.v2(0,e*this.Walk_Force*c.default.REAL_GRAVITY_SCALE),!0)}},a([u(cc.Float)],t.prototype,"Velocity_X",void 0),a([u(cc.Float)],t.prototype,"Jump",void 0),a([u(cc.Boolean)],t.prototype,"enableOverTerrain",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../base/PhysicalEnable":"PhysicalEnable"}],MyAudioPlayer:[function(e,t){"use strict";cc._RF.push(t,"a7628SEG81DQrwsRPOprRnj","MyAudioPlayer");var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=n?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(o,a,r):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}(e("./AudioPlayer")),n=e("../../config/AudioPlayId");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}cc.Class({extends:o.default,properties:{arrayAudioObj:{type:[o.AudioObject],default:function(){var e=[];for(var t in n.AudioPlayId){var i=new o.AudioObject;i.name=n.AudioPlayId[t+""],i.isMusic=!1,i.audioClip=null,e.push(i)}return e},override:!0}}}),cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId","./AudioPlayer":"AudioPlayer"}],MyRoom:[function(e,t,o){"use strict";cc._RF.push(t,"73b4e4nWfpO3aCoMUirYPtQ","MyRoom");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=e("../config/RoomConfig"),s=e("../puzzles/PuzzlesPopup"),l=e("../MainScene"),u=e("../config/AudioPlayId"),p=e("../HomeScreen"),d=e("./Building/BuildItem"),f=e("./Building/IslandConfig"),h=cc.easeIn,y=e("../Daily/PopupDaily"),g=e("../config/GlobalSignals"),_=e("../ResUtil"),v=e("./Building/GuideController"),m=cc._decorator,b=m.ccclass,C=m.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss=null,t.daughter=null,t.petNode=null,t.whatIsland=f.IslandName.None,t.guide=null,t.upgradeDecorGuide=null,t.popupPuzzles=null,t.items=[],t.puzzleButtons=null,t.effectHammer=null,t.effectSmoke=null,t.roomNoti=null,t.openRoomClip=null,t.flash2=null,t.spriteParent="HomeIsland/Sprites/Building/",t.data={Item1:4,Item2:4,Item3:4,Item4:4,Item5:4,Item6:4},t.enumIsland=null,t.roomId=0,t.arrayItems={},t}return i(t,e),t.prototype.onLoad=function(){this.enumIsland=f.IslandConfig.getIslandItems(this.whatIsland)},t.prototype.onEnable=function(){if(r.GameData.CurrentPet?this.petNode.active=!0:this.petNode.active=!1,8!=r.GameData.currentLevelId||r.GameData.doneRoom0)this.arrayItems=r.GameData.arrayItem,this.initItems();else{p.default.instance.uiRoot.active=!1,this.roomNoti.active=!0,this.openRoomClip.play();for(var e=0;e<this.items.length;e++)this.items[e].node.active=!1;y.default.instance&&(y.default.instance.node.active=!1)}},t.prototype.initItems=function(){var e=this;this.arrayItems=r.GameData.arrayItem,this.roomId=c.RoomConfig.getRoomIdByName(this.node.name),this.items.forEach(function(t,o){var n=e.spriteParent+f.IslandName[e.whatIsland]+"/"+e.enumIsland[""+t.islandItem]+"/";if(0==e.arrayItems[""+t.islandItem])return e.items[o].node.active=!1,void e.items[o].noneActive(n,e.showEffectAppear.bind(e));e.items[o].node.active=!0,e.items[o].initItem(n,e.arrayItems[""+t.islandItem],e.showEffectAppear.bind(e))})},t.prototype.openItem=function(){cc.log("openItem"),this.boss.node.active=!1,this.daughter.node.active=!1,this.petNode.active=!1},t.prototype.showEffectAppear=function(e,t){var o=this;l.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_hammer_build),this.effectHammer.active=!0,this.effectHammer.position=e,this.effectHammer.zIndex=10;var n=cc.instantiate(this.effectSmoke);n.position=e,n.parent=this.node;var i=cc.tween().to(.1,{angle:-35},h(1)).to(.1,{angle:30});cc.tween(this.effectHammer).repeat(4,i).by(0,{position:cc.v3(60,60,0)}).repeat(3,i).by(0,{position:cc.v3(0,-100,0)}).repeat(4,i).call(function(){cc.Tween.stopAllByTarget(o.effectHammer),o.effectHammer.active=!1,n.destroy(),t()}).start()},t.prototype.onDisable=function(){},t.prototype.openPuzzlesPopup=function(e,t){var o=cc.instantiate(this.popupPuzzles);o.parent=l.default.instance.node.parent,this.arrayItems[t-1]?o.getComponent(s.default).init(this.arrayItems[t-1].puzzles,t):o.getComponent(s.default).init([],t)},t.prototype.openPopupItems=function(){this.puzzleButtons.active=!0,this.boss.node.active=!1,this.daughter.node.active=!1,this.petNode.active=!1},t.prototype.closePopupItems=function(){this.puzzleButtons.active=!1,this.boss.node.active=!0,this.daughter.node.active=!0,this.petNode.active=!0},t.prototype.goToLevel=function(){this.roomNoti.active=!1,l.default.instance.showGamePlayScreen()},t.prototype.openFromHome=function(){this.puzzleButtons.active||l.default.instance.showSelectRoomPopup()},t.prototype.tapToPlay=function(){var e=this;r.GameData.setUpgadeDecor("Item5",1,null),l.default.instance.showHomeScreen(),this.scheduleOnce(function(){g.GlobalSignals.onGuide1.dispatch(),p.default.instance.uiRoot.active=!0,e.puzzleButtons.active=!1,e.roomNoti.active=!1,e.initItems(),_.ResUtil.loadPrefab("HomeIsland/Prefabs/Guide1",function(t){var o=cc.instantiate(t);o.parent=p.default.instance.node,o.zIndex=10,o.getComponent(v.default).getProperty(e.flash2,e.upgradeDecorGuide)},null)},1.5)},a([C(sp.Skeleton)],t.prototype,"boss",void 0),a([C(sp.Skeleton)],t.prototype,"daughter",void 0),a([C(cc.Node)],t.prototype,"petNode",void 0),a([C({type:cc.Enum(f.IslandName)})],t.prototype,"whatIsland",void 0),a([C({visible:function(){return this.whatIsland==f.IslandName.Island1},type:cc.Node})],t.prototype,"guide",void 0),a([C({visible:function(){return this.whatIsland==f.IslandName.Island1},type:cc.Node})],t.prototype,"upgradeDecorGuide",void 0),a([C(cc.Prefab)],t.prototype,"popupPuzzles",void 0),a([C([d.default])],t.prototype,"items",void 0),a([C(cc.Node)],t.prototype,"puzzleButtons",void 0),a([C(cc.Node)],t.prototype,"effectHammer",void 0),a([C(cc.Prefab)],t.prototype,"effectSmoke",void 0),a([C(cc.Node)],t.prototype,"roomNoti",void 0),a([C(cc.Animation)],t.prototype,"openRoomClip",void 0),a([C(cc.Node)],t.prototype,"flash2",void 0),a([b],t)}(cc.Component);o.default=S,cc._RF.pop()},{"../Daily/PopupDaily":"PopupDaily","../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../ResUtil":"ResUtil","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","../config/RoomConfig":"RoomConfig","../puzzles/PuzzlesPopup":"PuzzlesPopup","./Building/BuildItem":"BuildItem","./Building/GuideController":"GuideController","./Building/IslandConfig":"IslandConfig"}],Native:[function(e,t,o){"use strict";cc._RF.push(t,"274b2uYUAdFQbgHTgcpKU4e","Native");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../MainScene"),c=e("../../../base/audio/AudioManager"),s=e("../../../base/audio/AudioPlayer"),l=e("../../../config/AudioPlayId"),u=e("../../../config/GlobalSignals"),p=e("../../../config/GroupConfig"),d=e("../../../config/TagObject"),f=e("../../../level/MapLevel"),h=e("../Enemies/Enemies"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animIdle2="idle2",t.animLose="Lose",t.animWin1="Win",t.animWin2="Win2",t.animGetcoin="GetCoin",t._soundIdle=[],t._soundWin=[],t._soundLose=[],t.soundIdleObj=[],t.soundWinObj=[],t.soundLoseObj=[],t.isThin=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"soundIdle",{get:function(){return this._soundIdle},set:function(e){this._soundIdle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundWin",{get:function(){return this._soundWin},set:function(e){this._soundWin=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundLose",{get:function(){return this._soundLose},set:function(e){this._soundLose=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o._instance=this},t.prototype.start=function(){this.onSoundIdle()},t.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),u.GlobalSignals.questFailSignal.add(this._onQuestFail),u.GlobalSignals.questPassSignal.add(this._onQuestPass)},t.prototype.onDisable=function(){u.GlobalSignals.questPassSignal.remove(this._onQuestPass),u.GlobalSignals.questFailSignal.remove(this._onQuestFail)},t.prototype.setupSound=function(){this.onSoundIdle()},t.prototype.onSoundIdle=function(){this.soundIdleObj=s.default.playArrAudioObj(this.soundIdle)},t.prototype.offSoundIdle=function(){s.default.stopArrAudioObj(this.soundIdleObj)},t.prototype.onSoundWin=function(){this.soundWinObj=s.default.playArrAudioObj(this.soundWin)},t.prototype.onSoundLose=function(){this.soundLoseObj=s.default.playArrAudioObj(this.soundLose)},t.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.addAnimation(this.animWin1).addAnimation(this.animWin2,!0),this.offSoundIdle(),this.onSoundLose())},t.prototype.onQuestPass=function(){this.stopMove(),this.isAlive&&(this.addAnimation(this.animLose,!0),this.offSoundIdle(),this.onSoundWin())},t.prototype.onHeadCollider=function(e){if(e.node.group===p.GroupConfig.ROCK)return this.onDieNormal(),void this.disablePhysicsBody();if(e.node.group===p.GroupConfig.COLLIDER){if(e.node.name==d.TagConfig.BOMB)return void this.onDieFire();(e.node.name==d.TagConfig.GAS||e.node.name==d.TagConfig.BOMB||e.node.name==d.TagConfig.HIT&&e.node!=this.hit)&&this.onDieNormal()}},t.prototype.onDieNormal=function(){this.stopMove(),this.playAnimation(this.dieAnim),this.isAlive=!1,r.default.instance.audioPlayer.playAudio(l.AudioPlayId.native_die)},t.prototype.onDieFire=function(){f.default.instance.isPlaying&&(this.stopMove(),this.playAnimation(this.dieFireAnim,!1),this.isAlive=!1,r.default.instance.audioPlayer.playAudio(l.AudioPlayId.native_die))},t.prototype.onDieIce=function(){this.stopMove(),this.playAnimation(this.dieIceAnim),this.isAlive=!1},t._instance=null,a([_(cc.String)],t.prototype,"animIdle2",void 0),a([_(cc.String)],t.prototype,"animLose",void 0),a([_(cc.String)],t.prototype,"animWin1",void 0),a([_(cc.String)],t.prototype,"animWin2",void 0),a([_(cc.String)],t.prototype,"animGetcoin",void 0),a([_({type:[c.AudioObj]})],t.prototype,"_soundIdle",void 0),a([_({type:[c.AudioObj]})],t.prototype,"soundIdle",null),a([_({type:[c.AudioObj]})],t.prototype,"_soundWin",void 0),a([_({type:[c.AudioObj]})],t.prototype,"soundWin",null),a([_({type:[c.AudioObj]})],t.prototype,"_soundLose",void 0),a([_({type:[c.AudioObj]})],t.prototype,"soundLose",null),o=a([g],t)}(h.default);o.default=v,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../base/audio/AudioManager":"AudioManager","../../../base/audio/AudioPlayer":"AudioPlayer","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../Enemies/Enemies":"Enemies"}],NoPadding:[function(e,t,o){"use strict";cc._RF.push(t,"38edcJmpCxB+7H8EcyM17AP","NoPadding"),Object.defineProperty(o,"__esModule",{value:!0}),o.NoPadding=void 0;var n=function(){function e(){}return e.pad=function(){},e.unpad=function(){},e}();o.NoPadding=n,cc._RF.pop()},{}],NodeFixSize:[function(e,t,o){"use strict";cc._RF.push(t,"ac315ALtiZAaIv7DzDPnY3h","NodeFixSize");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fixWidth=!1,t.fixHeight=!1,t.auto=!1,t}return i(t,e),t.prototype.onEnable=function(){if(this.fixWidth||this.fixHeight||this.auto){var e=cc.winSize;if(this.auto&&(this.node.width/this.node.height<e.width/e.height?(this.fixHeight=!1,this.fixWidth=!0):(this.fixHeight=!0,this.fixWidth=!1)),this.fixWidth&&this.fixHeight)return this.node.width=e.width,void(this.node.height=e.height);var t=this.fixWidth?e.width/this.node.width:e.height/this.node.height;this.node.width*=t,this.node.height*=t}},a([s(cc.Boolean)],t.prototype,"fixWidth",void 0),a([s(cc.Boolean)],t.prototype,"fixHeight",void 0),a([s(cc.Boolean)],t.prototype,"auto",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],NormalBomb:[function(e,t,o){"use strict";cc._RF.push(t,"5155bU7jAhA25Y5JRym02+i","NormalBomb");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../MainScene"),c=e("../../config/GroupConfig"),s=e("../../config/PhysicsConfig"),l=e("../../config/TagObject"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bigBangPrefab=null,t.onAttack=!1,t}return i(t,e),t.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"bomb")},t.prototype.onCollisionEnter=function(e){(e.node.group===c.GroupConfig.CHARACTER||e.node.group===c.GroupConfig.COLLIDER||e.node.group===c.GroupConfig.GEMS||e.node.group===c.GroupConfig.BALL||e.node.group===c.GroupConfig.ITEM||e.node.group===c.GroupConfig.WATER||e.node.group===c.GroupConfig.LAVA||e.node.group===c.GroupConfig.COAL||e.node.group===c.GroupConfig.ROCK&&e.node.name==l.TagConfig.ROCK_BUILD||e.node.group===c.GroupConfig.WOOD)&&(this.onAttack||(this.attack(),this.onAttack=!0))},t.prototype.attack=function(){this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider);var e=cc.instantiate(this.bigBangPrefab),t=this.node.getParent().getParent();e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),cc.tween(r.default.instance.camera).by(.2,{position:cc.v3(0,20,0)}).by(.3,{position:cc.v3(0,-40,0)}).by(.4,{position:cc.v3(0,20,0)}).start(),t.addChild(e),this.node.destroy()},a([d(cc.Prefab)],t.prototype,"bigBangPrefab",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],NumberUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"5f57bf0wUVL5oDhX1pS612S","NumberUpdater");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.step=.01,t._formatFunc=null,t._currentNumber=0,t._dstNumber=0,t}return i(t,e),Object.defineProperty(t.prototype,"currentNumber",{get:function(){return this._currentNumber},set:function(e){this._currentNumber=e,this.updateLabel()},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.label||(this.label=this.getComponent(cc.Label))},t.prototype.setFormatFunc=function(e){this._formatFunc=e},t.prototype.updateNumber=function(e,t,o){this.currentNumber=this._dstNumber,this.setNumber(e,t,o)},t.prototype.setNumber=function(e,t,o){var n=this;if(this._dstNumber=e,t){if(this.unscheduleAllCallbacks(),this.currentNumber===e)return;o&&(this.step=o);var i=this.step,a=Math.floor(t/this.step);this.currentNumber>e&&(this.currentNumber=0);var r=Math.ceil((e-this.currentNumber)/a);r<=0&&(r=1),this.schedule(function(){n.currentNumber+=r,n.currentNumber>e&&(n.currentNumber=e,n.unscheduleAllCallbacks())},i,a,0)}else this.currentNumber=e},t.prototype.updateLabel=function(){cc.isValid(this.label)?this._formatFunc?this.label.string=""+this._formatFunc(this.currentNumber):this.label.string=""+this.currentNumber:cc.warn("this.label is not valid or null or undefined")},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},a([s(cc.Label)],t.prototype,"label",void 0),a([s(cc.Integer)],t.prototype,"step",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpacityAnim:[function(e,t,o){"use strict";cc._RF.push(t,"f9f89qMNdZDS6Y6M3VGH+VC","OpacityAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=.6,t.duration2=.6,t}return i(t,e),t.prototype.play=function(e){var t=cc.sequence(cc.fadeIn(this.duration1),cc.fadeOut(this.duration2));this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.play(this.node)},a([s(cc.Boolean)],t.prototype,"repeatForever",void 0),a([s(cc.Float)],t.prototype,"duration1",void 0),a([s(cc.Float)],t.prototype,"duration2",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpenItem:[function(e,t,o){"use strict";cc._RF.push(t,"0ab54+/wy5Mo71tsg159rYL","OpenItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemSkeleton=null,t.effectAppear=null,t.callback=null,t.itemConfig=null,t}return i(t,e),t.prototype.onOpenClick=function(){this.itemSkeleton.node.removeFromParent(),this.node.getParent().addChild(this.itemSkeleton.node),this.callback&&this.callback(this.itemSkeleton.node,this.effectAppear),this.node.removeFromParent()},t.prototype.setOpenCallback=function(e){this.callback=e},t.prototype.show=function(e){this.itemConfig=e,this.itemSkeleton.setSkin(e.skin),this.itemSkeleton.setSlotsToSetupPose()},a([s(sp.Skeleton)],t.prototype,"itemSkeleton",void 0),a([s(cc.Prefab)],t.prototype,"effectAppear",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpenSSLKdf:[function(e,t,o){"use strict";cc._RF.push(t,"ae5afqW9ARC/Yueq9F1e3Za","OpenSSLKdf"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSLKdf=void 0;var n=e("../lib/WordArray"),i=e("../lib/CipherParams"),a=e("../algo/EvpKDF"),r=function(){function e(){}return e.execute=function(e,t,o,r){r||(r=n.WordArray.random(8));var c=new a.EvpKDF({keySize:t+o}).compute(e,r),s=new n.WordArray(c.words.slice(t),4*o);return c.sigBytes=4*t,new i.CipherParams({key:c,iv:s,salt:r})},e}();o.OpenSSLKdf=r,cc._RF.pop()},{"../algo/EvpKDF":"EvpKDF","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],OpenSSL:[function(e,t,o){"use strict";cc._RF.push(t,"172f8Os1y5DY5qir9NXuOKB","OpenSSL"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSL=void 0;var n=e("../lib/CipherParams"),i=e("../lib/WordArray"),a=e("../enc/Base64"),r=function(){function e(){}return e.stringify=function(e){if(!e.ciphertext)throw new Error("missing ciphertext in params");var t,o=e.ciphertext,n=e.salt;if(n){if("string"==typeof n)throw new Error("salt is expected to be a WordArray");t=new i.WordArray([1398893684,1701076831]).concat(n).concat(o)}else t=o;return t.toString(a.Base64)},e.parse=function(e){var t,o=a.Base64.parse(e);return 1398893684===o.words[0]&&1701076831===o.words[1]&&(t=new i.WordArray(o.words.slice(2,4)),o.words.splice(0,4),o.sigBytes-=16),new n.CipherParams({ciphertext:o,salt:t})},e}();o.OpenSSL=r,cc._RF.pop()},{"../enc/Base64":"Base64","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],PKCS7:[function(e,t,o){"use strict";cc._RF.push(t,"1f46dxgcJJBi6t5s95WryX9","PKCS7"),Object.defineProperty(o,"__esModule",{value:!0}),o.PKCS7=void 0;var n=e("../lib/WordArray"),i=function(){function e(){}return e.pad=function(e,t){for(var o=4*t,i=o-e.sigBytes%o,a=i<<24|i<<16|i<<8|i,r=[],c=0;c<i;c+=4)r.push(a);var s=new n.WordArray(r,i);e.concat(s)},e.unpad=function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t},e}();o.PKCS7=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Padding:[function(e,t,o){"use strict";cc._RF.push(t,"acb37K6ocRNAKDeUZjDREny","Padding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ParticleLoop:[function(e,t,o){"use strict";cc._RF.push(t,"94f7cvxN9VAWZbGjcmK9FYB","ParticleLoop");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loop=!0,t.particleSystem=null,t}return i(t,e),t.prototype.onLoad=function(){this.particleSystem=this.getComponent(cc.ParticleSystem)},t.prototype.update=function(){0==this.particleSystem.particleCount&&(this.loop?(cc.log("particleCount = "+this.particleSystem.particleCount),this.particleSystem.resetSystem()):this.particleSystem.stopSystem())},a([s(cc.Boolean)],t.prototype,"loop",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PasswordBasedCipher:[function(e,t,o){"use strict";cc._RF.push(t,"30e13vNU69GXpn4b/xGwwct","PasswordBasedCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.PasswordBasedCipher=void 0;var n=e("./SerializableCipher"),i=e("./WordArray"),a=e("../format/OpenSSL"),r=e("../kdf/OpenSSLKdf"),c=function(){function e(){}return e.encrypt=function(e,t,o,i){var a=Object.assign({},this.cfg,i);if(void 0===a.kdf)throw new Error("missing kdf in config");var r=a.kdf.execute(o,e.keySize,e.ivSize);return void 0!==r.iv&&(a.iv=r.iv),n.SerializableCipher.encrypt.call(this,e,t,r.key,a).extend(r)},e.decrypt=function(e,t,o,i){var a=Object.assign({},this.cfg,i);if(void 0===a.format)throw new Error("missing format in config");if(t=this._parse(t,a.format),void 0===a.kdf)throw new Error("the key derivation function must be set");var r=a.kdf.execute(o,e.keySize,e.ivSize,t.salt);return void 0!==r.iv&&(a.iv=r.iv),n.SerializableCipher.decrypt.call(this,e,t,r.key,a)},e._parse=function(e,t){return"string"==typeof e?t.parse(e):e},e.cfg={blockSize:4,iv:new i.WordArray([]),format:a.OpenSSL,kdf:r.OpenSSLKdf},e}();o.PasswordBasedCipher=c,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","../kdf/OpenSSLKdf":"OpenSSLKdf","./SerializableCipher":"SerializableCipher","./WordArray":"WordArray"}],PetConfig:[function(e,t,o){"use strict";cc._RF.push(t,"884b3yqd1xOWJSRZoduJGND","PetConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PetConfig=o.ItemEggConfig=o.ItemPetConfig=void 0;var n=function(e,t,o){void 0===o&&(o=""),this.maxLevel=5,this.petId=e,this.skins=t,this.pathDir=o};o.ItemPetConfig=n;var i=function(e,t,o,n){this.eggId=e,this.petId=t,this.skins=o,this.value=n};o.ItemEggConfig=i;var a=function(){function e(){}return e.getPetConfigById=function(t){for(var o=0;o<e.arrayPetConfig.length;o++){var n=e.arrayPetConfig[o];if(n.petId==t)return n}return null},e.arrayPetConfig=[new n("pet_1","","HomeIsland/spines/PetPopup/PetCat/Pet_cat"),new n("pet_2","","HomeIsland/spines/PetPopup/PetDog/Pet_dog"),new n("pet_3","","HomeIsland/spines/PetPopup/PetBear/Pet_bear"),new n("pet_4","","HomeIsland/spines/PetPopup/PetFox/Pet_fox"),new n("pet_5","","HomeIsland/spines/PetPopup/PetDinorsaur/Pet_dinorsaur")],e.arrayEggConfig=[new i("egg_1","pet_1","2",20),new i("egg_2","pet_2","5",50),new i("egg_3","pet_3","3",100),new i("egg_4","pet_4","1",150),new i("egg_5","pet_5","4",200)],e}();o.PetConfig=a,cc._RF.pop()},{}],PetDataManager:[function(e,t,o){"use strict";cc._RF.push(t,"fe965FjI+NIcIaXSTcwSvvK","PetDataManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.PetDataManager=o.PetDataT=o.EggData=void 0;var n=e("../base/utils/ArrayUtil"),i=e("../base/utils/MathUtil"),a=e("../config/PetConfig"),r=e("../GameData"),c={Skin1:[1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3],Skin2:[2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3],Skin3:[3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3],Skin4:[5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3],Skin5:[5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3]},s=function(){this.eggId="",this.eggNumber=0};o.EggData=s;var l=function(){this.petId="",this.petLevel=0,this.petExp=0};o.PetDataT=l;var u=function(){function e(){}return e.ConvertDataPet=function(e){if(""==e)return null;var t=new l,o=e;"string"==typeof e&&(o=JSON.parse(e));var i=n.default.getValue(o,this.KEY_PET_ID,"");return""==i?null:(t.petId=i,t.petExp=n.default.getValue(o,this.KEY_PET_EXP,0),t.petLevel=n.default.getValue(o,this.KEY_PET_LEVEL,0),t)},e.ConvertDataEgg=function(e){if(""==e)return null;var t=new s,o=e;"string"==typeof e&&(o=JSON.parse(e));var i=n.default.getValue(o,this.KEY_EGG_ID,"");return""==i?null:(t.eggId=i,t.eggNumber=n.default.getValue(o,this.KEY_EGG_NUMBER,0),t)},e.ConvertToArrDataPet=function(e){if(""==e)return[];var t=[],o=JSON.parse(e);if(!(o instanceof Array))return[];for(var n=0;n<o.length;n++){var i=o[n],a=this.ConvertDataPet(i);t.push(a)}return t},e.ConvertToArrDataEgg=function(e){if(""==e)return[];var t=[],o=JSON.parse(e);if(!(o instanceof Array))return[];for(var n=0;n<o.length;n++){var i=o[n],a=this.ConvertDataEgg(i);t.push(a)}return t},e.pickRandomAEgg=function(){for(var e=[],t=0;t<a.PetConfig.arrayEggConfig.length;t++){var o=a.PetConfig.arrayEggConfig[t];r.GameData.checkHavePet(o.eggId)||e.push(o)}return e[i.default.randomInt(e.length)]},e.GetCostUpgrade=function(e,t){var o=c[e];return o?o[t]:5e3},e.getMaxExpLevel=function(e){var t=c[e];return t?t.length:-1},e.createNewPetFromCofig=function(e){var t=new l;return t.petExp=0,t.petId=e.petId,t.petLevel=1,t},e.cloneAPet=function(e){var t=new l;return t.petExp=e.petExp,t.petId=e.petId,t.petLevel=e.petLevel,t},e.KEY_PET_ID="petId",e.KEY_PET_EXP="petExp",e.KEY_PET_LEVEL="petLevel",e.KEY_EGG_ID="eggId",e.KEY_EGG_NUMBER="eggNumber",e}();o.PetDataManager=u,cc._RF.pop()},{"../GameData":"GameData","../base/utils/ArrayUtil":"ArrayUtil","../base/utils/MathUtil":"MathUtil","../config/PetConfig":"PetConfig"}],PetItem:[function(e,t,o){"use strict";cc._RF.push(t,"212baWXvctPUZwXgMQlctb6","PetItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/PetConfig"),c=e("../GameData"),s=e("../ResUtil"),l=e("./PetDataManager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbMatch=null,t.lbCost=null,t.btnMatch=null,t.btnUpdate=null,t.btnSwitch=null,t.skePet=null,t.skeEgg=null,t.proGressPetNode=null,t.proGressPet=null,t.containerEgg=null,t.containerPet=null,t.light=null,t.petData=null,t.ClickCallback=null,t}return i(t,e),t.prototype.initPetItem=function(e,t){this.cfg=e,this.ClickCallback=t,this.petConfig=r.PetConfig.getPetConfigById(this.cfg.petId),this.checkLightPetItem(),c.GameData.checkHavePet(e.petId)?this.onPet():this.onEgg(e)},t.prototype.checkLightPetItem=function(){this.light.active=!1,c.GameData.CurrentPet&&this.petConfig&&c.GameData.CurrentPet.petId==this.petConfig.petId&&(this.light.active=!0)},t.prototype.onEgg=function(e){this.containerEgg.active=!0,this.containerPet.active=!1;var t=c.GameData.getNumberEgg(e.eggId);this.lbMatch.string=t+"/"+e.value,this.skeEgg.node.active=!0,this.skeEgg.setSkin(e.skins),t>=e.value?this.btnMatch.interactable=!0:this.btnMatch.interactable=!1},t.prototype.onPet=function(){var e=this;this.containerPet.active=!0,this.containerEgg.active=!1,this.skePet.node.active=!0,this.petData=c.GameData.getMyPetWithId(this.cfg.petId);var t="Skin"+this.petData.petLevel,o=l.PetDataManager.GetCostUpgrade(t,this.petData.petExp),n=l.PetDataManager.getMaxExpLevel(t);this.updateStateBtn(),this.proGressPet.fillRange=this.petData.petExp/n,this.lbCost.string=o+"",this.GrayStateItem(o),s.ResUtil.getSpineAnimPet(this.petConfig,function(o,n){e.skePet.skeletonData=n,e.skePet.setSkin(t),e.skePet.setAnimation(0,"Idle",!0)})},t.prototype.GrayStateItem=function(e){c.GameData.playerCoin<e?(this.btnUpdate.interactable=!1,this.btnUpdate.node.children[0].children[1].children[0].active=!0):(this.btnUpdate.interactable=!0,this.btnUpdate.node.children[0].children[1].children[0].active=!1)},t.prototype.onClickMath=function(){var e=this;this.skeEgg.setAnimation(0,"Break",!1);var t=l.PetDataManager.createNewPetFromCofig(this.petConfig);c.GameData.addPet(t,function(){}),this.scheduleOnce(function(){e.onPet()},1)},t.prototype.onClickUpdate=function(){var e=this,t="Skin"+this.petData.petLevel,o=l.PetDataManager.GetCostUpgrade(t,this.petData.petExp);c.GameData.playerCoin<o||c.GameData.addExpPet(this.petConfig.petId,function(){},function(t,o){if(t){e.petData=t;var n="Skin"+e.petData.petLevel,i=l.PetDataManager.GetCostUpgrade(n,e.petData.petExp),a=l.PetDataManager.getMaxExpLevel(n);e.proGressPet.fillRange=e.petData.petExp/a,e.lbCost.string=i+"",e.GrayStateItem(i),o&&(e.skePet.setSkin(n),e.skePet.setAnimation(0,"Idle",!0)),5==e.petData.petLevel&&e.updateStateBtn()}},-o)},t.prototype.onClickSwitch=function(){this.ClickCallback(this.petConfig)},t.prototype.updateStateBtn=function(){5==this.petData.petLevel?(this.btnUpdate.node.active=!1,this.proGressPetNode.active=!1):(this.btnUpdate.node.active=!0,this.proGressPetNode.active=!0)},a([d(cc.Label)],t.prototype,"lbMatch",void 0),a([d(cc.Label)],t.prototype,"lbCost",void 0),a([d(cc.Button)],t.prototype,"btnMatch",void 0),a([d(cc.Button)],t.prototype,"btnUpdate",void 0),a([d(cc.Button)],t.prototype,"btnSwitch",void 0),a([d(sp.Skeleton)],t.prototype,"skePet",void 0),a([d(sp.Skeleton)],t.prototype,"skeEgg",void 0),a([d(cc.Node)],t.prototype,"proGressPetNode",void 0),a([d(cc.Sprite)],t.prototype,"proGressPet",void 0),a([d(cc.Node)],t.prototype,"containerEgg",void 0),a([d(cc.Node)],t.prototype,"containerPet",void 0),a([d(cc.Node)],t.prototype,"light",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/PetConfig":"PetConfig","./PetDataManager":"PetDataManager"}],PetManager:[function(e,t,o){"use strict";cc._RF.push(t,"df720duXgZIV6b1o6tY1Gs4","PetManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},a([s(cc.Label)],t.prototype,"label",void 0),a([s],t.prototype,"text",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PetPanalSwitch:[function(e,t,o){"use strict";cc._RF.push(t,"08c93GhjI1J2rBJkief26t0","PetPanalSwitch");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=e("./ItemPetSwitch"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=null,t.itemPetSwitch=null,t}return i(t,e),t.prototype.Show=function(e){this.node.active=!0,this.IntPetPanlSwitch(e)},t.prototype.Hide=function(){this.node.active=!1},t.prototype.onClickClose=function(){this.Hide()},t.prototype.IntPetPanlSwitch=function(e){for(var t=this,o=r.GameData.getMyPetWithId(e.petId),n=0;n<e.maxLevel;n++){var i=this.container.children[n];i||(i=cc.instantiate(this.itemPetSwitch),this.container.addChild(i));var a=i.getComponent(c.default),s=this.getStateItem(n,o),l=this.isSelectedPet(e.petId,n+1);a.initItemPetSwitch({isHave:s,isSelected:l,level:n+1,petCfg:e},function(e){t.selectSkinPetByCfg(e)})}},t.prototype.selectSkinPetByCfg=function(e){for(var t=0;t<this.container.children.length;t++){var o=this.container.children[t].getComponent(c.default);o.cfg.level!=e.level&&o.setActiveLight(!1)}},t.prototype.getStateItem=function(e,t){return e<t.petLevel},t.prototype.isSelectedPet=function(e,t){return!!r.GameData.CurrentPet&&r.GameData.CurrentPet.petId==e&&t==r.GameData.CurrentPet.petLevel},a([u(cc.Node)],t.prototype,"container",void 0),a([u(cc.Node)],t.prototype,"itemPetSwitch",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../GameData":"GameData","./ItemPetSwitch":"ItemPetSwitch"}],PetPopup:[function(e,t,o){"use strict";cc._RF.push(t,"0c8b7hnTBlDi7HxPg8cEUVi","PetPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/AudioPlayId"),c=e("../config/GlobalSignals"),s=e("../config/PetConfig"),l=e("../MainScene"),u=e("./PetItem"),p=e("./PetPanalSwitch"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arrayPetItem=[],t.rowPrefab=null,t.container=null,t.petPrefab=null,t.petPanelSwitch=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onEnable=function(){this.initData(),c.GlobalSignals.changeSkinPetSignal.add(this.updateSkinPet.bind(this))},t.prototype.onDisable=function(){c.GlobalSignals.changeSkinPetSignal.remove(this.updateSkinPet.bind(this))},t.prototype.Show=function(){this.node.active=!0},t.prototype.updateSkinPet=function(){for(var e=0;e<this.arrayPetItem.length;e++)this.arrayPetItem[e].checkLightPetItem()},t.prototype.Hide=function(){this.node.active=!1},t.prototype.initData=function(){for(var e,t=this,o=(e=s.PetConfig.arrayEggConfig).length,n=Math.ceil(o/3),i=0,a=0;a<n;a++){var r=this.container.children[a];r||(r=cc.instantiate(this.rowPrefab),this.container.addChild(r)),r.active=!0;for(var c=0;c<3&&!(i>=o);c++){var l=e[i],p=r.children[c];p||(p=cc.instantiate(this.petPrefab),r.addChild(p)),p.position=r.children[c].position;var d=p.getComponent(u.default);d.initPetItem(l,function(e){t.petPanelSwitch.Show(e)}),this.arrayPetItem.push(d),i++}}},t.prototype.onClickClose=function(){l.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.Hide()},a([h(cc.Prefab)],t.prototype,"rowPrefab",void 0),a([h(cc.Node)],t.prototype,"container",void 0),a([h(cc.Prefab)],t.prototype,"petPrefab",void 0),a([h(p.default)],t.prototype,"petPanelSwitch",void 0),a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","../config/PetConfig":"PetConfig","./PetItem":"PetItem","./PetPanalSwitch":"PetPanalSwitch"}],PetWalkFollowDance:[function(e,t,o){"use strict";cc._RF.push(t,"b73f6uX1/ZKXbVUAQrI/wJw","PetWalkFollowDance");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.direction=1,t.speed=3,t.target=null,t.basePos=null,t}return i(t,e),t.prototype.start=function(){this.basePos=this.node.position.clone()},t.prototype.onEnable=function(){this.basePos&&(this.node.position=this.basePos.clone(),this.node.scaleX=Math.abs(this.node.scaleX),this.direction=1)},t.prototype.update=function(){this.node.x+=this.speed*this.direction,this.node.x>305&&(this.direction=-1,this.node.scaleX*=-1,this.speed=2.62),this.node.x<-305&&(this.direction=1,this.node.scaleX*=-1,this.speed=2.62)},a([s(cc.Node)],t.prototype,"target",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PetWalkIdleAnim:[function(e,t,o){"use strict";cc._RF.push(t,"b8108TGRqpESZe73f0JNLqq","PetWalkIdleAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./Pet"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.petPrefab=null,t.pointTo=[],t.PetCpm=null,t.newPos=[],t}return i(t,e),t.prototype.onLoad=function(){this.petPrefab.active=!0,this.PetCpm=this.petPrefab.getComponent(r.default)},t.prototype.onEnable=function(){var e=this,t=0;this.pointTo.forEach(function(t){e.newPos.push(t.position)}),this.schedule(function(){t==e.newPos.length&&(t=0),e.runAnim(t),t++},5)},t.prototype.runAnim=function(e){var t=this,o=this;(function(){}).bind(this),cc.Tween.stopAllByTarget(this.petPrefab),cc.tween(this.petPrefab).call(function(){o.PetCpm.playAnimation("Walk",!0),t.checkRotate(o.newPos[e].x)}).to(3,{position:o.newPos[e]}).call(function(){o.setNewPosPet(t.newPos[e]),o.PetCpm.playAnimation("Idle",!0)}).delay(1).start()},t.prototype.setNewPosPet=function(e){this.petPrefab.position=e},t.prototype.checkRotate=function(e){this.petPrefab.position.x>e?this.petPrefab.scaleX=-1:this.petPrefab.scaleX=1},a([l(cc.Node)],t.prototype,"petPrefab",void 0),a([l([cc.Node])],t.prototype,"pointTo",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./Pet":"Pet"}],Pet:[function(e,t,o){"use strict";cc._RF.push(t,"6d5e298gqtHGZJ/o8o+gBVY","Pet");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/GlobalSignals"),c=e("../config/PetConfig"),s=e("../GameData"),l=e("../ResUtil"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultAnim="Idle",t.idleAnim="Idle",t.idleAnim2="Idle2",t.runAnim="Run",t.walkAnim="Walk",t.walkAnim2="Walk2",t.loseAnim="Lose",t.winAnim="Win",t.skeleton=null,t.currentSkin="",t}return i(t,e),t.prototype.onLoad=function(){this.updateSkinPet()},t.prototype.onEnable=function(){this._onQuestPass=this.onQuestPass.bind(this),this._onQuestFail=this.onQuestFail.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onBossAttack=this.onBossAttack.bind(this),this._bossWalkToTarget=this.onBossWalkToTargetSignal.bind(this),this._updateSkinPet=this.updateSkinPet.bind(this),r.GlobalSignals.questPassSignal.add(this._onQuestPass),r.GlobalSignals.questFailSignal.add(this._onQuestFail),r.GlobalSignals.autoMoveSignal.add(this._onAutoMove),r.GlobalSignals.bossAttackSignal.add(this._onBossAttack),r.GlobalSignals.bossWalkToTargetSignal.add(this._bossWalkToTarget),r.GlobalSignals.changeSkinPetSignal.add(this._updateSkinPet)},t.prototype.onDisable=function(){r.GlobalSignals.questPassSignal.remove(this._onQuestPass),r.GlobalSignals.questFailSignal.remove(this._onQuestFail),r.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),r.GlobalSignals.bossAttackSignal.remove(this._onBossAttack),r.GlobalSignals.bossWalkToTargetSignal.remove(this._bossWalkToTarget),r.GlobalSignals.changeSkinPetSignal.remove(this._updateSkinPet)},t.prototype.onQuestPass=function(){this.playAnimation(this.winAnim,!0)},t.prototype.onQuestFail=function(){this.playAnimation(this.loseAnim,!0)},t.prototype.onAutoMove=function(){this.playAnimation(this.runAnim,!0)},t.prototype.onBossAttack=function(){this.playAnimation(this.idleAnim,!0)},t.prototype.onBossWalkToTargetSignal=function(){this.playAnimation(this.walkAnim,!0)},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this},t.prototype.addAnimation=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,e,t,o),this},t.prototype.loadSkeletonData=function(e){var t=this,o=c.PetConfig.getPetConfigById(s.GameData.CurrentPet.petId);l.ResUtil.getSpineAnimPet(o,function(o,n){t.skeleton.skeletonData=n,t.playAnimation(t.defaultAnim,!0),e()})},t.prototype.updateSkinPet=function(){var e=this;if(s.GameData.CurrentPet){var t="Skin"+s.GameData.CurrentPet.petLevel;this.loadSkeletonData(function(){e.changeSkin(t)})}},t.prototype.changeSkin=function(e){this.currentSkin=e,this.skeleton.setSkin(e),this.skeleton.setSlotsToSetupPose()},a([d(cc.String)],t.prototype,"defaultAnim",void 0),a([d(cc.String)],t.prototype,"idleAnim",void 0),a([d(cc.String)],t.prototype,"idleAnim2",void 0),a([d(cc.String)],t.prototype,"runAnim",void 0),a([d(cc.String)],t.prototype,"walkAnim",void 0),a([d(cc.String)],t.prototype,"walkAnim2",void 0),a([d(cc.String)],t.prototype,"loseAnim",void 0),a([d(cc.String)],t.prototype,"winAnim",void 0),a([d(sp.Skeleton)],t.prototype,"skeleton",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals","../config/PetConfig":"PetConfig"}],PhysicalEnable:[function(e,t,o){"use strict";cc._RF.push(t,"94d19YTaWdLz4svqLG607zG","PhysicalEnable");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gravityScale=1,t.isDebugPhysics=!1,t.isDebugCollider=!1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){this.physicsManager=cc.director.getPhysicsManager(),this.collisionManager=cc.director.getCollisionManager()},t.prototype.onEnable=function(){this.setPhysicsEnabled(!0)},t.prototype.onDisable=function(){this.setPhysicsEnabled(!1)},t.prototype.update=function(e){var t=60*e*this.gravityScale;o.REAL_GRAVITY_SCALE=t,this.physicsManager.gravity=cc.v2(0,-620*t)},t.prototype.setPhysicsEnabled=function(e){this.physicsManager.enabled=e,this.collisionManager.enabled=e,this.isDebugCollider&&(this.collisionManager.enabledDebugDraw=!0),this.isDebugPhysics&&(this.physicsManager.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},t.REAL_GRAVITY_SCALE=1,a([s(cc.Float)],t.prototype,"gravityScale",void 0),a([s(cc.Boolean)],t.prototype,"isDebugPhysics",void 0),a([s(cc.Boolean)],t.prototype,"isDebugCollider",void 0),o=a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PhysicsConfig:[function(e,t,o){"use strict";cc._RF.push(t,"d7792BPXjZAyLPo/ZQk9Zwp","PhysicsConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PhysicsConfig=void 0;var n=function(){function e(){}return e.initPhysicConfig=function(t,o){var n=t.getComponent(cc.PhysicsCollider),i=t.getComponent(cc.RigidBody);if(n&&i){var a=e.physicsObjects[o];a&&(i.gravityScale=a.gravity_scale,n.density=a.density)}else cc.warn("can not init physics config: "+o)},e.physicsObjects={character:{gravity_scale:3,density:10},gems:{gravity_scale:4,density:1},lava:{gravity_scale:4,density:1},water:{gravity_scale:4,density:1},dirty:{gravity_scale:4,density:1},snow:{gravity_scale:4,density:1},rock:{gravity_scale:5,density:50},big_stone:{gravity_scale:5,density:50},chest:{gravity_scale:5,density:50},item:{gravity_scale:4,density:50},bomb:{gravity_scale:5,density:20},coal:{gravity_scale:4,density:40}},e}();o.PhysicsConfig=n,cc._RF.pop()},{}],PlayScreen:[function(e,t,o){"use strict";cc._RF.push(t,"a0e02WPlzNK3ZJLXO8+C7qU","PlayScreen");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./config/QuestType"),c=e("./level/MapLevel"),s=e("./config/GlobalSignals"),l=e("./GameData"),u=e("./MainScene"),p=e("./config/AudioPlayId"),d=e("./ResUtil"),f=e("./level/WinPanel"),h=e("./objects/character/Mom/Mom"),y=e("./HomeScreen"),g=e("./ui/ToastReward"),_=e("./base/SetLabelLanguage"),v=e("./base/audio/AudioManager"),m=e("./config/GameState"),b=e("./base/GameDistribution"),C=cc._decorator,S=C.ccclass,P=C.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelQuest=null,t.levelRoot=null,t.homeBtn=null,t.winPanel=null,t.toastReward=null,t.ui=null,t.lblevel=null,t.levelPlay=-1,t.countPlayWin=0,t.isContinue=!1,t.backgroundMusic=null,t.checkDoneGetCoin=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,this.isContinue=!1,this.toastReward.node.active=!1},t.prototype.onEnable=function(){cc.log("Enable PlayScreen"),l.GameData.currentCoin=l.GameData.playerCoin,!this.backgroundMusic&&l.GameData.showIntro&&l.GameData.currentLevelId>=5?this.backgroundMusic=u.default.instance.audioPlayer.playAudio(p.AudioPlayId.game_play_music2,!0):this.backgroundMusic=u.default.instance.audioPlayer.playAudio(p.AudioPlayId.game_play_music,!0),this.isContinue?cc.log("PlayScreen isContinue"):(this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),this._daughterGiveEgg=this.onGirlGiveEgg.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal),s.GlobalSignals.daughterGiveEggSignal.add(this._daughterGiveEgg),l.GameData.showIntroLevel4||5!=l.GameData.currentLevelId||(u.default.instance.showIntroLevel4(!0),this.stopBackgroundMusic()),0===this.levelRoot.childrenCount&&this.loadCurrentLevel(),this.homeBtn.active=!0,l.GameData.currentLevelId<5&&(this.homeBtn.active=!1),!this.backgroundMusic&&l.GameData.showIntro&&(this.backgroundMusic=u.default.instance.audioPlayer.playAudio(p.AudioPlayId.game_play_music,!0)))},t.prototype.start=function(){cc.log("Start PlayScreen"),window.firstTime&&(window.firstTime=!1)},t.prototype.onDisable=function(){this.backgroundMusic&&(u.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null),u.default.instance.audioPlayer.stopAllEffect(),this.isContinue||(s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal),s.GlobalSignals.daughterGiveEggSignal.remove(this._daughterGiveEgg),this.levelRoot.childrenCount>0&&this.levelRoot.removeAllChildren(),this.unscheduleAllCallbacks())},t.prototype.onBackgroundMusic=function(){!this.backgroundMusic&&l.GameData.showIntro&&(this.backgroundMusic=u.default.instance.audioPlayer.playAudio(p.AudioPlayId.game_play_music,!0))},t.prototype.stopBackgroundMusic=function(){this.backgroundMusic&&(u.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null),u.default.instance.audioPlayer.stopAllEffect()},t.prototype.onQuestFail=function(){var e=this,t=h.default.instance.isGround?0:.6;this.scheduleOnce(function(){e.winPanel.showLose(),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.lose_level)},.8+t)},t.prototype.onQuestPass=function(){var e=this;if(c.default.instance.isQuestCollectItem)this.scheduleOnce(function(){e.isContinue=!0,e.countPlayWin++,l.GameData.saveLevelUp(),l.GameData.saveLevelNormal();var t=c.default.instance.itemLoot.itemConfig;u.default.instance.showHomeScreen(function(o){o.getComponent(y.default).initOpenItem(t,function(){u.default.instance.showGamePlayScreen(function(){e.isContinue=!1,e.winPanel.showWin()})})})},.8);else{if(c.default.instance.isCollectCard)return this.countPlayWin++,this.winPanel.showWin(),l.GameData.saveLevelUp(),void l.GameData.saveLevelNormal();if(c.default.instance.isCollectPuzzle)return this.isContinue=!0,void l.GameData.saveLevelUp();if(!c.default.instance.isIntro||l.GameData.doneRoom0){this.isContinue=!1;var t=h.default.instance.isGround?0:.6;this.scheduleOnce(function(){e.countPlayWin++,e.winPanel.showWin(),l.GameData.saveLevelUp(),l.GameData.saveLevelNormal(),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.win_level)},.8+t)}else this.scheduleOnce(function(){e.countPlayWin++,l.GameData.saveLevelUp(),l.GameData.saveLevelNormal(),o.instance.gotoHomeScreen()},.8)}},t.prototype.onGirlGiveEgg=function(e){l.GameData.addEggNumber(e,function(){})},t.prototype.loadCurrentLevel=function(e){void 0===e&&(e=!0),this.unscheduleAllCallbacks(),u.default.instance.audioPlayer.stopAllEffect(),this.loadLevel(l.GameData.currentLevelNormal,!1,e),d.ResUtil.releaseLevelById(l.GameData.currentLevelNormal-1),d.ResUtil.loadLevelById(l.GameData.currentLevelNormal+1),l.GameData.currentLevelId+1==4&&d.ResUtil.loadPrefab("prefabs/HomeIsland/Intro/IntroLevel5",null,null),this.lblevel.string=_.ChangeLanguage.getText("level")+(l.GameData.currentLevelId+1)},t.prototype.loadLevel=function(e,t,o){var n=this;this.levelRoot.childrenCount>0&&o&&u.default.instance.screenManager.showFlash(1),u.default.instance.screenManager.flash.position=cc.Vec3.ZERO,this.clearLevelRoot(),this.winPanel.hide(),u.default.instance.testPrefab?this.addLevelToRoot(u.default.instance.testPrefab):d.ResUtil.loadLevelById(e,function(e){n.addLevelToRoot(e)})},t.prototype.addLevelToRoot=function(e){var t=cc.instantiate(e);this.levelRoot.addChild(t),this.levelPlay=parseInt(e.name.match(/\d+/)[0]);var o=t.getComponent(c.default);this.updateLevelInfo(l.GameData.currentLevelId,o.questType)},t.prototype.clearLevelRoot=function(){if(this.levelRoot.childrenCount>0)try{this.levelRoot.removeAllChildren()}catch(e){cc.warn(e)}},t.prototype.gotoHomeScreen=function(){u.default.instance.showHomeScreen(function(e){e.getComponent(y.default).activeHomeUI(),c.default.instance&&(c.default.instance.gameState==m.GameState.LOSE||(c.default.instance.gameState,m.GameState.WIN))})},t.prototype.replayGame=function(){this.loadCurrentLevel(!1)},t.prototype.nextLevel=function(e,t){var o=this;void 0===t&&(t=!1),l.GameData.showIntroLevel4||5!=l.GameData.currentLevelId?(this.checkDoneGetCoin||(this.winPanel.loadCoinFly(),this.scheduleOnce(function(){s.GlobalSignals.coinCurrentUpdateSignal.dispatch()},.8),this.checkDoneGetCoin=!0),this.scheduleOnce(function(){var e=l.GameData.threeLevels;o.loadCurrentLevel(!1),e?e<3?(e++,l.GameData.set3Levels(e)):t||(l.GameData.set3Levels(1),b.default.instance.effectSoundState=v.default.EffectEnable,b.default.instance.musicSoundState=v.default.MusicEnable,b.default.instance.rewardType="",b.default.instance.GDShowAd()):l.GameData.set3Levels(2)},1.6)):(this.winPanel.hide(),u.default.instance.showIntroLevel4(),this.stopBackgroundMusic()),this.homeBtn.active=!0,l.GameData.currentLevelId<5&&(this.homeBtn.active=!1),b.default.instance.preloadInterstitialAd(),b.default.instance.preloadRewardAd()},t.prototype.updateLevelInfo=function(e,t){var o=r.QuestUtil.getQuestName(t),n=e+1,i=n<10?"0"+n:""+n;this.labelQuest.string="<color=#FFBC01>"+_.ChangeLanguage.getText("level")+i+"</color> "+o},t.prototype.showToastReward=function(e,t,o){var n=this;void 0===o&&(o=0),this.scheduleOnce(function(){n.toastReward.show(e,t)},o)},t.prototype.showWinPopup=function(){this.isContinue=!1,this.winPanel.showWin()},t._instance=null,a([P(cc.RichText)],t.prototype,"labelQuest",void 0),a([P(cc.Node)],t.prototype,"levelRoot",void 0),a([P(cc.Node)],t.prototype,"homeBtn",void 0),a([P(f.default)],t.prototype,"winPanel",void 0),a([P(g.default)],t.prototype,"toastReward",void 0),a([P(cc.Node)],t.prototype,"ui",void 0),a([P(cc.Label)],t.prototype,"lblevel",void 0),o=a([S],t)}(cc.Component);o.default=k,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./MainScene":"MainScene","./ResUtil":"ResUtil","./base/GameDistribution":"GameDistribution","./base/SetLabelLanguage":"SetLabelLanguage","./base/audio/AudioManager":"AudioManager","./config/AudioPlayId":"AudioPlayId","./config/GameState":"GameState","./config/GlobalSignals":"GlobalSignals","./config/QuestType":"QuestType","./level/MapLevel":"MapLevel","./level/WinPanel":"WinPanel","./objects/character/Mom/Mom":"Mom","./ui/ToastReward":"ToastReward"}],PlayerCoinUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"5d36ebViqhIBLi21qfwydPG","PlayerCoinUpdater");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/GameConfig"),c=e("../config/GlobalSignals"),s=e("../GameData"),l=e("../room/Building/IslandConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinLabel=null,t.coinCurrentLabel=null,t.coinPerSec=null,t.isPanelPopup=!1,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onEnable=function(){var e=this;this._onUpdateCoin=this.onUpdateCoin.bind(this),this._onUpdateCoinCurrent=this.onUpdateCoinCurrent.bind(this),this._onUpdateCoinPerSec=this.onUpdateCoinPerSec.bind(this),c.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin),c.GlobalSignals.coinCurrentUpdateSignal.add(this._onUpdateCoinCurrent),c.GlobalSignals.updateCoinPerSecSignal.add(this._onUpdateCoinPerSec),this.onUpdateCoin(),this.scheduleOnce(function(){e.onUpdateCoinPerSec()},.1),this.setLbCoinCurrent(s.GameData.currentCoin)},t.prototype.onDisable=function(){c.GlobalSignals.coinUpdateSignal.remove(this._onUpdateCoin),c.GlobalSignals.coinCurrentUpdateSignal.remove(this._onUpdateCoinCurrent)},t.prototype.onUpdateCoin=function(){var e=0;this.isPanelPopup&&(e=r.GameConfig.coin_level_up),this.coinLabel&&(this.coinLabel.string=Math.floor(s.GameData.playerCoin-e)+"")},t.prototype.setLbCoinCurrent=function(e){this.coinCurrentLabel&&(this.coinCurrentLabel.string=e+"")},t.prototype.onUpdateCoinCurrent=function(){this.coinCurrentLabel&&this.animCountCoin(Math.floor(s.GameData.playerCoin-r.GameConfig.coin_level_up),Math.floor(s.GameData.playerCoin),.5,this.coinCurrentLabel)},t.prototype.animCountCoin=function(e,t,o,n){if(o<=0)return s.GameData.currentCoin=s.GameData.playerCoin,void(this.coinCurrentLabel.string=s.GameData.currentCoin+"");var i=Math.abs(t-e),a=t>e?10:-10,r=o/(i/10),c=this,l=function(){(e+=a)===t&&(c.unschedule(l),s.GameData.currentCoin=s.GameData.playerCoin),n.string=e.toString()};this.schedule(l,r)},t.prototype.onUpdateCoinPerSec=function(){this.coinPerSec.string=l.IslandConfig.perSecBonus().toFixed(1).toString()},a([d(cc.Label)],t.prototype,"coinLabel",void 0),a([d(cc.Label)],t.prototype,"coinCurrentLabel",void 0),a([d(cc.Label)],t.prototype,"coinPerSec",void 0),a([d(cc.Boolean)],t.prototype,"isPanelPopup",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../config/GameConfig":"GameConfig","../config/GlobalSignals":"GlobalSignals","../room/Building/IslandConfig":"IslandConfig"}],PopupDaily:[function(e,t,o){"use strict";cc._RF.push(t,"f3bac20r4dHqpcPTVdAtd8H","PopupDaily");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=e("../MainScene"),s=e("../base/GameDistribution"),l=e("../base/audio/AudioManager"),u=e("../config/AudioPlayId"),p=e("../config/DailyConfig"),d=e("../config/GlobalSignals"),f=e("./DailyButton"),h=cc._decorator,y=h.ccclass,g=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dailyButton=[],t.x5_Btn=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){var e=this;this._receiveX5Bonus=this.callbackRewardX5.bind(this),d.GlobalSignals.receiveX5Daily.add(this._receiveX5Bonus),o._instance=this;var t="WeekPrize"+this.getCurrentWeekReward();p.DailyConfig[t].forEach(function(t,o){e.dailyButton[o].init(t,7*e.getCurrentWeekReward()+o+1)})},t.prototype.onEnable=function(){r.GameData.isReceivedDaily&&(this.x5_Btn.active=!1)},t.prototype.getCurrentWeekReward=function(){return Math.trunc(r.GameData.receivedDaily/7)},t.prototype.close=function(){c.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_click,!1,.6),this.node.active=!1},t.prototype.receiveX5Btn=function(){s.default.instance.effectSoundState=l.default.EffectEnable,s.default.instance.musicSoundState=l.default.MusicEnable,s.default.instance.rewardType="watchBonusX5",s.default.instance.GDShowRewardedAd()},t.prototype.callbackRewardX5=function(){this.x5_Btn.active=!1},t._instance=null,a([g([f.default])],t.prototype,"dailyButton",void 0),a([g(cc.Node)],t.prototype,"x5_Btn",void 0),o=a([y],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/GameDistribution":"GameDistribution","../base/audio/AudioManager":"AudioManager","../config/AudioPlayId":"AudioPlayId","../config/DailyConfig":"DailyConfig","../config/GlobalSignals":"GlobalSignals","./DailyButton":"DailyButton"}],PopupDisplay:[function(e,t,o){"use strict";cc._RF.push(t,"c2275xqQlJDeJ0UQZf4qoVl","PopupDisplay");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/AudioPlayId"),c=e("../MainScene"),s=e("./utils/GUIUtil"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maxScale=1,t.targetAction=null,t.enabledAnim=!1,t.time_show=.2,t.time_hide=.2,t.init_fog=!0,t.opacity_fog=150,t.touchFogToHide=!1,t.btn_close=null,t.exitCallback=null,t.fog=null,t.graphics=null,t.fadeInCallback=null,t}return i(t,e),t.prototype.onLoad=function(){if(this.targetAction||(this.targetAction=this.node),null!==this.btn_close&&s.default.addClickListener(this.btn_close,this.node,"PopupDisplay","onClickExit"),this.init_fog){this.fog=new cc.Node,this.fog.width=cc.visibleRect.width,this.fog.height=cc.visibleRect.height,this.node.addChild(this.fog,-1),this.fog.addComponent(cc.BlockInputEvents);var e=this.fog.addComponent(cc.Graphics);e.lineWidth=0,e.fillColor=new cc.Color(39,66,110,this.opacity_fog);var t=cc.visibleRect.width,o=cc.visibleRect.height;if(e.fillRect(-t,-o,2*t,2*o),this.graphics=e,this.touchFogToHide){var n=this.fog.addComponent(cc.Button);s.default.addClickListener(n,this.node,"PopupDisplay","onClickExit")}}},t.prototype.onClickExit=function(){c.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_click,!1,.6),this.hide(),this.exitCallback&&this.exitCallback()},t.prototype.setExitCallback=function(e){this.exitCallback=e},t.prototype.activePopup=function(){this.node.active=!0},t.prototype.onEnable=function(){this.show()},t.prototype.show=function(){var e=this;this.enabledAnim&&(this.targetAction.stopAllActions(),this.targetAction.opacity=0,this.targetAction.scale=.5,this.targetAction.runAction(cc.sequence(cc.show(),cc.spawn(cc.fadeIn(this.time_show),cc.scaleTo(this.time_show,this.maxScale).easing(cc.easeBackInOut()),cc.sequence(cc.delayTime(.75*this.time_show),cc.callFunc(function(){e.fadeInFog()}))))))},t.prototype.fadeInFog=function(){var e=this;if(this.fog){this.fog.active=!0,this.fadeInCallback&&this.unschedule(this.fadeInCallback);var t=0,o=this.time_show/this.opacity_fog;this.fadeInCallback=function(){t++,e.graphics.fillColor=new cc.Color(39,66,110,t),t===e.opacity_fog&&(e.unschedule(e.fadeInCallback),e.fadeInCallback=null)},this.schedule(function(){e.fadeInCallback&&e.fadeInCallback()},o)}},t.prototype.hide=function(){var e=this;this.enabledAnim?this.node.active&&(this.fog&&(this.fog.active=!1),this.fadeInCallback&&this.unschedule(this.fadeInCallback),this.targetAction.stopAllActions(),this.targetAction.runAction(cc.sequence(cc.spawn(cc.fadeOut(this.time_hide),cc.scaleTo(this.time_hide,.4)),cc.hide(),cc.callFunc(function(){e.node.active=!1})))):this.node.active=!1},a([p(cc.Float)],t.prototype,"maxScale",void 0),a([p(cc.Node)],t.prototype,"targetAction",void 0),a([p(cc.Boolean)],t.prototype,"enabledAnim",void 0),a([p(cc.Float)],t.prototype,"time_show",void 0),a([p(cc.Float)],t.prototype,"time_hide",void 0),a([p(cc.Boolean)],t.prototype,"init_fog",void 0),a([p({type:cc.Integer,visible:function(){return this.init_fog}})],t.prototype,"opacity_fog",void 0),a([p({visible:function(){return this.init_fog}})],t.prototype,"touchFogToHide",void 0),a([p(cc.Node)],t.prototype,"btn_close",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","./utils/GUIUtil":"GUIUtil"}],Portal:[function(e,t,o){"use strict";cc._RF.push(t,"233eaXHg9FHD7ENEEhNexIw","Portal");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../base/ColliderCallback"),c=cc.easeOut,s=e("../../config/GroupConfig"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listPort=[],t.listObj=[],t}return i(t,e),t.prototype.onLoad=function(){var e=this;if(this.node.children.forEach(function(t){var o=t.getComponent(r.default);o&&e.listPort.push(o)}),!(this.listPort.length<2))for(var t=function(t){var n=o.listPort[t].node,i=t===o.listPort.length-1?0:t+1,a=o.listPort[i].node;o.listPort[t].setColliderCallback(function(t){t.node.group===s.GroupConfig.ROCK&&e.moveTo(t.node,n,a)})},o=this,n=0;n<this.listPort.length;n++)t(n)},t.prototype.moveTo=function(e,t,o,n){var i=this;if(void 0===n&&(n=null),-1==this.listObj.indexOf(e)){this.listObj.push(e);var a=e.scaleX,r=e.scaleY,s=e.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),l=e.getParent().convertToNodeSpaceAR(o.getParent().convertToWorldSpaceAR(o.position));cc.Tween.stopAllByTarget(e),cc.tween(e).to(.35,{position:s,scaleX:0,scaleY:0},c(2)).call(function(){e.position=l}).to(.2,{scaleX:a,scaleY:r},c(2)).call(function(){var t=i.listObj.indexOf(e);-1!=t&&i.listObj.splice(t,1),n&&n()}).start()}},a([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig"}],Pow:[function(e,t,o){"use strict";cc._RF.push(t,"53387FdSspGrq9VLz4zp4qg","Pow");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../character/ColliderSearch"),c=e("../../level/MapLevel"),s=e("../../config/GroupConfig"),l=e("../../MainScene"),u=e("../../config/AudioPlayId"),p=e("../../base/ColliderCallback"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.hit=null,t.attackAnim="Animation",t.searchCollider=null,t}return i(t,e),t.prototype.onLoad=function(){this.hit.addComponent(p.default).setColliderCallback(this.onHitColliderCallback.bind(this)),this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this)),this.searchCollider.node.active=!0},t.prototype.onHitColliderCallback=function(e){var t=this;e.node.group!==s.GroupConfig.CHARACTER&&e.node.group!==s.GroupConfig.BERRIE||(this.hit.opacity=0,this.scheduleOnce(function(){cc.Tween.stopAllByTarget(t.hit),t.hit.active=!1},.2))},t.prototype.onSearchCollider=function(e){this.hit.active&&c.default.instance.isPlaying&&(e.node.group!==s.GroupConfig.CHARACTER||this.playAttack(e))},t.prototype.playAttack=function(e){var t=this;this.skeleton.setAnimation(0,this.attackAnim,!1),l.default.instance.audioPlayer.playAudio(u.AudioPlayId.shoot);var o=this.hit.getParent().convertToNodeSpaceAR(e.node.getParent().convertToWorldSpaceAR(e.node.position));o.y-=800,o.x=this.hit.x,cc.Tween.stopAllByTarget(this.hit),cc.tween(this.hit).to(1.5,{position:o}).call(function(){t.hit.active=!1}).start()},a([h(sp.Skeleton)],t.prototype,"skeleton",void 0),a([h(cc.Node)],t.prototype,"hit",void 0),a([h(cc.String)],t.prototype,"attackAnim",void 0),a([h(r.default)],t.prototype,"searchCollider",void 0),a([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel","../character/ColliderSearch":"ColliderSearch"}],PrefabManager:[function(e,t,o){"use strict";cc._RF.push(t,"85978p0g2ZPOYT/H1Zjl3Yw","PrefabManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.MyPrefabData=void 0;var r=e("./PrefabType"),c=e("./ResUtil"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(){function e(){this.type=r.PrefabType.NONE,this.prefab=null,this.prefabRes=""}return a([u({type:cc.Enum(r.PrefabType)})],e.prototype,"type",void 0),a([u(cc.Prefab)],e.prototype,"prefab",void 0),a([u(cc.String)],e.prototype,"prefabRes",void 0),a([l("MyPrefabData")],e)}();o.MyPrefabData=p;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabsData=[],t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.getPrefabDataByType=function(e){for(var t=0;t<this.prefabsData.length;t++)if(this.prefabsData[t].type===e)return this.prefabsData[t];return null},t.prototype.loadPrefabByType=function(e,t){var o=this.getPrefabDataByType(e);if(o){if(null!=o.prefab)return void t(o.prefab);if(""!=o.prefabRes)return void c.ResUtil.loadPopupByDir(o.prefabRes,t,function(){t(null)})}t(null)},t._instance=null,a([u([p])],t.prototype,"prefabsData",void 0),o=a([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./PrefabType":"PrefabType","./ResUtil":"ResUtil"}],PrefabType:[function(e,t,o){"use strict";cc._RF.push(t,"fffa47OQmNK6LfRIx5Dgzua","PrefabType"),Object.defineProperty(o,"__esModule",{value:!0}),o.PrefabType=void 0,function(e){e[e.NONE=0]="NONE",e[e.SETTING=1]="SETTING",e[e.SELECT_ROOM=2]="SELECT_ROOM",e[e.SELECT_KINGDOM=3]="SELECT_KINGDOM",e[e.BUILD_KINGDOM=4]="BUILD_KINGDOM",e[e.SKIN_POPUP=5]="SKIN_POPUP",e[e.DAILY_POPUP=6]="DAILY_POPUP",e[e.PET_POPUP=7]="PET_POPUP",e[e.CARD_POPUP=8]="CARD_POPUP",e[e.SHOP_POPUP=9]="SHOP_POPUP",e[e.INGAME_CARD_POPUP=10]="INGAME_CARD_POPUP",e[e.ROTATE_POPUP=11]="ROTATE_POPUP"}(o.PrefabType||(o.PrefabType={})),cc._RF.pop()},{}],PuzzlesConfig:[function(e,t,o){"use strict";cc._RF.push(t,"c7f6dCgBXNIfKYIMi8CFNNq","PuzzlesConfig");var n=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.Puzzles=o.PuzzlesConfig=void 0;var i=function(){function e(){}return e.checkDone=function(t){return t.length==e.maxCapacity},e.defaultCapacity=0,e.maxCapacity=4,e.upgradePrice=1e3,e.puzzlesArray=[{puzzles1:"Wallpaper1",puzzles2:"Wallpaper2",puzzles3:"Wallpaper3",puzzles4:"Wallpaper4"},{puzzles1:"Picture1",puzzles2:"Picture2",puzzles3:"Picture3",puzzles4:"Picture4"},{puzzles1:"Carpet1",puzzles2:"Carpet2",puzzles3:"Carpet3",puzzles4:"Carpet4"},{puzzles1:"Dinner table1",puzzles2:"Dinner table2",puzzles3:"Dinner table3",puzzles4:"Dinner table4"},{puzzles1:"Pumpkin1",puzzles2:"Pumpkin2",puzzles3:"Pumpkin3",puzzles4:"Pumpkin4"},{puzzles1:"Heater1",puzzles2:"Heater2",puzzles3:"Heater3",puzzles4:"Heater4"},{puzzles1:"Chair1",puzzles2:"Chair2",puzzles3:"Chair3",puzzles4:"Chair4"},{puzzles1:"Light1",puzzles2:"Light2",puzzles3:"Light3",puzzles4:"Light4"},{puzzles1:"window1",puzzles2:"window2",puzzles3:"window3",puzzles4:"window4"}],e}();o.PuzzlesConfig=i;var a=cc._decorator,r=a.ccclass,c=a.property,s=function(){function e(){this.dir="",this.roomId=1,this.itemId=1,this.part=1}return n([c(cc.Integer)],e.prototype,"roomId",void 0),n([c(cc.Integer)],e.prototype,"itemId",void 0),n([c(cc.Integer)],e.prototype,"part",void 0),n([r("Puzzles")],e)}();o.Puzzles=s,cc._RF.pop()},{}],PuzzlesPopup:[function(e,t,o){"use strict";cc._RF.push(t,"bbd045MCxZAqorofcINo+Wt","PuzzlesPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=e("../HomeScreen"),s=e("../MainScene"),l=e("../PlayScreen"),u=e("../ResUtil"),p=e("../base/SetLabelLanguage"),d=e("../config/PuzzlesConfig"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.puzzles=[],t.namePuzzles=null,t.blockInput=null,t.closeCallback=null,t.playAnimCallback=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.init=function(e,t,o,n){var i=this;void 0===o&&(o=null),this.blockInput.active=!0;var a=r.GameData.currentRoomId+1,f=Object.values(d.PuzzlesConfig.puzzlesArray[t-1])[0],h=f.substring(0,f.length-1);this.namePuzzles.string=p.ChangeLanguage.getText(h.toLowerCase()),e.sort(),e.forEach(function(e){var o="/HomePin2/Puzzle/Decor"+(a-1)+"/"+Object.values(d.PuzzlesConfig.puzzlesArray[t-1])[e];u.ResUtil.loadSprite(o,function(t){var o=new cc.SpriteFrame;o.setTexture(t),i.puzzles[e].spriteFrame=o})}),o?(this.puzzles[n].node.zIndex=1,cc.tween(this.puzzles[n].node).to(.5,{scale:1.3},{easing:"quartIn"}).call(function(){}).to(.5,{scale:1},{easing:"quartOut"}).call(function(){4==e.length?(i.node.active=!1,s.default.instance.showHomeScreen(function(e){var n=e.getComponent(c.default);n.blockInput.active=!0,n.initOpenItem(t-1,function(){s.default.instance.showGamePlayScreen(function(){n.blockInput.active=!1,l.default.instance.isContinue=!1,o()},!0)})},!0)):i.blockInput.active=!1}).start(),this.closeCallback=o):this.blockInput.active=!1},t.prototype.closePopup=function(){l.default.instance.node.active,this.closeCallback&&this.closeCallback(),this.playAnimCallback&&this.playAnimCallback(),this.node.destroy()},t.prototype.setPlayAnimCallBack=function(e){void 0===e&&(e=null),e&&(this.playAnimCallback=e)},t._instance=null,a([y([cc.Sprite])],t.prototype,"puzzles",void 0),a([y(cc.Label)],t.prototype,"namePuzzles",void 0),a([y(cc.Node)],t.prototype,"blockInput",void 0),o=a([h],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../ResUtil":"ResUtil","../base/SetLabelLanguage":"SetLabelLanguage","../config/PuzzlesConfig":"PuzzlesConfig"}],QuestType:[function(e,t,o){"use strict";var n;cc._RF.push(t,"5d3b69LiD5BJIg8NTr//0Wl","QuestType"),Object.defineProperty(o,"__esModule",{value:!0}),o.QuestUtil=o.QuestType=void 0,function(e){e[e.COLLECT_GEMS=0]="COLLECT_GEMS",e[e.COLLECT_ITEM=1]="COLLECT_ITEM",e[e.KILL_ENEMY=2]="KILL_ENEMY",e[e.SAVE_HOSTAGE=3]="SAVE_HOSTAGE",e[e.OPEN_CHEST=4]="OPEN_CHEST",e[e.ALL=5]="ALL",e[e.BUILD=6]="BUILD",e[e.COLLECT_SINGLE_ITEM=7]="COLLECT_SINGLE_ITEM",e[e.COLLECT_WATER=8]="COLLECT_WATER",e[e.COLLECT_FIRE=9]="COLLECT_FIRE",e[e.COLLECT_SKIN=10]="COLLECT_SKIN",e[e.COLLECT_SMOKE=11]="COLLECT_SMOKE",e[e.COLLECT_PUZZLE=12]="COLLECT_PUZZLE",e[e.INTRO=13]="INTRO",e[e.COLLECT_CARD=14]="COLLECT_CARD"}(n=o.QuestType||(o.QuestType={}));var i=function(){function e(){}return e.getQuestName=function(e){switch(e){case n.COLLECT_GEMS:return"COLLECT THE GOLD";case n.COLLECT_ITEM:return"COLLECT THE ITEM";case n.KILL_ENEMY:return"TAKE DOWN ENEMIES";case n.SAVE_HOSTAGE:return"SAVE YOUR WIFE";case n.OPEN_CHEST:return"OPEN MONEY SAFE";case n.BUILD:return"BUILD";case n.COLLECT_WATER:return"COLLECT WATER";case n.COLLECT_SMOKE:return"COLLECT SMOKE";case n.COLLECT_FIRE:return"COLLECT FIRE";case n.COLLECT_SKIN:return"COLLECT SKIN";case n.COLLECT_SKIN:return"COLLECT PUZZLE";case n.INTRO:return"INTRO"}return"DO NOTHING"},e}();o.QuestUtil=i,cc._RF.pop()},{}],RedirectBox:[function(e,t,o){"use strict";cc._RF.push(t,"058d0xuib9Irref/RDYDp4j","RedirectBox");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/TagObject"),c=cc._decorator.requireComponent,s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},a([l,c(cc.BoxCollider)],t)}(r.default));o.default=u,cc._RF.pop()},{"../config/TagObject":"TagObject"}],RenderMask:[function(e,t,o){"use strict";cc._RF.push(t,"a614br+C3hLLpr2mTVO2UTF","RenderMask");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.camera=null,t.sprite=null,t}return i(t,e),t.prototype.onLoad=function(){this.renderTexture=new cc.RenderTexture,this.renderTexture.initWithSize(cc.winSize.width,cc.winSize.height),this.camera.targetTexture=this.renderTexture},t.prototype.start=function(){this.sprite.node.active=!0,this.sprite.spriteFrame=new cc.SpriteFrame(this.renderTexture);var e=cc.winSize;this.sprite.node.height=e.height,this.sprite.node.width=e.width},a([s(cc.Camera)],t.prototype,"camera",void 0),a([s(cc.Sprite)],t.prototype,"sprite",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ReplaceItem:[function(e,t,o){"use strict";cc._RF.push(t,"4ce22WmDM5HTKiCTY9oGBzE","ReplaceItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ReplaceItemType=void 0;var r,c=cc.easeBackOut,s=cc._decorator,l=s.ccclass,u=s.property;(function(e){e[e.NORMAL=0]="NORMAL",e[e.SLIDING_RIGHT=1]="SLIDING_RIGHT",e[e.SLIDING_TOP=2]="SLIDING_TOP"})(r=o.ReplaceItemType||(o.ReplaceItemType={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.replaceType=r.NORMAL,t.replaceBy=null,t.decorName="",t}return i(t,e),t.prototype.replace=function(e){this.replaceType===r.NORMAL&&(this.node.active=!1,this.replaceBy.active=!0,this.replaceBy.scale=1,cc.tween(this.replaceBy).to(.2,{scale:.8}).to(.25,{scale:1},c()).delay(2).call(e).start())},a([u({type:cc.Enum(r)})],t.prototype,"replaceType",void 0),a([u(cc.Node)],t.prototype,"replaceBy",void 0),a([u(cc.String)],t.prototype,"decorName",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResUtil:[function(e,t,o){"use strict";cc._RF.push(t,"9fb44pIzLhBGbM9vI6AHeWX","ResUtil");var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var a=arguments[t],r=0,c=a.length;r<c;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.ResUtil=void 0;var i=e("./config/RoomConfig"),a=e("./config/LevelConfig"),r=e("./base/utils/MathUtil"),c=function(){function e(){}return e.loadPopupByDir=function(e,t,o){var n=this;void 0===t&&(t=null),void 0===o&&(o=null);var i=e.split("/").pop();this.mapPrefab.has(i)?t&&t(this.mapPrefab.get(i)):this.loadPrefab(e,function(e){n.mapPrefab.set(i,e),t&&t(e)},o)},e.loadRoomById=function(e,t,o,n){var a=this;if(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),e<=0||e>i.RoomConfig.rooms.length)return cc.warn("loadRoomById: "+e),void(o&&o());var r=i.RoomConfig.rooms[e-1].name;this.mapPrefab.has(r)?t&&t(this.mapPrefab.get(r)):(cc.resources.load(["prefabs/levels/Level-","prefabs/skin/SkinPopup","prefabs/rooms/popupRoom","prefabs/daily/DailyPopup"],null,function(){}),this.loadRoomByName(r,function(e){a.mapPrefab.set(r,e),t&&t(e)},o,n))},e.loadLevelById=function(e,t,o,n){var i=this;if(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),(e+1)%20==0&&1!=e){var c=r.default.randomMultipleOf20InRange(0,this.cloneArray.length)-1;a.LevelConfig.levels[e]=this.cloneArray[c]}else(e>=a.LevelConfig.levels.length||!a.LevelConfig.levels[e])&&(c=r.default.getRandomNumberExcludeX20(this.cloneArray.length),a.LevelConfig.levels[e]=this.cloneArray[c]);var s=a.LevelConfig.levels[e];this.mapPrefab.has(s)?t&&t(this.mapPrefab.get(s)):this.loadLevelByName(s,function(e){i.mapPrefab.set(s,e),t&&t(e)},o,n)},e.releaseLevelById=function(e){if(!(e<0||e>=a.LevelConfig.levels.length)){var t=a.LevelConfig.levels[e];this.mapPrefab.has(t)&&this.mapPrefab.delete(t)}},e.releaseAllLevel=function(){var e=this;cc.log("releaseAllLevel"),this.mapPrefab.forEach(function(t,o){o.includes("Level-")&&e.mapPrefab.delete(o)})},e.loadLevelByName=function(e,t,o,n){void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/levels/"+e;this.loadPrefab(i,t,o,n)},e.loadLevelPuzzleByName=function(e,t,o,n){void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/LevelPuzzle/"+e;this.loadPrefab(i,t,o,n)},e.loadRoomByName=function(e,t,o,n){void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/rooms/"+e;this.loadPrefab(i,t,o,n)},e.loadScreenByName=function(e,t,o,n){void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/screens/"+e;this.loadPrefab(i,t,o,n)},e.loadPrefab=function(e,t,o,n){cc.resources.load(e,function(e,t){n&&n(e,t)},function(e,n){if(e)return cc.log(e),void(o&&o(e));t&&t(n)})},e.loadSprite=function(e,t,o){void 0===o&&(o=null),cc.resources.load(e,function(e,n){if(e)return cc.log(e),void(o&&o(e));t&&t(n)})},e.convertArr=function(e){var t=[];return e.forEach(function(e,o){t[o]=e?o:null}),t},e.getRandomLeftArr=function(e,t){for(var o=[],n=0;n<t;n++)o[n]=n;return(o=o.filter(function(t){return!e.includes(t)}))[Math.floor(Math.random()*o.length)]},e.loadRes=function(e,t,o){t?cc.loader.loadRes(e,t,function(e,t){if(e)return cc.error(e.message||e),void(o&&o(e,t));o&&o(e,t)}):cc.loader.load(e,function(e,t){if(e)return cc.error(e.message||e),void(o&&o(e,t));o&&o(e,t)})},e.getSpineAnim=function(e,t,o){var n=this;if(this.spineAnim.has(t)){var i=this.spineAnim.get(t);o(null,i)}else this.loadRes(e,sp.SkeletonData,function(e,i){i&&n.spineAnim.set(t,i),o(e,i)})},e.getSpineAnimPet=function(e,t){var o=e.pathDir;this.getSpineAnim(o,e.petId,t)},e.mapPrefab=new Map,e.spineAnim=new Map,e.cloneArray=n(a.LevelConfig.levels),e}();o.ResUtil=c,cc._RF.pop()},{"./base/utils/MathUtil":"MathUtil","./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig"}],RockGO:[function(e,t,o){"use strict";cc._RF.push(t,"05a511vQ/dK6brRHisPIMnD","RockGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/AudioPlayId"),c=e("../../config/GroupConfig"),s=e("../../config/PhysicsConfig"),l=e("../../config/TagObject"),u=e("../../MainScene"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fxBreak=null,t.sprite=null,t}return i(t,e),t.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"rock")},t.prototype.onCollisionEnter=function(e){e.node.group===c.GroupConfig.COLLIDER&&e.node.name==l.TagConfig.BOMB&&this.initFxBreak(),e.node.group===c.GroupConfig.CHARACTER&&u.default.instance.audioPlayer.playAudio(r.AudioPlayId.effect_attack_spear)},t.prototype.initFxBreak=function(){var e=this;this.sprite.active=!1,this.fxBreak.active=!0,this.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.scheduleOnce(function(){e.node.removeFromParent()},1)},a([f(cc.Node)],t.prototype,"fxBreak",void 0),a([f(cc.Node)],t.prototype,"sprite",void 0),a([d],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],RoomConfig:[function(e,t,o){"use strict";cc._RF.push(t,"a08e9OqjtxLA7vTG49W3C13","RoomConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.RoomConfig=void 0;var n=function(){function e(){}return e.getRoomIdByName=function(t){for(var o=e.rooms,n=0;n<o.length;n++)if(o[n].name===t)return n+1;return-1},e.rooms=[{name:"Room1",size:6}],e}();o.RoomConfig=n,cc._RF.pop()},{}],RoomPopup:[function(e,t,o){"use strict";cc._RF.push(t,"e74fdZjVdNLo4UvP947S5sJ","RoomPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../HomeScreen"),c=e("../MainScene"),s=e("../config/AudioPlayId"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topUI=null,t.bottomUI=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.onEnable=function(){r.default.instance.hideUI(),cc.tween(this.node).to(.3,{scale:1},{easing:"backInOut"}).start()},t.prototype.onHide=function(){c.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_click,!1,.6),r.default.instance.showUI(),c.default.instance.selectRoomPopup=null,this.node.destroy()},t.prototype.hideUI=function(){this.node.active=!1},t._instance=null,a([p(cc.Node)],t.prototype,"topUI",void 0),a([p(cc.Node)],t.prototype,"bottomUI",void 0),o=a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../HomeScreen":"HomeScreen","../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId"}],RopeFull:[function(e,t,o){"use strict";cc._RF.push(t,"6635aO0sr9Oyr3AEOv3cQ/f","RopeFull");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./RopePart"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){var e=this;this.node.children.forEach(function(t){var o=t.getComponent(r.default);o&&o.setCutCallback(e.cutRopeInNode.bind(e))})},t.prototype.cutRopeInNode=function(e){cc.log("cutRopeInNode"),e.destroy(),this.node.children.forEach(function(e){var t=e.getComponent(r.default);t&&(t.enabled=!1)})},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},a([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"./RopePart":"RopePart"}],RopePart:[function(e,t,o){"use strict";cc._RF.push(t,"d8140MIb8lO+6wUn4tOHlGX","RopePart");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cutCallback=null,t}return i(t,e),t.prototype.start=function(){if(!this.getComponent(cc.BoxCollider)){var e=this.getComponent(cc.PhysicsBoxCollider),t=this.addComponent(cc.BoxCollider);t.offset=e.offset,t.size=e.size}},t.prototype.setCutCallback=function(e){this.cutCallback=e},t.prototype.onCollisionEnter=function(e){e.node.group!==r.GroupConfig.TOUCH||this.cutCallback&&this.cutCallback(this.node)},a([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],RotateByRepeatAnimX2:[function(e,t,o){"use strict";cc._RF.push(t,"97cddXVcLlODqus7E1jO7Be","RotateByRepeatAnimX2");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=.2,t.rotate1=20,t.duration2=.2,t.rotate2=-20,t.autoPlay=!0,t.rotateStart=0,t}return i(t,e),t.prototype.onLoad=function(){this.rotateStart=this.node.angle},t.prototype.play=function(e){var t=cc.sequence(cc.rotateTo(this.duration1,this.rotateStart+this.rotate1),cc.rotateTo(this.duration2,this.rotateStart+this.rotate2));this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},a([l(cc.Boolean)],t.prototype,"repeatForever",void 0),a([l(cc.Float)],t.prototype,"duration1",void 0),a([l(cc.Float)],t.prototype,"rotate1",void 0),a([l(cc.Float)],t.prototype,"duration2",void 0),a([l(cc.Float)],t.prototype,"rotate2",void 0),a([l(cc.Boolean)],t.prototype,"autoPlay",void 0),a([s,r("Add Anim/RotateByRepeatAnimX2")],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],RotateByRepeatAnim:[function(e,t,o){"use strict";cc._RF.push(t,"74217uxCGJHJKu4GavSlA32","RotateByRepeatAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=1,t.rotate1=360,t.autoPlay=!0,t}return i(t,e),t.prototype.play=function(e){var t=cc.rotateBy(this.duration1,this.rotate1);this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},t.prototype.onDisable=function(){this.node.stopAllActions()},a([l(cc.Boolean)],t.prototype,"repeatForever",void 0),a([l(cc.Float)],t.prototype,"duration1",void 0),a([l(cc.Float)],t.prototype,"rotate1",void 0),a([l(cc.Boolean)],t.prototype,"autoPlay",void 0),a([s,r("Add Anim/RotateByRepeatAnim")],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],SHA256:[function(e,t,o){"use strict";cc._RF.push(t,"c963eSzGL5MMZp9Q7JgMatl","SHA256");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=void 0;var a=e("../lib/Hasher"),r=e("../lib/WordArray"),c=[],s=[],l=[],u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.reset=function(){e.prototype.reset.call(this),this._hash=new r.WordArray(c.slice(0))},t.prototype._doProcessBlock=function(e,t){for(var o=this._hash.words,n=o[0],i=o[1],a=o[2],r=o[3],c=o[4],u=o[5],p=o[6],d=o[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var h=l[f-15],y=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=l[f-2],_=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[f]=y+l[f-7]+_+l[f-16]}var v=n&i^n&a^i&a,m=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&p)+s[f]+l[f];d=p,p=u,u=c,c=r+b|0,r=a,a=i,i=n,n=b+(m+v)|0}o[0]=o[0]+n|0,o[1]=o[1]+i|0,o[2]=o[2]+a|0,o[3]=o[3]+r|0,o[4]=o[4]+c|0,o[5]=o[5]+u|0,o[6]=o[6]+p|0,o[7]=o[7]+d|0},t.prototype._doFinalize=function(){var e=8*this._nDataBytes,t=8*this._data.sigBytes;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[14+(t+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(t+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash},t}(a.Hasher);o.SHA256=u,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],ScaleRepeatAnim:[function(e,t,o){"use strict";cc._RF.push(t,"6217devR7JH3ad1/GjLdKfy","ScaleRepeatAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=.2,t.scale1=1.2,t.duration2=.2,t.scale2=1,t}return i(t,e),t.prototype.play=function(e){var t=cc.sequence(cc.scaleTo(this.duration1,this.scale1),cc.scaleTo(this.duration2,this.scale2));this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.play(this.node)},a([s(cc.Boolean)],t.prototype,"repeatForever",void 0),a([s(cc.Float)],t.prototype,"duration1",void 0),a([s(cc.Float)],t.prototype,"scale1",void 0),a([s(cc.Float)],t.prototype,"duration2",void 0),a([s(cc.Float)],t.prototype,"scale2",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScreenManager:[function(e,t,o){"use strict";cc._RF.push(t,"901c3FK5gZOZ6/0KHHjo2D4","ScreenManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenConfig=o.ScreenId=void 0;var r,c=e("./config/GameState"),s=e("./level/MapLevel"),l=cc._decorator,u=l.ccclass,p=l.property;(function(e){e[e.NONE=0]="NONE",e[e.HOME_SCREEN=1]="HOME_SCREEN",e[e.PLAY_SCREEN=2]="PLAY_SCREEN",e[e.CASTLE_SCREEN=3]="CASTLE_SCREEN",e[e.INTRO=4]="INTRO"})(r=o.ScreenId||(o.ScreenId={}));var d=function(){function e(){this.screenId=r.HOME_SCREEN,this.screen=null}return a([p({type:cc.Enum(r)})],e.prototype,"screenId",void 0),a([p(cc.Node)],e.prototype,"screen",void 0),a([u("ScreenConfig")],e)}();o.ScreenConfig=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flash=null,t.fog=null,t.arrayConfig=[],t.posRootFlash=null,t}return i(t,e),t.prototype.onLoad=function(){this.posRootFlash=this.flash.position},t.prototype.showScreenById=function(e,t,o){var n=this;if(void 0===o&&(o=!1),cc.log("showScreenById: "+e),o){var i=this.activeScreenById(e);t&&t(i)}else this.showFlash(1,function(){var o=n.activeScreenById(e);t&&t(o)},e)},t.prototype.activeScreenById=function(e){for(var t=null,o=0;o<this.arrayConfig.length;o++)this.arrayConfig[o].screenId===e?(this.arrayConfig[o].screen.active=!0,t=this.arrayConfig[o].screen):this.arrayConfig[o].screen.active=!1;return t},t.prototype.getScreenById=function(e){for(var t=0;t<this.arrayConfig.length;t++)if(this.arrayConfig[t].screenId===e)return this.arrayConfig[t].screen;return null},t.prototype.showFlash=function(e,t,o){var n=this;void 0===t&&(t=null),this.flash.active=!0,cc.Tween.stopAllByTarget(this.flash),cc.tween(this.flash).to(0,{position:this.flash.position}).delay(e/2).call(function(){t&&t(),o==r.HOME_SCREEN&&s.default.instance&&(s.default.instance.gameState!=c.GameState.WIN&&s.default.instance.gameState!=c.GameState.LOSE||(n.flash.position=cc.Vec3.ZERO))}).delay(this.getTransitionDt()).call(function(){n.flash.active=!1,n.flash.position=n.posRootFlash,n.flash.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)}).start()},t.prototype.getIntroDT=function(){this.arrayConfig[3].screen.getComponent("cc.Animation").getClips()[0].duration},t.prototype.getTransitionDt=function(){return this.flash.getComponent(sp.Skeleton).findAnimation("animation").duration},t.prototype.setPosFlash=function(e){var t=this.node.parent.convertToNodeSpaceAR(e);e&&(this.flash.position=t)},a([p(cc.Node)],t.prototype,"flash",void 0),a([p(cc.Node)],t.prototype,"fog",void 0),a([p([d])],t.prototype,"arrayConfig",void 0),a([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./config/GameState":"GameState","./level/MapLevel":"MapLevel"}],SelectRoomItem:[function(e,t,o){"use strict";cc._RF.push(t,"2454fqSpTFBzaqjc3+RKCvv","SelectRoomItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/utils/GUIUtil"),c=e("../GameData"),s=e("../MainScene"),l=e("../HomeScreen"),u=e("../config/RoomConfig"),p=e("../config/LevelConfig"),d=e("../base/SetLabelLanguage"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabName="Room1",t.levelUnlock=40,t.lock=null,t.label_unlock=null,t.button=null,t}return i(t,e),t.prototype.onLoad=function(){this.button=this.node.getComponent(cc.Button),this.button?r.default.addClickListener(this.button,this.node,"SelectRoomItem","onClick"):this.button=this.node.addComponent(cc.Button)},t.prototype.onEnable=function(){c.GameData.currentLevelId>=this.levelUnlock&&p.LevelConfig.realLevelSize>=this.levelUnlock?(this.lock.active=!1,this.button.interactable=!0):(this.lock.active=!0,this.button.interactable=!1,p.LevelConfig.realLevelSize<this.levelUnlock?(this.label_unlock.string=d.ChangeLanguage.getText("comingsoon"),this.label_unlock.fontSize=14):this.label_unlock.string=d.ChangeLanguage.getText("level")+this.levelUnlock)},t.prototype.onClick=function(){var e=u.RoomConfig.getRoomIdByName(this.prefabName);e!=l.default.instance.visibleRoomId?l.default.instance.loadRoom(e,function(){s.default.instance.showHomeScreen(function(){s.default.instance.selectRoomPopup.active=!1})}):s.default.instance.showHomeScreen(function(){s.default.instance.selectRoomPopup.active=!1})},a([y(cc.String)],t.prototype,"prefabName",void 0),a([y(cc.Integer)],t.prototype,"levelUnlock",void 0),a([y(cc.Node)],t.prototype,"lock",void 0),a([y(cc.Label)],t.prototype,"label_unlock",void 0),a([h],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../base/utils/GUIUtil":"GUIUtil","../config/LevelConfig":"LevelConfig","../config/RoomConfig":"RoomConfig"}],SerializableCipher:[function(e,t,o){"use strict";cc._RF.push(t,"e5f80C4+uJKCYlc2R9+sxYd","SerializableCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableCipher=void 0;var n=e("./WordArray"),i=e("../format/OpenSSL"),a=e("./CipherParams"),r=function(){function e(){}return e.encrypt=function(e,t,o,n){var i=Object.assign({},this.cfg,n),r=e.createEncryptor(o,i),c=r.finalize(t);return new a.CipherParams({ciphertext:c,key:o,iv:r.cfg.iv,algorithm:e,mode:r.cfg.mode,padding:r.cfg.padding,blockSize:r.cfg.blockSize,formatter:i.format})},e.decrypt=function(e,t,o,n){var i=Object.assign({},this.cfg,n);if(!i.format)throw new Error("could not determine format");if(!(t=this._parse(t,i.format)).ciphertext)throw new Error("could not determine ciphertext");return e.createDecryptor(o,i).finalize(t.ciphertext)},e._parse=function(e,t){return"string"==typeof e?t.parse(e):e},e.cfg={blockSize:4,iv:new n.WordArray([]),format:i.OpenSSL},e}();o.SerializableCipher=r,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","./CipherParams":"CipherParams","./WordArray":"WordArray"}],SetLabelLanguage:[function(e,t,o){"use strict";cc._RF.push(t,"931dfkHxOVH6ag6AahIZw2V","SetLabelLanguage");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ChangeLanguage=o.AllLanguage=o.Lang=void 0;var r,c=e("../MainScene"),s=e("./Language"),l=cc._decorator,u=l.ccclass,p=l.property;(function(e){e[e.EN=0]="EN",e[e.JA=1]="JA",e[e.ID=2]="ID",e[e.DE=3]="DE",e[e.RU=4]="RU",e[e.TR=5]="TR",e[e.KO=6]="KO"})(r=o.Lang||(o.Lang={}));var d=function(){function e(){this.name=null,this.size=0}return a([p({type:cc.Enum(r)})],e.prototype,"name",void 0),a([p(cc.Integer)],e.prototype,"size",void 0),a([u("AllLanguage")],e)}();o.AllLanguage=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.key="",t._sizeLanguage=[],t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"sizeLanguage",{get:function(){return this.do_refresh(),this._sizeLanguage},set:function(e){this._sizeLanguage=e},enumerable:!1,configurable:!0}),t.prototype.do_refresh=function(){for(var e=Object.keys(s.TextLanguage),t=0;t<e.length;t++)if(this._sizeLanguage[t])this._sizeLanguage[t].name=r[""+e[t]];else{var o=new d;o.name=r[""+e[t]],this._sizeLanguage[t]=o}},Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.onEnable=function(){var e=r[""+c.default.instance.language],t=this.node.getComponent(cc.Label);this.key&&(this.node.getComponent(cc.Label).string=s.TextLanguage[c.default.instance.language][this.key]),this.sizeLanguage[e].size&&(t.fontSize=this.sizeLanguage[e].size)},t.prototype.resizeLabel=function(e,t){var o=this.node.getComponent(cc.Label);o.string=s.TextLanguage[c.default.instance.language][this.key],o.fontSize=e,o.lineHeight=t},t._instance=null,a([p(cc.String)],t.prototype,"key",void 0),a([p([d])],t.prototype,"_sizeLanguage",void 0),a([p([d])],t.prototype,"sizeLanguage",null),o=a([u],t)}(cc.Component);o.default=f;var h=function(){function e(){}return e.getText=function(e){return s.TextLanguage[c.default.instance.language][e]},e}();o.ChangeLanguage=h,cc._RF.pop()},{"../MainScene":"MainScene","./Language":"Language"}],SetSpriteLanguage:[function(e,t,o){"use strict";cc._RF.push(t,"39fe50qpdZBtag5SDRWbfgJ","SetSpriteLanguage");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.AllLanguageSprite=void 0;var r=e("../MainScene"),c=e("./Language"),s=e("./SetLabelLanguage"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(){function e(){this.name=s.Lang.EN,this.sprite=null}return a([p({type:cc.Enum(s.Lang)})],e.prototype,"name",void 0),a([p(cc.SpriteFrame)],e.prototype,"sprite",void 0),a([u("AllLanguageSprite")],e)}();o.AllLanguageSprite=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._spriteLanguage=[],t}return i(t,e),Object.defineProperty(t.prototype,"spriteLanguage",{get:function(){return this.do_refresh(),this._spriteLanguage},set:function(e){this._spriteLanguage=e},enumerable:!1,configurable:!0}),t.prototype.do_refresh=function(){for(var e=Object.keys(c.TextLanguage),t=0;t<e.length;t++)if(this._spriteLanguage[t])this._spriteLanguage[t].name=s.Lang[""+e[t]];else{var o=new d;o.name=s.Lang[""+e[t]],this._spriteLanguage[t]=o}},t.prototype.onEnable=function(){this.node.getComponent(cc.Sprite).spriteFrame=this.spriteLanguage[s.Lang[""+r.default.instance.language]].sprite},a([p({type:[d]})],t.prototype,"_spriteLanguage",void 0),a([p({type:[d]})],t.prototype,"spriteLanguage",null),a([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../MainScene":"MainScene","./Language":"Language","./SetLabelLanguage":"SetLabelLanguage"}],SettingsPopup:[function(e,t,o){"use strict";cc._RF.push(t,"1ae5czkyCxFupccCa3ZqkvT","SettingsPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/toggle/ToggleSliderGroup"),c=e("../base/audio/AudioManager"),s=e("../config/GlobalSignals"),l=e("../config/AudioPlayId"),u=e("../MainScene"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_sound_effect=null,t.btn_sound_music=null,t.btn_reset_data=null,t}return i(t,e),t.prototype.onLoad=function(){this.btn_sound_effect.setOnClickCallback(function(e){u.default.instance.audioPlayer.playAudio(l.AudioPlayId.effect_click,!1,.6),c.default.EffectEnable=e}),this.btn_sound_music.setOnClickCallback(function(e){u.default.instance.audioPlayer.playAudio(l.AudioPlayId.effect_click,!1,.6),c.default.MusicEnable=e}),this.btn_reset_data&&(this.btn_reset_data.node.active=null==window.isDev||window.isDev),s.GlobalSignals.updateToggleSound.add(this.onSound.bind(this))},t.prototype.onEnable=function(){this.onSound()},t.prototype.onDisable=function(){s.GlobalSignals.updateToggleSound.remove(this.onSound.bind(this))},t.prototype.onSound=function(){this.btn_sound_effect.setToggleState(c.default.EffectEnable,!1),this.btn_sound_music.setToggleState(c.default.MusicEnable,!1)},t.prototype.onClearData=function(){cc.warn("onClearData")},a([f(r.default)],t.prototype,"btn_sound_effect",void 0),a([f(r.default)],t.prototype,"btn_sound_music",void 0),a([f(cc.Button)],t.prototype,"btn_reset_data",void 0),a([d],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../MainScene":"MainScene","../base/audio/AudioManager":"AudioManager","../base/toggle/ToggleSliderGroup":"ToggleSliderGroup","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals"}],Shop:[function(e,t,o){"use strict";cc._RF.push(t,"5957cv2W8lLDaTr4K1A6DcO","Shop");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ChestConfig=void 0;var r=e("../base/audio/AudioManager"),c=e("../base/GameDistribution"),s=e("../config/AudioPlayId"),l=e("../config/GlobalSignals"),u=e("../GameData"),p=e("../MainScene"),d=e("./ChestShop"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(){function e(){}return e.arrayChest=[{id:1,sprite:[1,2],name:"bronze_chest",cardSize:2,price:0},{id:2,sprite:[2,3],name:"rare_chest",cardSize:4,price:3e4},{id:3,sprite:[4,5],name:"legend_chest",cardSize:8,price:7e4}],e}();o.ChestConfig=g;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteChestShop=[],t.iconChestParent=[],t.chestShopPrefab=null,t.chestInfoPrefab=null,t.blockGuide=null,t.placedNode=null,t}return i(t,e),t.prototype.onLoad=function(){this._refreshChest=this.initIcon.bind(this),l.GlobalSignals.refreshChest.add(this._refreshChest)},t.prototype.onEnable=function(){this.initIcon(),this.checkIsGuide()},t.prototype.initIcon=function(){for(var e=0;e<this.iconChestParent.length;e++){this.iconChestParent[e].removeAllChildren();var t=cc.instantiate(this.chestShopPrefab);t.parent=this.iconChestParent[e],t.getComponent(d.default).initChest(g.arrayChest[e],this.spriteChestShop[e],this.node)}},t.prototype.close=function(){p.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_click,!1,.6),this.node.active=!1},t.prototype.checkIsGuide=function(){var e=this;if(u.GameData.isGuideCards){this.blockGuide.active=!0;var t=cc.instantiate(this.chestShopPrefab);t.parent=this.placedNode,t.getComponent(d.default).initChest(g.arrayChest[0],this.spriteChestShop[0],this.node,function(){e.blockGuide.active=!1,u.GameData.isGuideCards=!1})}},t.prototype.onClickWatchAds=function(){p.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_click,!1,.6),c.default.instance.rewardType="receiveCoinsShop",c.default.instance.effectSoundState=r.default.EffectEnable,c.default.instance.musicSoundState=r.default.MusicEnable,c.default.instance.GDShowRewardedAd()},a([y([cc.SpriteFrame])],t.prototype,"spriteChestShop",void 0),a([y([cc.Node])],t.prototype,"iconChestParent",void 0),a([y(cc.Node)],t.prototype,"chestShopPrefab",void 0),a([y(cc.Node)],t.prototype,"chestInfoPrefab",void 0),a([y(cc.Node)],t.prototype,"blockGuide",void 0),a([y(cc.Node)],t.prototype,"placedNode",void 0),a([h],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/GameDistribution":"GameDistribution","../base/audio/AudioManager":"AudioManager","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","./ChestShop":"ChestShop"}],SignalBinding:[function(e,t,o){"use strict";cc._RF.push(t,"986cbDaJqlNrbiJVow96Bwm","SignalBinding"),Object.defineProperty(o,"__esModule",{value:!0}),o.SignalBinding=void 0;var n=function(){function e(e,t,o,n,i){void 0===i&&(i=0),this.active=!0,this.params=null,this._listener=t,this._isOnce=o,this.context=n,this._signal=e,this.priority=i||0}return e.prototype.execute=function(e){var t,o;return this.active&&this._listener&&(o=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,o),this._isOnce&&this.detach()),t},e.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},e.prototype.isBound=function(){return!!this._signal&&!!this._listener},e.prototype.isOnce=function(){return this._isOnce},e.prototype.getListener=function(){return this._listener},e.prototype.getSignal=function(){return this._signal},e.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},e.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},e}();o.SignalBinding=n,cc._RF.pop()},{}],Signal:[function(e,t,o){"use strict";cc._RF.push(t,"cb5e6YetPdPRqAkDnrTk1Ag","Signal"),Object.defineProperty(o,"__esModule",{value:!0}),o.Signal=void 0;var n=e("./SignalBinding"),i=function(){function e(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return e.prototype.validateListener=function(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))},e.prototype._registerListener=function(e,t,o,i){var a,r=this._indexOfListener(e,o);if(-1!==r){if((a=this._bindings[r]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else a=new n.SignalBinding(this,e,t,o,i),this._addBinding(a);return this.memorize&&this._prevParams&&a.execute(this._prevParams),a},e.prototype._addBinding=function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e.priority<=this._bindings[t].priority);this._bindings.splice(t+1,0,e)},e.prototype._indexOfListener=function(e,t){for(var o,n=this._bindings.length;n--;)if((o=this._bindings[n]).getListener()===e&&o.context===t)return n;return-1},e.prototype.has=function(e,t){return void 0===t&&(t=null),-1!==this._indexOfListener(e,t)},e.prototype.add=function(e,t,o){return void 0===t&&(t=null),void 0===o&&(o=0),this.validateListener(e,"add"),this._registerListener(e,!1,t,o)},e.prototype.addOnce=function(e,t,o){return void 0===t&&(t=null),void 0===o&&(o=0),this.validateListener(e,"addOnce"),this._registerListener(e,!0,t,o)},e.prototype.remove=function(e,t){void 0===t&&(t=null),this.validateListener(e,"remove");var o=this._indexOfListener(e,t);return-1!==o&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),e},e.prototype.removeAll=function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},e.prototype.getNumListeners=function(){return this._bindings.length},e.prototype.halt=function(){this._shouldPropagate=!1},e.prototype.dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.active){var o,n=this._bindings.length;if(this.memorize&&(this._prevParams=e),n){o=this._bindings.slice(0),this._shouldPropagate=!0;do{n--}while(o[n]&&this._shouldPropagate&&!1!==o[n].execute(e))}}},e.prototype.forget=function(){this._prevParams=null},e.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},e.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},e.VERSION="1.0.0",e}();o.Signal=i,cc._RF.pop()},{"./SignalBinding":"SignalBinding"}],SkinBossUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"b96455DzyhL1JYIEFU8HEc7","SkinBossUpdater");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/GlobalSignals"),c=e("../config/SkinConfig"),s=e("../GameData"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.anim="Idle",t._onUpdateSkinBoss=null,t}return i(t,e),t.prototype.onLoad=function(){this.skeleton||(this.skeleton=this.node.getComponent(sp.Skeleton))},t.prototype.onEnable=function(){this._onUpdateSkinBoss=this.onUpdateSkinBoss.bind(this),r.GlobalSignals.changeSkinBossSignal.add(this._onUpdateSkinBoss),this.onUpdateSkinBoss()},t.prototype.onDisable=function(){r.GlobalSignals.changeSkinBossSignal.remove(this._onUpdateSkinBoss)},t.prototype.onUpdateSkinBoss=function(){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var e=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentSkinBoss),t=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentHatBoss),o=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentShoeBoss),n=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentScarfBoss),i=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentGloveBoss),a=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentEarBoss),r=new sp.spine.Skin("Temp");r.addSkin(e),t&&r.addSkin(t),o&&r.addSkin(o),n&&s.GameData.currentSkinBoss==c.SkinConfig.arraySkinBoss[0].skins[0]&&r.addSkin(n),i&&r.addSkin(i),a&&r.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name)},a([p(sp.Skeleton)],t.prototype,"skeleton",void 0),a([p(cc.String)],t.prototype,"anim",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig"}],SkinConfig:[function(e,t,o){"use strict";cc._RF.push(t,"c02cavE5GRJyqMzIcM60HHk","SkinConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SkinConfig=void 0;var n=function(){function e(){}return e.getSkinNameById=function(t){for(var o=e.arraySkinBoss,n=0;n<o.length;n++)if(o[n].skinId===t){var i=o[n];return i.skins[i.skins.length-1]}return"Base"},e.get_type={free:"free",buy:"buy",claim_ad:"claim_ad",gift_code:"gift_code",share_fb:"share_fb",daily_reward:"daily_reward",level:"levelreward"},e.arraySkinBoss=[{skinId:"0",skins:["Clothes7"],type:e.get_type.buy,value:4e4},{skinId:"1",skins:["Clothes2"],type:e.get_type.buy,value:4e4},{skinId:"2",skins:["Clothes3"],type:e.get_type.buy,value:4e4},{skinId:"3",skins:["Clothes4"],type:e.get_type.buy,value:4e4},{skinId:"4",skins:["Clothes5"],type:e.get_type.claim_ad,value:0},{skinId:"5",skins:["Clothes6"],type:e.get_type.buy,value:4e4},{skinId:"6",skins:["Clothes1"],type:e.get_type.claim_ad,value:4e4},{skinId:"7",skins:["Clothes8"],type:e.get_type.buy,value:4e4},{skinId:"8",skins:["Clothes9"],type:e.get_type.buy,value:4e4},{skinId:"9",skins:["Clothes10"],type:e.get_type.buy,value:4e4},{skinId:"10",skins:["Clothes11"],type:e.get_type.buy,value:4e4},{skinId:"11",skins:["Clothes12"],type:e.get_type.claim_ad,value:0},{skinId:"12",skins:["Clothes13"],type:e.get_type.claim_ad,value:0}],e.arrayHatBoss=[{skinId:"0",skins:["Hat7"],type:e.get_type.buy,value:3e4},{skinId:"1",skins:["Hat2"],type:e.get_type.buy,value:3e4},{skinId:"2",skins:["Hat3"],type:e.get_type.buy,value:3e4},{skinId:"3",skins:["Hat4"],type:e.get_type.buy,value:3e4},{skinId:"4",skins:["Hat5"],type:e.get_type.claim_ad,value:3e4},{skinId:"5",skins:["Hat1"],type:e.get_type.buy,value:3e4},{skinId:"6",skins:["Hat1"],type:e.get_type.claim_ad,value:3e4},{skinId:"7",skins:["Hat8"],type:e.get_type.buy,value:3e4},{skinId:"8",skins:["Hat9"],type:e.get_type.buy,value:3e4},{skinId:"9",skins:["Hat10"],type:e.get_type.buy,value:3e4},{skinId:"10",skins:["Hat11"],type:e.get_type.buy,value:3e4},{skinId:"11",skins:["Hat12"],type:e.get_type.claim_ad,value:0},{skinId:"12",skins:["Hat13"],type:e.get_type.claim_ad,value:0}],e.arrayShoesBoss=[{skinId:"0",skins:["Shoes7"],type:e.get_type.buy,value:3e4},{skinId:"1",skins:["Shoes2"],type:e.get_type.buy,value:3e4},{skinId:"2",skins:["Shoes3"],type:e.get_type.buy,value:3e4},{skinId:"3",skins:["Shoes4"],type:e.get_type.buy,value:3e4},{skinId:"4",skins:["Shoes5"],type:e.get_type.claim_ad,value:3e4},{skinId:"5",skins:["Shoes6"],type:e.get_type.buy,value:3e4},{skinId:"6",skins:["Shoes1"],type:e.get_type.claim_ad,value:0},{skinId:"7",skins:["Shoes8"],type:e.get_type.buy,value:3e4},{skinId:"8",skins:["Shoes9"],type:e.get_type.buy,value:3e4},{skinId:"9",skins:["Shoes10"],type:e.get_type.buy,value:3e4},{skinId:"10",skins:["Shoes11"],type:e.get_type.buy,value:3e4},{skinId:"11",skins:["Shoes12"],type:e.get_type.claim_ad,value:0},{skinId:"12",skins:["Shoes13"],type:e.get_type.claim_ad,value:0}],e.arraySkinDaughter=[{skinId:"0",skins:["Clothes7"],type:e.get_type.buy,value:4e4},{skinId:"1",skins:["Clothes2"],type:e.get_type.buy,value:4e4},{skinId:"2",skins:["Clothes3"],type:e.get_type.buy,value:4e4},{skinId:"3",skins:["Clothes4"],type:e.get_type.buy,value:4e4},{skinId:"4",skins:["Clothes5"],type:e.get_type.claim_ad,value:0},{skinId:"5",skins:["Clothes6"],type:e.get_type.buy,value:4e4},{skinId:"6",skins:["Clothes1"],type:e.get_type.claim_ad,value:0},{skinId:"7",skins:["Clothes8"],type:e.get_type.buy,value:4e4},{skinId:"8",skins:["Clothes9"],type:e.get_type.buy,value:4e4},{skinId:"9",skins:["Clothes10"],type:e.get_type.buy,value:4e4},{skinId:"10",skins:["Clothes12"],type:e.get_type.buy,value:4e4},{skinId:"11",skins:["Clothes11"],type:e.get_type.claim_ad,value:0},{skinId:"12",skins:["Clothes13"],type:e.get_type.claim_ad,value:0}],e.arrayHatDaughter=[{skinId:"0",skins:["Hat7"],type:e.get_type.buy,value:3e4},{skinId:"1",skins:["Hat2"],type:e.get_type.buy,value:3e4},{skinId:"2",skins:["Hat3"],type:e.get_type.buy,value:3e4},{skinId:"3",skins:["Hat4"],type:e.get_type.buy,value:3e4},{skinId:"4",skins:["Hat5"],type:e.get_type.claim_ad,value:0},{skinId:"5",skins:["Hat6"],type:e.get_type.buy,value:3e4},{skinId:"6",skins:["Hat1"],type:e.get_type.claim_ad,value:0},{skinId:"7",skins:["Hat8"],type:e.get_type.buy,value:3e4},{skinId:"8",skins:["Hat9"],type:e.get_type.buy,value:3e4},{skinId:"9",skins:["Hat10"],type:e.get_type.buy,value:3e4},{skinId:"10",skins:["Hat11"],type:e.get_type.buy,value:3e4},{skinId:"11",skins:["Hat12"],type:e.get_type.claim_ad,value:0},{skinId:"12",skins:["Hat13"],type:e.get_type.claim_ad,value:0}],e.arrayShoesDaughter=[{skinId:"0",skins:["Shoes7"],type:e.get_type.buy,value:3e4},{skinId:"1",skins:["Shoes2"],type:e.get_type.buy,value:3e4},{skinId:"2",skins:["Shoes3"],type:e.get_type.buy,value:3e4},{skinId:"3",skins:["Shoes4"],type:e.get_type.buy,value:3e4},{skinId:"4",skins:["Shoes5"],type:e.get_type.claim_ad,value:0},{skinId:"5",skins:["Shoes6"],type:e.get_type.buy,value:3e4},{skinId:"6",skins:["Shoes1"],type:e.get_type.claim_ad,value:0},{skinId:"7",skins:["Shoes8"],type:e.get_type.buy,value:3e4},{skinId:"8",skins:["Shoes9"],type:e.get_type.buy,value:3e4},{skinId:"9",skins:["Shoes10"],type:e.get_type.buy,value:3e4},{skinId:"10",skins:["Shoes12"],type:e.get_type.buy,value:3e4},{skinId:"11",skins:["Shoes11"],type:e.get_type.claim_ad,value:0},{skinId:"12",skins:["Shoes13"],type:e.get_type.claim_ad,value:0}],e.arrayPinSkin=[{skinId:"SkinShop_PinBasic",skins:["SkinShop_PinBasic"],type:e.get_type.free,value:3e4},{skinId:"SkinShop_Pin1",skins:["SkinShop_Pin1"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin2",skins:["SkinShop_Pin2"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin3",skins:["SkinShop_Pin3"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin4",skins:["SkinShop_Pin4"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin5",skins:["SkinShop_Pin5"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin6",skins:["SkinShop_Pin6"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin7",skins:["SkinShop_Pin7"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin8",skins:["SkinShop_Pin8"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin9",skins:["SkinShop_Pin9"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin10",skins:["SkinShop_Pin10"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin11",skins:["SkinShop_Pin11"],type:e.get_type.buy,value:3e4},{skinId:"SkinShop_Pin12",skins:["SkinShop_Pin12"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin13",skins:["SkinShop_Pin13"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin14",skins:["SkinShop_Pin14"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin15",skins:["SkinShop_Pin15"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin16",skins:["SkinShop_Pin16"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin17",skins:["SkinShop_Pin17"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin18",skins:["SkinShop_Pin18"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin19",skins:["SkinShop_Pin19"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin20",skins:["SkinShop_Pin20"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin21",skins:["SkinShop_Pin21"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin22",skins:["SkinShop_Pin22"],type:e.get_type.buy,value:4e4},{skinId:"SkinShop_Pin23",skins:["SkinShop_Pin23"],type:e.get_type.claim_ad,value:0},{skinId:"SkinShop_Pin24",skins:["SkinShop_Pin24"],type:e.get_type.claim_ad,value:0}],e}();o.SkinConfig=n,cc._RF.pop()},{}],SkinDaughterUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"beb62zcqxJEPK03z9QRyxP6","SkinDaughterUpdater");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/GlobalSignals"),c=e("../config/SkinConfig"),s=e("../GameData"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.anim="Idle",t._onUpdateSkinDaughter=null,t}return i(t,e),t.prototype.onLoad=function(){this.skeleton||(this.skeleton=this.node.getComponent(sp.Skeleton))},t.prototype.onEnable=function(){this._onUpdateSkinDaughter=this.onUpdateSkinDaughter.bind(this),r.GlobalSignals.changeSkinDaughterSignal.add(this._onUpdateSkinDaughter),this.onUpdateSkinDaughter()},t.prototype.onDisable=function(){r.GlobalSignals.changeSkinDaughterSignal.remove(this._onUpdateSkinDaughter)},t.prototype.onUpdateSkinDaughter=function(){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var e=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentSkinDaughter),t=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentHatDaughter),o=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentShoeDaughter),n=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentScarfDaughter),i=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentGloveDaughter),a=this.skeleton.skeletonData.getRuntimeData().findSkin(s.GameData.currentEarDaughter),r=new sp.spine.Skin("Temp");r.addSkin(e),t&&r.addSkin(t),o&&r.addSkin(o),n&&s.GameData.currentSkinBoss==c.SkinConfig.arraySkinDaughter[0].skins[0]&&r.addSkin(n),i&&r.addSkin(i),a&&r.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name)},a([p(sp.Skeleton)],t.prototype,"skeleton",void 0),a([p(cc.String)],t.prototype,"anim",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig"}],SkinItem:[function(e,t,o){"use strict";cc._RF.push(t,"2f495wKQ/JFyJrI9qhSlw0S","SkinItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../config/SkinConfig"),c=e("../GameData"),s=e("../base/utils/GUIUtil"),l=e("../MainScene"),u=e("../base/SetLabelLanguage"),p=e("../base/audio/AudioManager"),d=e("../base/GameDistribution"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.btn_level=null,t.btn_claim=null,t.btn_daily_reward=null,t.btn_buy=null,t.label_price=null,t.label_level=null,t.light=null,t.skinConfig=null,t.btn_click=null,t.person=null,t.type=null,t.skinClickCallback=null,t}return i(t,e),t.prototype.onLoad=function(){this.btn_click=this.node.getComponent(cc.Button),this.btn_click||(this.btn_click=this.node.addComponent(cc.Button))},t.prototype.onClickBoss=function(){this.skinClickCallback&&this.skinClickCallback(this.skinConfig)},t.prototype.onClickBuySkinBoss=function(){var e=this;this.skinConfig.value<c.GameData.playerCoin&&c.GameData.addSkinBoss(this.arraySkin,this.skinConfig.skinId,function(t){t||(c.GameData.addCoin(-e.skinConfig.value),e.sprite.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),e.updateUI(),GlanceGlobal.instance.sendEventransactions(c.GameData.currentLevelId+1,e.person+" "+e.type))})},t.prototype.onClickGiftCode=function(){l.default.instance.showDailyPopup()},t.prototype.onClickDailyReward=function(){},t.prototype.initSkinItem=function(e,t,o,n,i){var a=this,r=!1;this.skinConfig=n,this.skinClickCallback=i,this.arraySkin=this.getCurrentArraySkin(t,o,function(t){switch(n.skins[n.skins.length-1]===a.currentSkin&&(a.light.active=!0),e+=n.skinId,t.key){case c.GameData.KEY_BOSS_HATS:-1==c.GameData.myBossHats.indexOf(n.skinId)&&(r=!0);break;case c.GameData.KEY_BOSS_SKINS:-1==c.GameData.myBossSkins.indexOf(n.skinId)&&(r=!0);break;case c.GameData.KEY_BOSS_SHOES:-1==c.GameData.myBossShoes.indexOf(n.skinId)&&(r=!0);break;case c.GameData.KEY_DAUGHTER_HATS:-1==c.GameData.myDaughterHats.indexOf(n.skinId)&&(r=!0);break;case c.GameData.KEY_DAUGHTER_SKINS:-1==c.GameData.myDaughterSkins.indexOf(n.skinId)&&(r=!0);break;case c.GameData.KEY_DAUGHTER_SHOES:-1==c.GameData.myDaughterShoes.indexOf(n.skinId)&&(r=!0);break;case c.GameData.KEY_PIN_SKINS:}a.dir=e,a.loadSkinImage(a.dir,function(e){a.sprite.spriteFrame=e,r&&a.sprite.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))}),a.updateUI()})},t.prototype.updateUI=function(){var e=this.skinConfig;if(-1!=this.arrayData.indexOf(e.skinId))return this.btn_buy.node.active=!1,this.btn_daily_reward.node.active=!1,this.btn_level.node.active=!1,void(this.btn_claim.node.active=!1);switch(e.type){case r.SkinConfig.get_type.buy:this.btn_buy.node.active=!0,this.label_price.string=e.value+"",this.btn_buy.interactable=c.GameData.playerCoin>=e.value;break;case r.SkinConfig.get_type.daily_reward:this.btn_daily_reward.node.active=!0;break;case r.SkinConfig.get_type.level:this.btn_level.node.active=!0,this.label_level.string=u.ChangeLanguage.getText("level")+e.value;break;case r.SkinConfig.get_type.claim_ad:this.btn_claim.node.active=!0}},t.prototype.loadSkinImage=function(e,t){cc.resources.load(e,function(e,o){if(!e&&t){var n=new cc.SpriteFrame;n.setTexture(o),t(n)}})},t.prototype.getCurrentArraySkin=function(e,t,o){void 0===o&&(o=null);var n={};switch(this.person=e,this.type=t,s.default.addClickListener(this.btn_click,this.node,"SkinItem","onClickBoss"),s.default.addClickListener(this.btn_claim,this.node,"SkinItem","onClickClaim"),s.default.addClickListener(this.btn_buy,this.node,"SkinItem","onClickBuySkinBoss"),s.default.addClickListener(this.btn_level,this.node,"SkinItem","onClickLevel"),s.default.addClickListener(this.btn_daily_reward,this.node,"SkinItem","onClickDailyReward"),e){case"Mom":switch(t){case"Hat":this.arrayData=c.GameData.myBossHats,this.currentSkin=c.GameData.currentHatBoss,n.array=c.GameData.myBossHats,n.key=c.GameData.KEY_BOSS_HATS;break;case"Shirt":this.arrayData=c.GameData.myBossSkins,this.currentSkin=c.GameData.currentSkinBoss,n.array=c.GameData.myBossSkins,n.key=c.GameData.KEY_BOSS_SKINS;break;case"Shoes":this.currentSkin=c.GameData.currentShoeBoss,this.arrayData=c.GameData.myBossShoes,n.array=c.GameData.myBossShoes,n.key=c.GameData.KEY_BOSS_SHOES}break;case"Child":switch(t){case"Hat":this.currentSkin=c.GameData.currentHatDaughter,this.arrayData=c.GameData.myDaughterHats,n.array=c.GameData.myDaughterHats,n.key=c.GameData.KEY_DAUGHTER_HATS;break;case"Shirt":this.currentSkin=c.GameData.currentSkinDaughter,this.arrayData=c.GameData.myDaughterSkins,n.array=c.GameData.myDaughterSkins,n.key=c.GameData.KEY_DAUGHTER_SKINS;break;case"Shoes":this.currentSkin=c.GameData.currentShoeDaughter,this.arrayData=c.GameData.myDaughterShoes,n.array=c.GameData.myDaughterShoes,n.key=c.GameData.KEY_DAUGHTER_SHOES}break;case"Pin":this.currentSkin=c.GameData.currentPinSkin,this.arrayData=c.GameData.myPinSkins,n.array=c.GameData.myPinSkins,n.key=c.GameData.KEY_PIN_SKINS}return o&&o(n),n},t.prototype.onClickClaim=function(){d.default.instance.rewardType="claimSkin",d.default.instance.effectSoundState=p.default.EffectEnable,d.default.instance.musicSoundState=p.default.MusicEnable,d.default.instance.GDShowRewardedAd(),window.claimSkin=function(){var e=this;c.GameData.addSkinBoss(this.arraySkin,this.skinConfig.skinId,function(t){t||(e.sprite.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),e.updateUI())})}.bind(this)},a([y(cc.Sprite)],t.prototype,"sprite",void 0),a([y(cc.Button)],t.prototype,"btn_level",void 0),a([y(cc.Button)],t.prototype,"btn_claim",void 0),a([y(cc.Button)],t.prototype,"btn_daily_reward",void 0),a([y(cc.Button)],t.prototype,"btn_buy",void 0),a([y(cc.Label)],t.prototype,"label_price",void 0),a([y(cc.Label)],t.prototype,"label_level",void 0),a([y(cc.Node)],t.prototype,"light",void 0),a([h],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/GameDistribution":"GameDistribution","../base/SetLabelLanguage":"SetLabelLanguage","../base/audio/AudioManager":"AudioManager","../base/utils/GUIUtil":"GUIUtil","../config/SkinConfig":"SkinConfig"}],SkinPopup:[function(e,t,o){"use strict";cc._RF.push(t,"077a2KjJEZJZpHqt/lLWN7i","SkinPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemType=o.Person=void 0;var r=e("./SkinItem"),c=e("../config/SkinConfig"),s=e("../config/GlobalSignals"),l=e("../GameData"),u=e("../ui/ButtonActive"),p=e("../config/ItemLevelSkin"),d=e("../ResUtil"),f=e("../base/audio/AudioManager"),h=e("../MainScene"),y=e("../config/AudioPlayId"),g=e("../base/GameDistribution"),_=function(){function e(){}return e.Mom="Mom",e.Child="Child",e.Pin="Pin",e}();o.Person=_;var v=function(){function e(){}return e.Hat="Hat",e.Outfit="Shirt",e.Shoe="Shoes",e}();o.ItemType=v;var m=cc._decorator,b=m.ccclass,C=m.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.skeletonDaughter=null,t.pinSprite=null,t.btnSkin=null,t.container=null,t.rowPrefab=null,t.skinPrefab=null,t.buttonActive=[],t.buttonPinSkin=null,t.buttonOutfit=null,t.arraySkin=[],t.isPerson=_.Mom,t.isType=v.Hat,t.hasHat=!1,t.hasShoe=!1,t.defaultSkeleton=null,t.defaultSkeletonDaughter=null,t}return i(t,e),t.prototype.onLoad=function(){this.initData(v.Hat,_.Mom),this.reloadMomCurrentSkin(),this.resetButton(0),this.buttonOutfit.active=!1,this.pinSprite.node.active=!1},t.prototype.onEnable=function(){},t.prototype.initData=function(e,t){var o=this;this.arraySkin=[],this.container.removeAllChildren();for(var n=this.getSkinConfig(),i=n.length,a=Math.ceil(i/3),c=0,s=0;s<a;s++){var l=cc.instantiate(this.rowPrefab);this.container.addChild(l);for(var u=0;u<3&&!(c>=i);u++){var p=n[c],d=cc.instantiate(this.skinPrefab);d.position=l.children[u].position,l.addChild(d);var f=d.getComponent(r.default),h="HomeIsland/Sprites/Skin/Pin/";t!=_.Pin&&(h="HomeIsland/Sprites/Skin/"+e+"/"+t+"/"),f.initSkinItem(h,this.isPerson,this.isType,p,function(e){o.selectSkinByCfg(e)}),this.arraySkin.push(f),c++}}},t.prototype.onClickBack=function(){h.default.instance.audioPlayer.playAudio(y.AudioPlayId.effect_click,!1,.6),this.node.active=!1},t.prototype.clickPin=function(){this.isPerson==_.Pin&&(this.initData("",_.Pin),this.reloadPinCurrentSkin())},t.prototype.clickHat=function(){this.resetButton(0),this.isType=v.Hat,this.isPerson==_.Mom?(this.initData(v.Hat,_.Mom),this.reloadMomCurrentSkin()):this.isPerson==_.Child&&(this.initData(v.Hat,_.Child),this.reloadChildCurrentSkin())},t.prototype.clickOutfit=function(){this.resetButton(1),this.isType=v.Outfit,this.isPerson==_.Mom?(this.initData(v.Outfit,_.Mom),this.reloadMomCurrentSkin()):this.isPerson==_.Child&&(this.initData(v.Outfit,_.Child),this.reloadChildCurrentSkin())},t.prototype.clickShoe=function(){this.resetButton(2),this.isType=v.Shoe,this.isPerson==_.Mom?(this.initData(v.Shoe,_.Mom),this.reloadMomCurrentSkin()):this.isPerson==_.Child&&(this.initData(v.Shoe,_.Child),this.reloadChildCurrentSkin())},t.prototype.resetButton=function(e){this.buttonActive[0].deactiveBtn(),this.buttonActive[1].deactiveBtn(),this.buttonActive[2].deactiveBtn(),this.buttonActive[e].activeBtn()},t.prototype.changePerson=function(){var e=this;this.btnSkin.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){e.btnSkin.getComponent(cc.Button).interactable=!0},.5),this.isPerson==_.Mom?(this.reloadChildCurrentSkin(),this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Daughter_Active",!1),this.isPerson=_.Child,this.skeleton.node.active=!1,this.skeletonDaughter.node.active=!0):(this.reloadMomCurrentSkin(),this.isPerson=_.Mom,this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Mother_Active",!1),this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!0),this.clickHat()},t.prototype.onClickPin=function(){this.buttonPinSkin.children[0].active=!0,this.buttonOutfit.active=!0,this.buttonPinSkin.children[1].active=!1,this.btnSkin.active=!1,this.buttonActive[0].node.parent.active=!1,this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!1,this.pinSprite.node.active=!0,this.isPerson=_.Pin,this.isType="",this.clickPin(),this.reloadPinCurrentSkin()},t.prototype.onOutfit=function(){this.buttonPinSkin.children[0].active=!1,this.buttonOutfit.active=!1,this.buttonPinSkin.children[1].active=!0,this.btnSkin.active=!0,this.buttonActive[0].node.parent.active=!0,this.pinSprite.node.active=!1,this.reloadMomCurrentSkin(),this.isPerson=_.Mom,this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Mother_Active",!1),this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!0,this.clickHat()},t.prototype.getSkinConfig=function(){var e=[];if(_.Mom==this.isPerson)switch(this.isType){case v.Hat:c.SkinConfig.arrayHatBoss.forEach(function(t){t.type!=c.SkinConfig.get_type.gift_code&&e.push(t)});break;case v.Outfit:c.SkinConfig.arraySkinBoss.forEach(function(t){t.type!=c.SkinConfig.get_type.gift_code&&e.push(t)});break;case v.Shoe:c.SkinConfig.arrayShoesBoss.forEach(function(t){t.type!=c.SkinConfig.get_type.gift_code&&e.push(t)})}else if(_.Child==this.isPerson)switch(this.isType){case v.Hat:c.SkinConfig.arrayHatDaughter.forEach(function(t){t.type!=c.SkinConfig.get_type.gift_code&&e.push(t)});break;case v.Outfit:c.SkinConfig.arraySkinDaughter.forEach(function(t){t.type!=c.SkinConfig.get_type.gift_code&&e.push(t)});break;case v.Shoe:c.SkinConfig.arrayShoesDaughter.forEach(function(t){t.type!=c.SkinConfig.get_type.gift_code&&e.push(t)})}else _.Pin==this.isPerson&&c.SkinConfig.arrayPinSkin.forEach(function(t){t.type!=c.SkinConfig.get_type.gift_code&&e.push(t)});return e},t.prototype.selectSkinByCfg=function(e){switch(this.isPerson){case _.Mom:switch(this.isType){case v.Hat:this.mySkinsArray=l.GameData.myBossHats,this.selectHatBossByCfg(e);break;case v.Outfit:this.mySkinsArray=l.GameData.myBossSkins,this.selectSkinBossByCfg(e);break;case v.Shoe:this.mySkinsArray=l.GameData.myBossShoes,this.selectShoeBossByCfg(e)}break;case _.Child:switch(this.isType){case v.Hat:this.mySkinsArray=l.GameData.myDaughterHats,this.selectHatDaughterByCfg(e);break;case v.Outfit:this.mySkinsArray=l.GameData.myDaughterSkins,this.selectSkinDaughterByCfg(e);break;case v.Shoe:this.mySkinsArray=l.GameData.myDaughterShoes,this.selectShoeDaughterByCfg(e)}break;case _.Pin:this.mySkinsArray=l.GameData.myPinSkins,this.selectPinByCfg(e)}},t.prototype.selectHatBossByCfg=function(e){var t=this,o=e.skins[e.skins.length-1];this.reloadMomCurrentSkin(null,o,void 0),-1!=this.mySkinsArray.indexOf(e.skinId)&&l.GameData.setHatBoss(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),t.arraySkin.forEach(function(t){t.skinConfig.skinId===e.skinId?t.light.active=!0:t.light.active&&(t.light.active=!1)}))})},t.prototype.selectSkinBossByCfg=function(e){var t=this,o=e.skins[e.skins.length-1];this.reloadMomCurrentSkin(o),-1!=this.mySkinsArray.indexOf(e.skinId)&&l.GameData.setSkinBoss(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),t.arraySkin.forEach(function(t){t.skinConfig.skinId===e.skinId?t.light.active=!0:t.light.active&&(t.light.active=!1)}))})},t.prototype.selectShoeBossByCfg=function(e){var t=this,o=e.skins[e.skins.length-1];this.reloadMomCurrentSkin(null,void 0,o),-1!=this.mySkinsArray.indexOf(e.skinId)&&l.GameData.setShoeBoss(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),t.arraySkin.forEach(function(t){t.skinConfig.skinId===e.skinId?t.light.active=!0:t.light.active&&(t.light.active=!1)}))})},t.prototype.selectHatDaughterByCfg=function(e){var t=this,o=e.skins[e.skins.length-1];this.addSkinDaughter(this.skeletonDaughter,o),this.reloadChildCurrentSkin(null,o,void 0),-1!=this.mySkinsArray.indexOf(e.skinId)&&l.GameData.setHatDaughter(o,function(o){o||t.arraySkin.forEach(function(t){t.skinConfig.skinId===e.skinId?t.light.active=!0:t.light.active&&(t.light.active=!1)})})},t.prototype.selectSkinDaughterByCfg=function(e){var t=this,o=e.skins[e.skins.length-1];this.reloadChildCurrentSkin(o),e.type!==c.SkinConfig.get_type.free&&-1==this.mySkinsArray.indexOf(e.skinId)||l.GameData.setSkinDaughter(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),t.arraySkin.forEach(function(t){t.skinConfig.skinId===e.skinId?t.light.active=!0:t.light.active&&(t.light.active=!1)}))})},t.prototype.selectShoeDaughterByCfg=function(e){var t=this,o=e.skins[e.skins.length-1];this.reloadChildCurrentSkin(null,void 0,o),-1!=this.mySkinsArray.indexOf(e.skinId)&&l.GameData.setShoeDaughter(o,function(o){o||t.arraySkin.forEach(function(t){t.skinConfig.skinId===e.skinId?t.light.active=!0:t.light.active&&(t.light.active=!1)})})},t.prototype.selectPinByCfg=function(e){var t=this,o=e.skins[e.skins.length-1];this.reloadPinCurrentSkin(o),-1!=this.mySkinsArray.indexOf(e.skinId)&&l.GameData.setCurrentPin(o,function(o){o||t.arraySkin.forEach(function(t){t.skinConfig.skinId===e.skinId?t.light.active=!0:t.light.active&&(t.light.active=!1)})})},t.prototype.addSkinDaughter=function(e,t){e.skeletonData.getRuntimeData().findSkin("Temp")&&e.skeletonData.getRuntimeData().skins.pop();var o=e.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinDaughter),n=new sp.spine.Skin("Temp"),i=e.skeletonData.getRuntimeData().findSkin(t);n.addSkin(i),n.addSkin(o),e.skeletonData.getRuntimeData().skins.push(n),e.setSkin(n.name)},t.prototype.reloadChildCurrentSkin=function(e,t,o){var n;this.skeletonDaughter.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeletonDaughter.skeletonData.getRuntimeData().skins.pop();var i=new sp.spine.Skin("Temp");if(e?(n=this.skeletonDaughter.skeletonData.getRuntimeData().findSkin(e),e==c.SkinConfig.arraySkinBoss[0].skins[0]&&this.addSkin(i,p.ItemSkinLevel.getSkinName(p.ItemLevelSkin.GLOVES),this.skeletonDaughter)):(n=this.skeletonDaughter.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinDaughter),l.GameData.currentSkinDaughter==c.SkinConfig.arraySkinBoss[0].skins[0]&&this.addSkin(i,p.ItemSkinLevel.getSkinName(p.ItemLevelSkin.GLOVES),this.skeletonDaughter)),i.addSkin(n),t){var a=t;this.addSkin(i,a,this.skeletonDaughter),t==c.SkinConfig.arrayHatBoss[0].skins[0]&&this.addSkin(i,p.ItemSkinLevel.getSkinName(p.ItemLevelSkin.HAT),this.skeletonDaughter)}else a=l.GameData.currentHatDaughter,this.addSkin(i,a,this.skeletonDaughter),l.GameData.currentHatDaughter&&l.GameData.currentHatDaughter!=c.SkinConfig.arrayHatDaughter[0].skins[0]||this.addSkin(i,l.GameData.currentEarDaughter,this.skeletonDaughter);o?(a=o,this.addSkin(i,a,this.skeletonDaughter)):(a=l.GameData.currentShoeDaughter,this.addSkin(i,a,this.skeletonDaughter)),this.skeletonDaughter.skeletonData.getRuntimeData().skins.push(i),this.skeletonDaughter.setSkin(i.name)},t.prototype.reloadMomCurrentSkin=function(e,t,o){var n;this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop(),n=e?this.skeleton.skeletonData.getRuntimeData().findSkin(e):this.skeleton.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinBoss);var i=new sp.spine.Skin("Temp");if(i.addSkin(n),t){var a=t;this.addSkin(i,a,this.skeleton)}else a=l.GameData.currentHatBoss,this.addSkin(i,a,this.skeleton);o?(a=o,this.addSkin(i,a,this.skeleton)):(a=l.GameData.currentShoeBoss,this.addSkin(i,a,this.skeleton));var r=this.skeleton.skeletonData.getRuntimeData().findSkin(l.GameData.currentScarfBoss);r&&e==c.SkinConfig.arraySkinBoss[0].skins[0]&&i.addSkin(r),this.skeleton.skeletonData.getRuntimeData().skins.push(i),this.skeleton.setSkin(i.name)},t.prototype.reloadPinCurrentSkin=function(e){var t=this;if(e){var o="HomeIsland/Sprites/Skin/Pin/"+e;d.ResUtil.loadSprite(o,function(e){var o=new cc.SpriteFrame;o.setTexture(e),t.pinSprite.spriteFrame=o})}},t.prototype.addSkin=function(e,t,o){var n=o.skeletonData.getRuntimeData().findSkin(t);n&&e.addSkin(n)},t.prototype.watchReceiveCoins=function(){g.default.instance.rewardType="receiveCoinsSKin",g.default.instance.effectSoundState=f.default.EffectEnable,g.default.instance.musicSoundState=f.default.MusicEnable,g.default.instance.GDShowRewardedAd()},a([C(sp.Skeleton)],t.prototype,"skeleton",void 0),a([C(sp.Skeleton)],t.prototype,"skeletonDaughter",void 0),a([C(cc.Sprite)],t.prototype,"pinSprite",void 0),a([C(cc.Node)],t.prototype,"btnSkin",void 0),a([C(cc.Node)],t.prototype,"container",void 0),a([C(cc.Prefab)],t.prototype,"rowPrefab",void 0),a([C(cc.Prefab)],t.prototype,"skinPrefab",void 0),a([C([u.default])],t.prototype,"buttonActive",void 0),a([C(cc.Node)],t.prototype,"buttonPinSkin",void 0),a([C(cc.Node)],t.prototype,"buttonOutfit",void 0),a([C(sp.SkeletonData)],t.prototype,"defaultSkeleton",void 0),a([C(sp.SkeletonData)],t.prototype,"defaultSkeletonDaughter",void 0),a([b],t)}(cc.Component);o.default=S,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../ResUtil":"ResUtil","../base/GameDistribution":"GameDistribution","../base/audio/AudioManager":"AudioManager","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","../config/ItemLevelSkin":"ItemLevelSkin","../config/SkinConfig":"SkinConfig","../ui/ButtonActive":"ButtonActive","./SkinItem":"SkinItem"}],SlotsSpineDuplicate:[function(e,t,o){"use strict";cc._RF.push(t,"3f81cx9dWdGVJ9YoRqMkiNl","SlotsSpineDuplicate");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../custom/SyncPosition"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ske=null,t.once=!0,t._skeletonClone=null,t.isDaughter=!1,t}return i(t,e),t.prototype.start=function(){this.setAlpha(!1);var e=new cc.Node("DUP");this.node.parent.addChild(e),e.scale=this.ske.node.scale,this.node.scaleX<0&&(e.scaleX=-e.scaleX);var t=e.addComponent(sp.Skeleton);e.addComponent(r.default).target=this.ske.node,t.skeletonData=this.ske.skeletonData,t.defaultSkin="default",t.animation=this.ske.animation,this.isDaughter&&(this.dup("hand_1",t,this.ske),this.dup("arm_1",t,this.ske),this.dup("forearrm_1",t,this.ske)),this._skeletonClone=t,this.make_spine_anim_mixing(this._skeletonClone)},t.prototype.make_spine_anim_mixing=function(e,t){if(void 0===t&&(t=.3),!e)return null;var o=new sp.spine.AnimationStateData(e.skeletonData.getRuntimeData());return o.defaultMix=t,e.setAnimationStateData(o),o},t.prototype.dup=function(e,t,o){var n=o.findSlot(e),i=t.findSlot(e);if(n&&i){var a=n.getAttachment();return i.setAttachment(a),a}},t.prototype.get_local_position=function(e,t){if(!e||!t||!e.parent)return e.position;var o=t.convertToWorldSpaceAR(cc.v3());return e.parent.convertToNodeSpaceAR(o)},t.prototype.set_position=function(e,t){e.setPosition(this.get_local_position(e,t))},t.prototype.next_anim=function(e,t){void 0===t&&(t=!1),this._skeletonClone&&this._skeletonClone.setAnimation(0,e,t)},t.prototype.addAnimation=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=0),this._skeletonClone&&this._skeletonClone.addAnimation(0,e,t,o)},t.prototype.onDisable=function(){this.setAlpha(!0)},t.prototype.setAlpha=function(e){void 0===e&&(e=!1)},t.prototype.update=function(){},a([l(sp.Skeleton)],t.prototype,"ske",void 0),a([l(cc.Boolean)],t.prototype,"isDaughter",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../custom/SyncPosition":"SyncPosition"}],SmokeGO:[function(e,t,o){"use strict";cc._RF.push(t,"2d1deLpUf1Ik7qr/J03Wp2m","SmokeGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.body=null,t.force=700,t}return i(t,e),t.prototype.update=function(){var e=this.force/10*Math.random(),t=this.force*Math.random();this.body.applyForceToCenter(cc.v2(e,t),!0)},a([s(cc.RigidBody)],t.prototype,"body",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],SnowGO:[function(e,t,o){"use strict";cc._RF.push(t,"114d3NpwDFJL7EK1S8sR0Cw","SnowGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../level/MapLevel"),s=e("../../config/PhysicsConfig"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.icePrefab=null,t.available=!0,t}return i(t,e),t.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"snow")},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0;var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},t.prototype.transformToRock=function(){var e=c.default.instance.rockContainer,t=cc.instantiate(this.icePrefab);t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),t.parent=e,this.node.destroy()},t.prototype.onCollisionEnter=function(e){this.available&&(e.node.group!==r.GroupConfig.WATER&&e.node.group!==r.GroupConfig.ROCK||(this.available=!1,this.transformToRock()))},a([p(cc.Node)],t.prototype,"border",void 0),a([p(cc.Node)],t.prototype,"drop",void 0),a([p(cc.Prefab)],t.prototype,"icePrefab",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../level/MapLevel":"MapLevel"}],SpawnPrefabs:[function(e,t,o){"use strict";cc._RF.push(t,"d9275DJsClJA4rg2fxzAaiL","SpawnPrefabs");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Element=null,t.number=0,t}return i(t,e),Object.defineProperty(t.prototype,"spawn",{get:function(){return!1},set:function(e){e&&this.spawning()},enumerable:!1,configurable:!0}),t.prototype.spawning=function(){},a([s(cc.Prefab)],t.prototype,"Element",void 0),a([s],t.prototype,"number",void 0),a([s()],t.prototype,"spawn",null),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],Specular_gloss:[function(e,t,o){"use strict";cc._RF.push(t,"26ce18YhvJAEKbOdo6n4vX0","Specular_gloss");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=r.requireComponent,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mat=null,t.width=.2,t.strength=1.5,t.speed=1,t.lerper=.2,t}return i(t,e),t.prototype.onLoad=function(){this._sprite_=this.node.getComponent(cc.Sprite);var e=cc.MaterialVariant.create(this.mat,this._sprite_);e.setProperty("width",this.width),e.setProperty("strength",this.strength),e.setProperty("timer",this.speed),e.setProperty("lerper",this.lerper),this._sprite_.setMaterial(0,e)},a([s({type:cc.Material})],t.prototype,"mat",void 0),a([s({min:0,max:1})],t.prototype,"width",void 0),a([s({})],t.prototype,"strength",void 0),a([s({})],t.prototype,"speed",void 0),a([s({})],t.prototype,"lerper",void 0),a([c,l(cc.Sprite)],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],StickHold:[function(e,t,o){"use strict";cc._RF.push(t,"ac6a0Le9y5BMIU4IVuP9T0u","StickHold");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.StickHoldType=void 0;var r,c=e("../../config/GroupConfig"),s=e("../../base/utils/GUIUtil"),l=e("../../base/ColliderCallback"),u=cc.easeInOut,p=cc.easeOut,d=e("../../GameData"),f=e("../../MainScene"),h=e("../../config/AudioPlayId"),y=e("../../config/SkinConfig"),g=e("../../config/GlobalSignals"),_=e("../../config/TagObject"),v=cc._decorator,m=v.ccclass,b=v.property;(function(e){e[e.FREE=0]="FREE",e[e.SLIDER=1]="SLIDER"})(r=o.StickHoldType||(o.StickHoldType={}));var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stickHoldType=r.FREE,t.points=[],t.headCollider=null,t._active=!0,t.headRootPos=null,t.holdCallback=null,t.activeStickBonus=null,t.isBonus=!1,t.isBlink=!1,t.fxBonusCoin=null,t.coinBonus=0,t}return i(t,e),t.prototype.onLoad=function(){this.getSkin();var e=this.getComponent(cc.PhysicsCircleCollider),t=this.getComponent(cc.PhysicsBoxCollider),o=this.getComponent(cc.BoxCollider),n=this.node.width-2*e.radius;o.size.height+=8,o.size.width=this.node.width-10,t.size.width=n;var i=2*e.radius+n/2;if(t.offset.x=-i,o.offset.x=-n/2-e.radius,this.stickHoldType===r.SLIDER&&(this.p0=this.points[0].position,this.p1=this.points[1].position,this.p0.x+=this.node.x,this.p0.y+=this.node.y,this.p1.x+=this.node.x,this.p1.y+=this.node.y),this.headCollider&&this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.isBonus){this.fxBonusCoin.active=!1,this.node.parent.getComponentInChildren(cc.Label).string=this.coinBonus.toString();var a=Math.abs(this.node.parent.angle%360);this.node.parent.angle<0?this.fxBonusCoin.angle=360+a:this.fxBonusCoin.angle=360-a}this.isBlink&&cc.tween(this.node.children[0]).sequence(cc.tween(this.node.children[0]).to(.4,{opacity:255},{easing:"quadIn"}),cc.tween(this.node.children[0]).to(.4,{opacity:0},{easing:"quadOut"})).repeat(2).start()},t.prototype.onEnable=function(){this.headRootPos=this.node.position},t.prototype.onClick=function(){var e=this;if(this._active)if(this._active=!1,this.stickHoldType===r.FREE)g.GlobalSignals.successStep.dispatch(),f.default.instance.audioPlayer.playAudio(h.AudioPlayId.stick_move),(n=this.node.position).x+=2e3,this.isBonus&&(this.fxBonusCoin.active=!0,cc.tween(this.fxBonusCoin).to(1,{opacity:0}).start()),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:n},u(2)).call(function(){e.holdCallback&&e.holdCallback(e),e.activeStickBonus&&e.activeStickBonus(e)}).start();else if(this.stickHoldType===r.SLIDER){var t=this.node,o=s.default.getDistancePoints(t.position,this.p0),n=s.default.getDistancePoints(t.position,this.p1)>o?this.p1:this.p0;cc.Tween.stopAllByTarget(t),cc.tween(t).to(.6,{position:n}).call(function(){e.holdCallback&&e.holdCallback(e),e._active=!0}).start()}},t.prototype.onHeadCollider=function(e){var t=this;if(e.node.group===c.GroupConfig.BERRIE&&e.node!=this.node&&e.node.name!=_.TagConfig.GROUND){var o=this.node;f.default.instance.audioPlayer.playAudio(h.AudioPlayId.stick_block),this.scheduleOnce(function(){cc.Tween.stopAllByTarget(o),cc.tween(o).to(.5,{position:t.headRootPos},p(1)).call(function(){t._active=!0}).start()},.01)}},t.prototype.setHoldCallback=function(e){this.holdCallback=e},t.prototype.setActiveStickBonusCallback=function(e){this.activeStickBonus=e},t.prototype.onCollisionEnter=function(e){e.node.group===c.GroupConfig.TOUCH&&this.onClick()},t.prototype.getSkin=function(){var e,t=this,o=this.node.width;e=this.isBonus?"sprites/main/barrie/Pin Blue":d.GameData.currentPinSkin==y.SkinConfig.arrayPinSkin[0].skinId?"HomeIsland/Sprites/Pin/home_pin_stickbarrie":"HomeIsland/Sprites/Skin/PinGamePlay/"+d.GameData.currentPinSkin,cc.resources.load(e,cc.SpriteFrame,function(e,n){t.node.getComponent(cc.Sprite).spriteFrame=n,t.node.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,t.node.width=o})},a([b({type:cc.Enum(r)})],t.prototype,"stickHoldType",void 0),a([b({type:[cc.Node],visible:function(){return this.stickHoldType===r.SLIDER}})],t.prototype,"points",void 0),a([b(l.default)],t.prototype,"headCollider",void 0),a([b(cc.Boolean)],t.prototype,"isBonus",void 0),a([b(cc.Boolean)],t.prototype,"isBlink",void 0),a([b({type:cc.Node,visible:function(){return this.isBonus}})],t.prototype,"fxBonusCoin",void 0),a([b({type:cc.Integer,visible:function(){return this.isBonus}})],t.prototype,"coinBonus",void 0),a([m],t)}(cc.Component);o.default=C,cc._RF.pop()},{"../../GameData":"GameData","../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../base/utils/GUIUtil":"GUIUtil","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/SkinConfig":"SkinConfig","../../config/TagObject":"TagObject"}],StringUtil:[function(e,t,o){"use strict";cc._RF.push(t,"bfe30UxyK5LBZkfVpU92f7E","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtil=void 0;var n=function(){function e(){}return e.toKMBString=function(e){var t="";return e<0&&(t+="-",e=-e),e>=this.ONE_BILLION?t+=Math.floor(100*e/this.ONE_BILLION)/100+"B":e>=this.ONE_MILLION?t+=Math.floor(100*e/this.ONE_MILLION)/100+"M":e>=this.ONE_THOUSAND?t+=Math.floor(100*e/this.ONE_THOUSAND)/100+"K":t+=e,t},e.preprocessingMoney=function(t){t=parseInt(t+"");var o=Math.abs(t)+"",n=e.preprocessingString(o);return t<0&&(n="-"+n),n},e.preprocessingString=function(e){if(e.length<4)return e+"";for(var t="",o=1,n=0;n<e.length;n++)t=e[e.length-1-n]+t,o%3==0&&o!==e.length&&(t=","+t),o++;return t},e.preprocessingMoneyWithK=function(e){return e<1e3?e+"":e>=1e6?this.preprocessingMoney(e/1e3)+"K":e/1e3+"K"},e.toMoneyResultString=function(e){var t="";return e>0?t+="+":e<0&&(t+="-",e=-e),e>=this.ONE_BILLION?t+=Math.floor(100*e/this.ONE_BILLION)/100+"B":e>=this.ONE_MILLION?t+=Math.floor(100*e/this.ONE_MILLION)/100+"M":e>=this.ONE_THOUSAND?t+=Math.floor(100*e/this.ONE_THOUSAND)/100+"K":t+=e,t},e.processTimeNumber=function(e){var t=Math.abs(e)+"";return t.length<=1?"0"+t:t},e.preprocessSignMoney=function(e){return e>0?"+"+this.preprocessingMoney(e):this.preprocessingMoney(e)},e.getDateOnly=function(e){return isNaN(Date.parse(e))?e:e.split(" ")[0]},e.parseNumberSecondToClock=function(e){if(e<=0)return"00:00:00";var t=Math.floor(e/3600);e%=3600;var o=Math.floor(e/60),n=e%60;return(t<10?"0"+t:""+t)+":"+(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},e.ONE_BILLION=1e9,e.ONE_MILLION=1e6,e.ONE_THOUSAND=1e3,e}();o.StringUtil=n,cc._RF.pop()},{}],SyncPosition:[function(e,t,o){"use strict";cc._RF.push(t,"d5afeqvQhhOH4fchDTN5X/g","SyncPosition");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=(r.executeInEditMode,r.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.yAxis=!1,t}return i(t,e),t.prototype.preException=function(){},t.prototype.update=function(){this.sync()},t.prototype.sync=function(){if(this.yAxis){var e=this.target.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(cc.v3(0,e.y,0)))}else e=this.target.convertToWorldSpaceAR(cc.Vec3.ZERO),this.node.setPosition(this.node.parent.convertToNodeSpaceAR(this.target.convertToWorldSpaceAR(cc.Vec3.ZERO)))},a([s({type:cc.Node})],t.prototype,"target",void 0),a([s()],t.prototype,"yAxis",void 0),a([c],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],TagObject:[function(e,t,o){"use strict";cc._RF.push(t,"2f711BbpIFCeLUhgrTNsc6d","TagObject");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.TagConfig=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(e){e[e.NONE=0]="NONE",e[e.BOSS=1]="BOSS",e[e.BOSS_STICK=2]="BOSS_STICK",e[e.GIRL=3]="GIRL",e[e.GIRL_WONDER=4]="GIRL_WONDER",e[e.BOSS_SUPER=5]="BOSS_SUPER",e[e.GEMS=99]="GEMS",e[e.LAVA=100]="LAVA",e[e.WATER=101]="WATER",e[e.SNOW=102]="SNOW",e[e.ROCK=103]="ROCK",e[e.BIG_ROCK=104]="BIG_ROCK",e[e.ICE=105]="ICE",e[e.GAS=106]="GAS",e[e.BOMB=107]="BOMB",e[e.SAW=108]="SAW",e[e.POW=109]="POW",e[e.TRAP=110]="TRAP",e[e.BULLET=111]="BULLET",e[e.FIRE_BALL=112]="FIRE_BALL",e[e.HOLY_WATER=113]="HOLY_WATER",e[e.LAZE=114]="LAZE",e[e.SMOKE=115]="SMOKE",e[e.CHARCOAL=116]="CHARCOAL",e[e.COIN=118]="COIN",e[e.ROCK_BUILD=119]="ROCK_BUILD",e[e.KEY=150]="KEY",e[e.MONEY_BAG=151]="MONEY_BAG",e[e.MILK=152]="MILK",e[e.SCAFT=154]="SCAFT",e[e.GLOVES=155]="GLOVES",e[e.HAT=156]="HAT",e[e.SHIRT=157]="SHIRT",e[e.SHOE=158]="SHOE",e[e.LIFEBOUY=159]="LIFEBOUY",e[e.IP=160]="IP",e[e.HEAD_SNOW=161]="HEAD_SNOW",e[e.GIFT_BOX=162]="GIFT_BOX",e[e.PUZZLE=163]="PUZZLE",e[e.COCO=164]="COCO",e[e.APPLE=165]="APPLE",e[e.CARD=166]="CARD",e[e.CARD_DEFAULT=167]="CARD_DEFAULT",e[e.PICK_EXE=168]="PICK_EXE",e[e.MIRROR=169]="MIRROR",e[e.BROOM=170]="BROOM",e[e.STEALER=200]="STEALER",e[e.DEMON=201]="DEMON",e[e.BIGFOOT=202]="BIGFOOT",e[e.DRAGON=203]="DRAGON",e[e.DOG=204]="DOG",e[e.SHOOTER=205]="SHOOTER",e[e.CHEST=299]="CHEST",e[e.ITEM=300]="ITEM",e[e.STICK=301]="STICK",e[e.MEAT=302]="MEAT",e[e.REDIRECT_LEFT=303]="REDIRECT_LEFT",e[e.REDIRECT_RIGHT=304]="REDIRECT_RIGHT",e[e.REDIRECT_STOP=305]="REDIRECT_STOP",e[e.HIT=1e3]="HIT",e[e.GROUND=2e3]="GROUND"})(r=o.TagConfig||(o.TagConfig={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tag=r.NONE,t.tag2=r.NONE,t}return i(t,e),t.prototype.onLoad=function(){this.node.name=""+this.tag},t.prototype.setTag=function(e){this.tag=e,this.node.name=""+this.tag},t.prototype.setTag2=function(e){this.tag2=e},a([l({type:cc.Enum(r)})],t.prototype,"tag",void 0),a([l({type:cc.Enum(r)})],t.prototype,"tag2",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],Task:[function(e,t,o){"use strict";cc._RF.push(t,"48773qwl0FBG4Q1DVTbXLY/","Task"),Object.defineProperty(o,"__esModule",{value:!0}),o.TaskManager=o.Task=void 0;var n=function(){function e(e){this._callback=e}return e.prototype.completed=function(){this._completeCallback&&this._completeCallback()},e}();o.Task=n;var i=function(){function e(){this.tasks=[]}return e.prototype.addTask=function(e){this.tasks.push(e)},e.prototype.run=function(e,t){var o=this;if(0!==this.tasks.length){var n=this.tasks.length;e(0,n);for(var i=function(t){a.tasks[t]._completeCallback=function(){e(t+1,n),o.tasks[t+1]._callback()}},a=this,r=0;r<n-1;r++)i(r);this.tasks[n-1]._completeCallback=function(){e(n,n),t()},this.tasks[0]._callback()}else t()},e}();o.TaskManager=i,cc._RF.pop()},{}],TestPhysics:[function(e,t,o){"use strict";cc._RF.push(t,"7047dYKXU1Dt6HAam9U89Vs","TestPhysics");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onClick=function(){cc.tween(this.node).by(.1,{position:new cc.Vec3(700,0,0)}).start()},a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],TestSkeleton:[function(e,t,o){"use strict";cc._RF.push(t,"e04b2/qKM9HOLZ/xuDYNMPc","TestSkeleton");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t}return i(t,e),t.prototype.changeSkin=function(){this.skeleton.setSkin("Boss0/Stick"),this.skeleton.setSlotsToSetupPose(),this.skeleton.setAnimation(0,"Idle",!0)},t.prototype.onEnable=function(){cc.log("TestSkeleton")},a([s(sp.Skeleton)],t.prototype,"skeleton",void 0),a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ToastReward:[function(e,t,o){"use strict";cc._RF.push(t,"e3b8cf5NOVAqZVszbj4A2Y4","ToastReward");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc.easeBackOut,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return i(t,e),t.prototype.show=function(e,t){var o=this;e<0?cc.warn("Reward = "+e):(this.label.string="+"+e,this.node.active=!0,this.node.opacity=0,this.node.scale=.4,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{opacity:255,scale:1},r()).delay(t).call(function(){o.hide()}).start())},t.prototype.hide=function(){var e=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.1,{opacity:0}).call(function(){e.node.active=!1}).start()},a([l(cc.Label)],t.prototype,"label",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],ToggleSliderGroup:[function(e,t,o){"use strict";cc._RF.push(t,"4e0b2j91yNIqqpERehDI5ZE","ToggleSliderGroup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./ToggleSlider"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleOn=null,t.toggleOff=null,t.isOn=!0,t.onClickCallback=null,t}return i(t,e),t.prototype.toggle=function(){this.setToggleState(!this.isOn)},t.prototype.setToggleState=function(e,t){void 0===t&&(t=!0),this.isOn=e,this.toggleOn.setToggleState(e,t),this.toggleOff.setToggleState(!e,t),this.onClickCallback&&this.onClickCallback(e)},t.prototype.setOnClickCallback=function(e){this.onClickCallback=e},a([l(r.default)],t.prototype,"toggleOn",void 0),a([l(r.default)],t.prototype,"toggleOff",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./ToggleSlider":"ToggleSlider"}],ToggleSlider:[function(e,t,o){"use strict";cc._RF.push(t,"3df517scY9F7pmGd1WW8uMz","ToggleSlider");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p1=new cc.Vec3,t.p2=new cc.Vec3,t.isOn=!1,t}return i(t,e),t.prototype.toggle=function(){this.setToggleState(!this.isOn)},t.prototype.setToggleState=function(e,t){void 0===t&&(t=!0),this.isOn=e,this.node.active=!!e},a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],TouchManager:[function(e,t,o){"use strict";cc._RF.push(t,"dc0adXk/RtCCZVCopuiIlm/","TouchManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../level/MapLevel"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touchCollision=null,t.moving=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.onDestroy=function(){o._instance=null},t.prototype.onEnable=function(){this.enableTouch()},t.prototype.onDisable=function(){this.disableTouch()},t.prototype.onMouseDown=function(e){r.default.instance&&r.default.instance.isPlaying?(this.moving=!0,this.touchCollision.active=!0,this.touchCollision.position=this.node.convertToNodeSpaceAR(e.getLocation())):this.reset()},t.prototype.onMouseMove=function(e){this.moving&&(this.touchCollision.position=this.node.convertToNodeSpaceAR(e.getLocation()))},t.prototype.onMouseUp=function(){this.reset()},t.prototype.reset=function(){this.moving=!1,this.touchCollision.active=!1},t.prototype.disableTouch=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.off(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},t.prototype.enableTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},t._instance=null,a([l(cc.Node)],t.prototype,"touchCollision",void 0),o=a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../level/MapLevel":"MapLevel"}],UIController:[function(e,t,o){"use strict";cc._RF.push(t,"f3b9aq19AtO4qv/6GznHKk3","UIController");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UINode=[],t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,this.onUINode()},t.prototype.offUINode=function(){this.UINode.forEach(function(e){e&&(e.active=!1)})},t.prototype.onUINode=function(){this.UINode&&this.UINode.forEach(function(e){e&&(e.active=!0)})},t._instance=null,a([s([cc.Node])],t.prototype,"UINode",void 0),o=a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],UpgradeBuilding:[function(e,t,o){"use strict";cc._RF.push(t,"0cbfe+6uCxFuJ+c0Ic/MrmR","UpgradeBuilding");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../GameData"),c=e("../../base/anim/OpacityAnim"),s=e("../../config/GlobalSignals"),l=e("./IslandConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.upgradeCost=null,t.minMoney=null,t.star=null,t.arrow=null,t.btnUpgrade=null,t}return i(t,e),t.prototype.onEnable=function(){s.GlobalSignals.updateBuildButton.add(this.refreshButton.bind(this))},t.prototype.onDisable=function(){s.GlobalSignals.updateBuildButton.remove(this.refreshButton.bind(this))},t.prototype.init=function(e){if(e>l.IslandConfig.upgradeCost.length-1)this.node.active=!1;else{this.upgradeCost.string=l.IslandConfig.upgradeCost[e].toString(),this.minMoney.string="+"+l.IslandConfig.minMoney[e].toString()+" ";for(var t=this.star.children,o=0;o<t.length;o++)if(t[o].opacity=255,cc.Tween.stopAllByTarget(t[o]),o<=e&&(t[o].active=!0,o==e)){t[o].addComponent(c.default);break}this.refreshButton()}},t.prototype.refreshButton=function(){r.GameData.playerCoin<=parseInt(this.upgradeCost.string)?this.btnUpgrade.active=!1:this.btnUpgrade.active=!0},a([d(cc.Label)],t.prototype,"upgradeCost",void 0),a([d(cc.Label)],t.prototype,"minMoney",void 0),a([d(cc.Node)],t.prototype,"star",void 0),a([d(cc.Node)],t.prototype,"arrow",void 0),a([d(cc.Node)],t.prototype,"btnUpgrade",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../GameData":"GameData","../../base/anim/OpacityAnim":"OpacityAnim","../../config/GlobalSignals":"GlobalSignals","./IslandConfig":"IslandConfig"}],Utf8:[function(e,t,o){"use strict";cc._RF.push(t,"3334eM32qZDoa95PQXWOPUh","Utf8"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8=void 0;var n=e("./Latin1"),i=function(){function e(){}return e.stringify=function(e){try{return decodeURIComponent(escape(n.Latin1.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},e.parse=function(e){return n.Latin1.parse(unescape(encodeURIComponent(e)))},e}();o.Utf8=i,cc._RF.pop()},{"./Latin1":"Latin1"}],WallBreak:[function(e,t,o){"use strict";cc._RF.push(t,"168f6nACllB+ZR9a7SRaEXR","WallBreak");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/TagObject"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bumPrefab=null,t}return i(t,e),t.prototype.onCollisionEnter=function(e){e.node.group!==r.GroupConfig.COLLIDER||e.node.name==c.TagConfig.BOMB&&(this.node.active=!1)},t.prototype.showBum=function(){cc.instantiate(this.bumPrefab)},a([u(cc.Prefab)],t.prototype,"bumPrefab",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject"}],WaterGO:[function(e,t,o){"use strict";cc._RF.push(t,"e8ed1MjmJVIJ6/Y/dlAHXfS","WaterGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GroupConfig"),c=e("../../config/TagObject"),s=e("../../config/AudioPlayId"),l=e("../../level/MapLevel"),u=e("../../MainScene"),p=e("../../config/PhysicsConfig"),d=e("../homePin2/ContainType"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.rockPrefab=null,t.icePrefab=null,t.charcoalPrefab=null,t.available=!0,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){p.PhysicsConfig.initPhysicConfig(this.node,"water")},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0;var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.transformToRock=function(e){var t=l.default.instance.rockContainer,n=cc.instantiate(e);if(n.setSiblingIndex(this.node.getSiblingIndex()),n.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),n.parent=t,this.node.destroy(),l.default.instance.container)switch(l.default.instance.container.containType){case d.ContainType.SINK:break;case d.ContainType.STOVE:l.default.instance.countWaterDestroyed++;break;case d.ContainType.SHOWER:case d.ContainType.CHIMNEY:break;default:l.default.instance.countWaterDestroyed++}!o.isTransform&&l.default.instance.isPlaying&&(u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water),o.isTransform=!0)},t.prototype.onCollisionEnter=function(e){var t=this;if(this.available){if(e.node.group===r.GroupConfig.BERRIE)return o.colliderBarrieCount++,void(3===o.colliderBarrieCount&&(u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)));if(e.node.group!==r.GroupConfig.COLLIDER){var n=null;switch(e.node.group){case r.GroupConfig.ROCK:e.node.name==c.TagConfig.ROCK?n=this.rockPrefab:e.node.name==c.TagConfig.ICE?n=this.icePrefab:e.node.name==c.TagConfig.CHARCOAL&&(n=this.charcoalPrefab);break;case r.GroupConfig.LAVA:n=this.charcoalPrefab;break;case r.GroupConfig.SNOW:n=this.icePrefab}n&&(this.available=!1,this.scheduleOnce(function(){t.transformToRock(n)},.2))}else if(e.node.name==c.TagConfig.BOMB){var i=e.node.getComponent(c.default).tag2;if(i==c.TagConfig.GROUND){var a=cc.v2(this.node.position.x,this.node.position.y);return a=cc.v2(1e5*a.x,1e5*a.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(a,!0)}if(i==c.TagConfig.NONE)return l.default.instance.countWaterDestroyed++,void(this.node.active=!1)}}},t.isTransform=!1,t.colliderBarrieCount=0,a([y(cc.Node)],t.prototype,"border",void 0),a([y(cc.Node)],t.prototype,"drop",void 0),a([y(cc.Prefab)],t.prototype,"rockPrefab",void 0),a([y(cc.Prefab)],t.prototype,"icePrefab",void 0),a([y(cc.Prefab)],t.prototype,"charcoalPrefab",void 0),o=a([h],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../homePin2/ContainType":"ContainType"}],WaterSplash:[function(e,t,o){"use strict";cc._RF.push(t,"54813b5CjZOnIt4nTEwsJDR","WaterSplash");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../config/GlobalSignals"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){this._disableNode=this.disableNode.bind(this),r.GlobalSignals.questPassSignal.add(this._disableNode)},t.prototype.disableNode=function(){this.node.active=!1},t.prototype.onDisable=function(){this.node.destroyAllChildren()},a([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals"}],WinCallBack:[function(e,t,o){"use strict";cc._RF.push(t,"cc322euro5JELKnJjxL1uPI","WinCallBack");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./base/ColliderCallback"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collider=null,t.target=null,t.isQuantity=!1,t.quantityWin=0,t.quantityCheck=0,t.isCalled=!1,t.callbackWin=null,t}return i(t,e),t.prototype.onEnable=function(){this.collider.setColliderCallback(this.checkWin.bind(this))},t.prototype.setCallback=function(e){this.callbackWin=e},t.prototype.checkWin=function(e){this.isCalled||e.node.name==this.target.name&&(this.isQuantity?(this.quantityCheck++,this.quantityCheck>=this.quantityWin&&(this.callbackWin(),this.isCalled=!0)):(this.callbackWin(),this.isCalled=!0))},a([l(r.default)],t.prototype,"collider",void 0),a([l(cc.Node)],t.prototype,"target",void 0),a([l()],t.prototype,"isQuantity",void 0),a([l({type:cc.Integer,visible:function(){return this.isQuantity}})],t.prototype,"quantityWin",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./base/ColliderCallback":"ColliderCallback"}],WinNodeCallBack:[function(e,t,o){"use strict";cc._RF.push(t,"5051azf7GBEmbqFH5bYY4cO","WinNodeCallBack");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.CaseNode=void 0;var r,c=e("../config/GlobalSignals"),s=cc._decorator,l=s.ccclass,u=s.property;(function(e){e[e.NONE=0]="NONE",e[e.ACTIVE_NODE=1]="ACTIVE_NODE",e[e.PLAY_ANIM=2]="PLAY_ANIM",e[e.FADE_OUT=3]="FADE_OUT",e[e.MOVING=4]="MOVING"})(r=o.CaseNode||(o.CaseNode={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nodeActive=!1,t._playAnim=!1,t._arr={_nodeActive:t._nodeActive,_playAnim:t._playAnim},t._keys=Object.keys(t._arr),t.cases=r.NONE,t.isActive=!1,t.activeNode=null,t.callbackEvent=new cc.Component.EventHandler,t.isSpine=!1,t.animation="",t.isLoopAnim=!1,t.positionBy=cc.v2(0),t}return i(t,e),t.prototype.onEnable=function(){this._callbackFunc=this.callback.bind(this),c.GlobalSignals.questPassSignal.add(this._callbackFunc)},t.prototype.callback=function(){var e=this;switch(this.cases){case r.NONE:break;case r.ACTIVE_NODE:this.activeNode.active=this.isActive;break;case r.FADE_OUT:cc.tween(this.activeNode).to(.3,{opacity:0}).call(function(){e.activeNode.active=e.isActive}).start();break;case r.PLAY_ANIM:if(this.isSpine){this.callbackEvent.target.getComponent(sp.Skeleton).setAnimation(0,this.animation,this.isLoopAnim);break}case r.MOVING:cc.tween(this.activeNode).by(.5,{position:new cc.Vec3(this.positionBy.x,this.positionBy.y)},{easing:"quadIn"}).start()}this.callbackEvent.emit([this.callbackEvent.customEventData])},t.prototype.enableType=function(e){for(var t=0;t<this._keys.length;t++)t==e?(this._arr[this._keys[t]]=!0,this[this._keys[t]]=!0):(this[this._keys[t]]=!1,this._arr[this._keys[t]]=!1)},t.prototype.getType=function(e){return this.cases==e},a([u()],t.prototype,"_nodeActive",void 0),a([u()],t.prototype,"_playAnim",void 0),a([u()],t.prototype,"_arr",void 0),a([u()],t.prototype,"_keys",void 0),a([u({type:cc.Enum(r)})],t.prototype,"cases",void 0),a([u({visible:function(){return this.getType(r.ACTIVE_NODE)}})],t.prototype,"isActive",void 0),a([u({type:cc.Node,visible:function(){return this.getType(r.ACTIVE_NODE)||this.getType(r.FADE_OUT)||this.getType(r.MOVING)}})],t.prototype,"activeNode",void 0),a([u({type:cc.Component.EventHandler,visible:function(){return this.getType(r.PLAY_ANIM)}})],t.prototype,"callbackEvent",void 0),a([u({visible:function(){return this.getType(r.PLAY_ANIM)}})],t.prototype,"isSpine",void 0),a([u({visible:function(){return this.isSpine&&this.getType(r.PLAY_ANIM)}})],t.prototype,"animation",void 0),a([u({visible:function(){return this.isSpine&&this.getType(r.PLAY_ANIM)}})],t.prototype,"isLoopAnim",void 0),a([u({visible:function(){return this.getType(r.MOVING)}})],t.prototype,"positionBy",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals"}],WinPanel:[function(e,t,o){"use strict";cc._RF.push(t,"49d10hGJHpIfIQtdvk9YuUz","WinPanel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=e("../objects/character/Mom/Mom"),s=e("../config/GameConfig"),l=cc.Camera,u=cc.easeOut,p=e("./BgWinPanel"),d=e("./MapLevel"),f=e("../config/GameState"),h=e("../ui/FlyingCoins"),y=e("./UIController"),g=e("../base/SetLabelLanguage"),_=e("../MainScene"),v=e("../base/audio/AudioManager"),m=e("../config/CaseLose"),b=e("../base/GameDistribution"),C=cc._decorator,S=C.ccclass,P=C.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelLabel=null,t.changeCoinLabel=null,t.camera=null,t.cameraScale=1.3,t.winNode=null,t.btnHome=null,t.loseNode=null,t.iconCoin=null,t.coinFlyPrefab=null,t.targetPos=null,t.confeti=null,t}return i(t,e),t.prototype.onLoad=function(){cc.instantiate(this.confeti).parent=this.winNode},t.prototype.onEnable=function(){if(this.levelLabel.string=g.ChangeLanguage.getText("level")+(r.GameData.currentLevelId+1),c.default.instance){var e=this.cameraScale;d.default.instance.isOtherLevel&&(e=this.cameraScale+.5);var t=1/e,o=this.checkTargetFocusCamera(),n=(cc.winSize.height-1280)*t;o.y-=n,_.default.instance.screenManager.setPosFlash(this.node.parent.convertToWorldSpaceAR(o)),this.focusPanelTo(o,t,.3),this.focusCameraTo(o,e,.3),y.default.instance&&this.scheduleOnce(function(){y.default.instance.offUINode()},.1),this.btnHome.active=!0,r.GameData.currentLevelId<5&&(this.btnHome.active=!1)}else cc.log("Boss.instance is null")},t.prototype.checkTargetFocusCamera=function(){var e;return e=c.default.instance.node.position,d.default.instance.isOtherLevel?d.default.instance.isOtherLevel?(e.y+=170,d.default.instance.gameState==f.GameState.LOSE&&(d.default.instance.caseLose!=m.CaseLose.DIE_FOR_HIT||d.default.instance.isQuestSaveHostage||(e.x+=70,e.y-=10)),e):void 0:(e.y+=200,d.default.instance.gameState==f.GameState.LOSE&&d.default.instance.isQuestKillEnemies&&((e=d.default.instance.arrNative[0].position).y+=250,e.x+=10),e)},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.camera),cc.Tween.stopAllByTarget(this.camera.node),this.camera.zoomRatio=1,this.camera.node.position=cc.Vec3.ZERO},t.prototype.showWin=function(){p.default.instance.active(),this.winNode.active=!0,this.loseNode.active=!1,this.node.active=!0,this.showChangeCoin(s.GameConfig.coin_level_up+r.GameData.coinStickBonus)},t.prototype.showLose=function(){p.default.instance.active(),this.winNode.active=!1,this.loseNode.active=!0,this.node.active=!0},t.prototype.hide=function(){p.default.instance&&p.default.instance.deActive(),this.node.active=!1},t.prototype.showChangeCoin=function(e){r.GameData.addCoin(e),this.changeCoinLabel.string="+"+e},t.prototype.loadCoinFly=function(){var e=cc.instantiate(this.coinFlyPrefab),t=this.node.convertToNodeSpaceAR(this.iconCoin.parent.convertToWorldSpaceAR(this.iconCoin.position));e.setPosition(t),e.getComponent(h.default).setTarget(this.targetPos),e.parent=this.node},t.prototype.focusPanelTo=function(e,t,o){void 0===o&&(o=.7),cc.tween(this.node).to(o,{position:e,scale:t},u(5)).start()},t.prototype.focusCameraTo=function(e,t,o){void 0===o&&(o=.7),cc.tween(this.camera).to(o,{zoomRatio:t}).start(),cc.tween(this.camera.node).to(o,{position:e}).start()},t.prototype.onClickShowAdsToReceiveBonus=function(){b.default.instance.rewardType="receiveBonus",b.default.instance.effectSoundState=v.default.EffectEnable,b.default.instance.musicSoundState=v.default.MusicEnable,b.default.instance.GDShowRewardedAd()},t.prototype.onClickShowAdsToSkipLevel=function(){b.default.instance.rewardType="skip",b.default.instance.effectSoundState=v.default.EffectEnable,b.default.instance.musicSoundState=v.default.MusicEnable,b.default.instance.GDShowRewardedAd()},a([P(cc.Label)],t.prototype,"levelLabel",void 0),a([P(cc.Label)],t.prototype,"changeCoinLabel",void 0),a([P(l)],t.prototype,"camera",void 0),a([P(cc.Float)],t.prototype,"cameraScale",void 0),a([P(cc.Node)],t.prototype,"winNode",void 0),a([P(cc.Node)],t.prototype,"btnHome",void 0),a([P(cc.Node)],t.prototype,"loseNode",void 0),a([P(cc.Node)],t.prototype,"iconCoin",void 0),a([P(cc.Prefab)],t.prototype,"coinFlyPrefab",void 0),a([P(cc.Node)],t.prototype,"targetPos",void 0),a([P(cc.Prefab)],t.prototype,"confeti",void 0),a([S],t)}(cc.Component);o.default=k,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/GameDistribution":"GameDistribution","../base/SetLabelLanguage":"SetLabelLanguage","../base/audio/AudioManager":"AudioManager","../config/CaseLose":"CaseLose","../config/GameConfig":"GameConfig","../config/GameState":"GameState","../objects/character/Mom/Mom":"Mom","../ui/FlyingCoins":"FlyingCoins","./BgWinPanel":"BgWinPanel","./MapLevel":"MapLevel","./UIController":"UIController"}],WordArray:[function(e,t,o){"use strict";cc._RF.push(t,"1740aPVA7pFNq+ypDP1ARNo","WordArray"),Object.defineProperty(o,"__esModule",{value:!0}),o.WordArray=void 0;var n=e("../enc/Hex"),i=function(){function e(e,t){this.words=e||[],this.sigBytes=void 0!==t?t:4*this.words.length}return e.random=function(t){for(var o=[],n=function(e){var t=987654321,o=4294967295;return function(){var n=((t=36969*(65535&t)+(t>>16)&o)<<16)+(e=18e3*(65535&e)+(e>>16)&o)&o;return n/=4294967296,(n+=.5)*(Math.random()>.5?1:-1)}},i=0,a=void 0;i<t;i+=4){var r=n(4294967296*(a||Math.random()));a=987654071*r(),o.push(4294967296*r()|0)}return new e(o,t)},e.prototype.toString=function(e){return(e||n.Hex).stringify(this)},e.prototype.concat=function(e){if(this.clamp(),this.sigBytes%4)for(var t=0;t<e.sigBytes;t++){var o=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=o<<24-(this.sigBytes+t)%4*8}else for(t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this},e.prototype.clamp=function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)},e.prototype.clone=function(){return new e(this.words.slice(0),this.sigBytes)},e}();o.WordArray=i,cc._RF.pop()},{"../enc/Hex":"Hex"}],animOpenDecorator:[function(e,t,o){"use strict";cc._RF.push(t,"a0338dy2ANNiqkSudYcBLno","animOpenDecorator");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameData"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mom=null,t.child=null,t}return i(t,e),t.prototype.onEnable=function(){this.mom.setAnimation(0,"Level6/Cold",!0),this.child.setAnimation(0,"Level6/Cold",!0)},t.prototype.onFinishOpenRoom=function(){r.GameData.setShowGuide(!0),this.mom.setAnimation(0,"Level4/Idle",!0),this.child.setAnimation(0,"Level4/Idle",!0)},a([l(sp.Skeleton)],t.prototype,"mom",void 0),a([l(sp.Skeleton)],t.prototype,"child",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData"}],"crypto-ts":[function(e,t,o){"use strict";cc._RF.push(t,"6ad71ENhsBPeYpe5u6RElqq","crypto-ts"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=o.AES=o.mode=o.pad=o.enc=o.algo=o.lib=void 0;var n=e("./lib/WordArray"),i=e("./lib/BlockCipher"),a=e("./lib/CipherParams"),r=e("./lib/Hasher"),c=e("./lib/SerializableCipher"),s=e("./lib/PasswordBasedCipher");o.lib={BlockCipher:i.BlockCipher,WordArray:n.WordArray,CipherParams:a.CipherParams,Hasher:r.Hasher,SerializableCipher:c.SerializableCipher,PasswordBasedCipher:s.PasswordBasedCipher};var l=e("./algo/AES"),u=e("./algo/SHA256");o.algo={AES:l.AES,SHA256:u.SHA256};var p=e("./enc/Utf8"),d=e("./enc/Hex");o.enc={Utf8:p.Utf8,Hex:d.Hex};var f=e("./pad/NoPadding"),h=e("./pad/PKCS7");o.pad={NoPadding:f.NoPadding,PKCS7:h.PKCS7};var y=e("./mode/CBC"),g=e("./mode/ECB");o.mode={CBC:y.CBC,ECB:g.ECB},o.AES=o.lib.BlockCipher._createHelper(o.algo.AES),o.SHA256=o.lib.Hasher._createHelper(o.algo.SHA256),cc._RF.pop()},{"./algo/AES":"AES","./algo/SHA256":"SHA256","./enc/Hex":"Hex","./enc/Utf8":"Utf8","./lib/BlockCipher":"BlockCipher","./lib/CipherParams":"CipherParams","./lib/Hasher":"Hasher","./lib/PasswordBasedCipher":"PasswordBasedCipher","./lib/SerializableCipher":"SerializableCipher","./lib/WordArray":"WordArray","./mode/CBC":"CBC","./mode/ECB":"ECB","./pad/NoPadding":"NoPadding","./pad/PKCS7":"PKCS7"}],index:[function(e,t,o){"use strict";cc._RF.push(t,"30180Ip+SVOjKHh++JZRJKF","index");var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||n(t,e,o)};Object.defineProperty(o,"__esModule",{value:!0}),i(e("./Utf8"),o),cc._RF.pop()},{"./Utf8":"Utf8"}],"mesh-texture-mask":[function(e,t){"use strict";function o(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=n(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}cc._RF.push(t,"2b916xDwOJDaq/ZFI4mGP7k","mesh-texture-mask");var a=cc.gfx;cc.Class({extends:cc.Component,editor:!1,properties:{_temp_refresh:!1,temp_refresh:{displayName:"Refresh",type:cc.Boolean,get:function(){return this._temp_refresh},set:function(e){this._temp_refresh=e,this._applyVertexes()}},_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(e){this._offset=e,this.temp_refresh,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame=e,this._applySpriteFrame()},type:cc.SpriteFrame},_vertexes:{default:function(){return[cc.v2(-50,-50),cc.v2(50,-50),cc.v2(50,50),cc.v2(-50,50)]},type:[cc.Vec2]},vertexes:{tooltip:"Polygon",get:function(){return this._vertexes},set:function(e){this._vertexes=e,this._updateMesh(),this.temp_refresh,this._applyVertexes()},type:[cc.Vec2]}},onLoad:function(){this._meshCache={},this._updateMesh();var e=this.node.getComponent(cc.MeshRenderer);e||(e=this.node.addComponent(cc.MeshRenderer)),e.mesh=null,this.renderer=e;var t=cc.Material.getBuiltinMaterial("unlit");e.setMaterial(0,t),this._applySpriteFrame(),this._applyVertexes()},_updateMesh:function(){var e=this._meshCache[this.vertexes.length];e||((e=new cc.Mesh).init(new a.VertexFormat([{name:a.ATTR_POSITION,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_UV0,type:a.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=e),this.mesh=e},_applyVertexes:function(){var e=this,t=this.mesh;if(t.setVertices(a.ATTR_POSITION,this.vertexes),this.texture){for(var n,i=[],r=o(this.vertexes);!(n=r()).done;){var c=n.value,s=(c.x+this.texture.width/2+this.offset.x)/this.texture.width,l=1-(c.y+this.texture.height/2+this.offset.y)/this.texture.height;i.push(cc.v2(s,l))}t.setVertices(a.ATTR_UV0,i)}if(this.vertexes.length>=3){for(var u=[],p=[].concat(this.vertexes),d=0,f=-1;p.length>3;){var h=p[d],y=p[(d+1)%p.length],g=p[(d+2)%p.length],_=y.sub(h),v=g.sub(y);if(_.cross(v)>=0){for(var m,b=!1,C=o(p);!(m=C()).done;){var S=m.value;if(S!==h&&S!==y&&S!==g&&this._testInTriangle(S,h,y,g)){b=!0;break}}if(b){if((d=(d+1)%p.length)===f){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}else u=u.concat([this.vertexes.indexOf(h),this.vertexes.indexOf(y),this.vertexes.indexOf(g)]),p.splice(p.indexOf(y),1),f=d}else if((d=(d+1)%p.length)===f){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}d>p.length-1&&(d=p.length-1)}u=u.concat(p.map(function(t){return e.vertexes.indexOf(t)})),t.setIndices(u),this.renderer.mesh!=t&&(this.renderer.mesh=t)}},_testInTriangle:function(e,t,o,n){var i=o.sub(t),a=n.sub(t),r=n.sub(o),c=e.sub(t),s=e.sub(o);return i.cross(a)>=0^i.cross(c)<0&&i.cross(a)>=0^a.cross(c)>=0&&r.cross(i)>0^r.cross(s)>=0},_applySpriteFrame:function(){if(this.spriteFrame){var e=this.renderer._materials[0],t=this.spriteFrame.getTexture();e.define("USE_DIFFUSE_TEXTURE",!0),e.setProperty("diffuseTexture",t),this.texture=t}}}),cc._RF.pop()},{}]},{},["BackgroundLoader","CardItem","CardOpen","CardsCollectInfo","CardsCollectionPopup","CardsSetPopup","CardsSetPopupIngame","CheckLose","CheckWin","CheckWinMulti","DailyButton","PopupDaily","GameData","Guide","HomeScreen","IntroController","Loading","MainScene","PlayScreen","PrefabManager","PrefabType","ResUtil","ScreenManager","CardPrize","Chest","ChestOpen","ChestShop","Shop","WinCallBack","ActiveBox","ActiveFun","ColliderCallback","FillBannerGD","GameDistribution","GameDistributionHelper","GlanceDataAPI","Language","LocalStorageManager","NodeFixSize","NumberUpdater","ParticleLoop","PhysicalEnable","PlayerCoinUpdater","PopupDisplay","RenderMask","SetLabelLanguage","SetSpriteLanguage","Signal","SignalBinding","Task","TouchManager","FloatingAnim","FrameByFrame","OpacityAnim","RotateByRepeatAnim","RotateByRepeatAnimX2","ScaleRepeatAnim","AudioManager","AudioPlayer","MyAudioPlayer","AES","EvpKDF","MD5","SHA256","crypto-ts","Base64","Encoding","Hex","Latin1","Utf8","index","Formatter","OpenSSL","KDF","OpenSSLKdf","Base","BlockCipher","BufferedBlockAlgorithm","BufferedBlockAlgorithmConfig","Cipher","CipherParams","CipherParamsInterface","Hasher","PasswordBasedCipher","SerializableCipher","WordArray","BlockCipherMode","BlockCipherModeAlgorithm","CBC","CBCDecryptor","CBCEncryptor","ECB","ECBDecryptor","ECBEncryptor","NoPadding","PKCS7","Padding","mesh-texture-mask","ToggleSlider","ToggleSliderGroup","ArrayUtil","GUIUtil","MathUtil","StringUtil","AudioPlayId","CaseLose","DailyConfig","GameConfig","GameState","GlobalSignals","GroupConfig","ItemLevelSkin","ItemLevelType","LevelConfig","PetConfig","PhysicsConfig","PuzzlesConfig","QuestType","RoomConfig","SkinConfig","TagObject","DoubleSpine","SpawnPrefabs","SyncPosition","WinNodeCallBack","Hand","BgWinPanel","MapLevel","RedirectBox","UIController","WinPanel","animOpenDecorator","StickHold","Character","ColliderGround","ColliderSearch","Couple","Daughter","Boar","Dog","Elf","Enemies","Ghost","ICharacterCollider","Mom","MoveCtrl","Native","Ball","GasGO","GemsGO","GemsPool","LavaGO","RockGO","SnowGO","WaterGO","CoalGO","ContainType","Container","DirtyGO","Libbey","SmokeGO","WallBreak","BigBang","BigStone","Bomb","Bullet","CampFire","FireBall","ItemCard","ItemChest","ItemLevel","ItemLoot","ItemPart","ItemPuzzle","ItemSync","Lazer","LazerLine","Mirror","NormalBomb","Portal","Pow","WaterSplash","RopeFull","RopePart","Egg","ItemPetSwitch","Pet","PetDataManager","PetItem","PetManager","PetPanalSwitch","PetPopup","PetWalkFollowDance","PetWalkIdleAnim","FBInstantData","CheckWinPuzzles","PuzzlesPopup","BuildItem","GuideController","GuideControllerCards","GuideStep","IslandConfig","UpgradeBuilding","FxUpgrade","MyRoom","OpenItem","ReplaceItem","RoomPopup","SelectRoomItem","SkinBossUpdater","SkinDaughterUpdater","SkinItem","SkinPopup","SlotsSpineDuplicate","TestPhysics","TestSkeleton","ButtonActive","CoinText","FlyingCoins","IconQuest","SettingsPopup","Specular_gloss","ToastReward"]);